{"version":3,"sources":["webpack:///webpack/bootstrap 43cf02a0dde138494673","webpack:///./node_modules/cssprefix/src/cssprefix.js","webpack:///./node_modules/m-class-list/src/m-class-list.js","webpack:///./node_modules/anim-event/src/anim-event.js","webpack:///./src/plain-modal.js","webpack:///./node_modules/plain-overlay/src/plain-overlay.js","webpack:///./node_modules/timed-transition/src/timed-transition.js","webpack:///./node_modules/plain-overlay/src/default.scss","webpack:///./src/default.scss","webpack:///./node_modules/plain-draggable/src/plain-draggable.js"],"names":["ucf","text","substr","toUpperCase","PREFIXES","NAME_PREFIXES","reduce","prefixes","prefix","push","VALUE_PREFIXES","map","getDeclaration","declaration","document","createElement","style","normalizeName","rePrefixedName","RegExp","join","reUc","propName","replace","str","p1","test","toLowerCase","normalizeValue","rePrefixedValue","propValue","cssSupports","setProperty","getPropertyValue","propNames","propValues","window","getName","getNameDone","ucfName","some","prefixed","getValue","res","Array","isArray","getValueDone","CSSPrefix","normalize","token","trim","applyList","list","element","setAttribute","add","tokens","filter","indexOf","length","remove","i","splice","toggle","force","newToken","mClassList","ignoreNative","classList","getAttribute","split","ins","item","contains","prototype","slice","call","arguments","methodChain","MSPF","KEEP_LOOP","tasks","requestAnim","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","setTimeout","callback","cancelAnim","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","requestID","lastFrameTime","Date","now","requestAnimSave","cancelAnimSave","AnimEventByTimer","byTimer","step","called","next","forEach","task","event","listener","indexOfTasks","index","AnimEvent","iRemove","APP_ID","STYLE_ELEMENT_ID","STYLE_CLASS","STYLE_CLASS_CONTENT","STYLE_CLASS_OVERLAY","STYLE_CLASS_OVERLAY_HIDE","STYLE_CLASS_OVERLAY_FORCE","STATE_CLOSED","STATE_OPENING","STATE_OPENED","STATE_CLOSING","STATE_INACTIVATING","STATE_INACTIVATED","STATE_ACTIVATING","DURATION","IS_TRIDENT","uniqueID","IS_EDGE","documentElement","navigator","msPointerEnabled","isObject","toString","fnToString","hasOwnProperty","objFnString","Object","proto","constr","obj","getPrototypeOf","constructor","insProps","shownProps","insId","openCloseEffectProps","closeByEscKey","closeByOverlay","traceLog","STATE_TEXT","forceReflow","target","parent","parentNode","nextSibling","insertBefore","removeChild","isElement","nodeType","Node","ELEMENT_NODE","getBoundingClientRect","compareDocumentPosition","DOCUMENT_POSITION_DISCONNECTED","switchDraggable","props","_id","state","plainDraggable","options","dragHandle","disabled","position","finishOpening","parentProps","onOpen","finishClosing","Error","pop","onClose","finishOpenEffect","effectKey","effectFinished","plainOverlay","option","openEffect","finishCloseEffect","closeEffect","execOpening","elmOverlay","duration","elmOverlayClassList","show","openEffectDone","execClosing","sync","hide","closeEffectDone","fixOpenClose","open","onBeforeOpen","close","onBeforeClose","topProps","setOptions","newOptions","closeButton","removeEventListener","handleClose","addEventListener","blur","overlayBlur","elmContent","handle","PlainModal","content","defineProperty","value","ownerDocument","defaultView","getElementById","head","getElementsByTagName","sheet","firstChild","type","id","textContent","key","preventDefault","stopImmediatePropagation","stopPropagation","face","onShow","onHide","getComputedStyle","display","elmPlainOverlayBody","appendChild","className","effectDone","STYLE_CLASS_DOC","STYLE_CLASS_SHOW","STYLE_CLASS_HIDE","STYLE_CLASS_FORCE","STYLE_CLASS_BODY","FACE_DEFS_ELEMENT_ID","STATE_HIDDEN","STATE_SHOWING","STATE_SHOWN","STATE_HIDING","TOLERANCE","IS_WEBKIT","chrome","IS_BLINK","webstore","IS_GECKO","isFinite","Number","setStyle","styleProps","savedStyleProps","keys","prop","restoreStyle","getBBox","rect","bBox","left","top","right","bottom","width","height","pageXOffset","pageYOffset","scrollLeft","isDoc","scrollTo","scrollTop","resizeTarget","elmTargetBody","Math","abs","targetBodyCmpStyle","boxSizing","includeProps","PROP_NAMES","border","padding","values","dir","part","parseFloat","savedStyleTargetBody","fixStyle","console","warn","getDocClientWH","elmTarget","clientWidth","clientHeight","wMode","writingMode","direction","restoreScroll","scrollElement","error","savedElementsScroll","elementScroll","restoreAccKeys","savedElementsAccKeys","elementAccKeys","tabIndex","removeAttribute","accessKey","avoidFocus","tagName","body","DOCUMENT_POSITION_CONTAINED_BY","focus","selContainsNode","selection","node","partialContainment","nodeRange","createRange","iLen","rangeCount","selectNodeContents","selRange","getRangeAt","log","setStart","anchorNode","anchorOffset","setEnd","focusNode","focusOffset","compareBoundaryPoints","Range","START_TO_END","END_TO_START","START_TO_START","END_TO_END","nodeContainsSel","selectNode","avoidSelect","getSelection","start","end","TEXT_NODE","isCollapsed","elmOverlayBody","containsNode","removeAllRanges","barLeft","svgSpec","barTop","disableDocBars","targetBodyRect","clientWH","barV","barH","overflow","savedStyleTarget","propV","propH","addStyle","targetBodyBBox","overlayCmpStyle","overlayBBox","borders","offset","reValue","hBorder","vBorder","corner","h","v","matches","exec","getTargetElements","targetElements","childNodes","childNode","apply","querySelectorAll","finishShowing","filterElements","savedStyle","filterElement","finishHiding","activeElement","stateSave","focusListener","restoreAndFinish","timerRestoreAndFinish","getScroll","elements","fromDoc","elementCanScroll","cmpStyle","nodeName","overflowX","overflowY","elementsScroll","disableAccKeys","hasAttribute","onBeforeShow","disabledDocBars","offsetWidth","onPosition","transition","on","onBeforeHide","off","scroll","dirLeft","curValue","find","found","PlainOverlay","getTarget","validElement","DOCUMENT_NODE","contentDocument","elmDocument","procToOn","procToOff","property","propertyName","resizing","lastBBox","limit","STATE_STOPPED","STATE_DELAYING","STATE_PLAYING","PREFIX","EVENT_TYPE_RUN","EVENT_TYPE_START","EVENT_TYPE_END","EVENT_TYPE_CANCEL","roundTime","timeValue","round","fireEvent","isOn","runTime","startTime","currentPosition","initTime","min","max","delay","elapsedTime","TransitionEvent","pseudoElement","bubbles","cancelable","createEvent","initTransitionEvent","timedTransition","dispatchEvent","fixCurrentPosition","playingTime","finishAll","finishPlaying","finishDelaying","isReversing","durationLeft","timer","abort","parseAsCss","optionValue","lastParseAsCss","TimedTransition","initOn","ZINDEX","activeItem","hasMoved","pointerOffset","cssValueDraggableCursor","cssValueDraggingCursor","cssOrgValueBodyCursor","cssPropTransform","cssPropUserSelect","cssOrgValueBodyUserSelect","cssWantedValueDraggableCursor","cssWantedValueDraggingCursor","draggableClass","draggingClass","movingClass","copyTree","copyObj","hasChanged","a","b","typeA","keysA","sort","aVal","validBBox","x","y","validPPValue","string2PPValue","inString","isRatio","ppValue2OptionValue","ppValue","resolvePPValue","baseOrigin","baseSize","validPPBBox","ppBBox2OptionObject","ppBBox","resolvePPBBox","baseBBox","prop2Axis","baseOriginXY","baseSizeXY","getPaddingBox","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","borderLeft","borderLeftWidth","initAnim","gpuTrigger","webkitTapHighlightColor","cssPropBoxShadow","boxShadow","setDraggableCursor","orgCursor","cursor","setDraggingCursor","moveTranslate","elementBBox","htmlOffset","elementStyle","move","cbCheck","fix","minLeft","maxLeft","minTop","maxTop","moved","moveElm","initTranslate","curPosition","RESTORE_PROPS","unshift","orgStyle","lastStyle","orgSize","dirProp","newBBox","initBBox","initElm","docBBox","containmentBBox","containmentIsBBox","containment","initBBoxDone","dragEnd","zIndex","orgZIndex","onDragEnd","mousedown","pageX","pageY","needsInitBBox","scrollElements","handleScroll","fixedElement","SVGElement","dragstart","orgUserSelect","handleMousedown","needsMove","bind","PlainDraggable","initArguments","cssPropWillChange","leftTop","onDrag","onMove","onMoveStart","initDoc"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA;;;;;;;;AAQA,SAASA,GAAT,CAAaC,IAAb,EAAmB;AAAE,SAAOA,KAAKC,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkBC,WAAlB,KAAkCF,KAAKC,MAAL,CAAY,CAAZ,CAAzC;AAA0D;;AAE/E,IAAME,WAAW,CAAC,QAAD,EAAW,IAAX,EAAiB,KAAjB,EAAwB,GAAxB,CAAjB;AAAA,IACEC,gBAAgBD,SAASE,MAAT,CAAgB,UAACC,QAAD,EAAWC,MAAX,EAAsB;AACpDD,WAASE,IAAT,CAAcD,MAAd;AACAD,WAASE,IAAT,CAAcT,IAAIQ,MAAJ,CAAd;AACA,SAAOD,QAAP;AACD,CAJe,EAIb,EAJa,CADlB;AAAA,IAMEG,iBAAiBN,SAASO,GAAT,CAAa;AAAA,eAAcH,MAAd;AAAA,CAAb,CANnB;;;AAQE;;;;AAIAI,iBAAkB,YAAM;AACtB,MAAIC,oBAAJ;AACA,SAAO;AAAA,WAAOA,cAAcA,eAAeC,SAASC,aAAT,CAAuB,KAAvB,EAA8BC,KAAlE;AAAA,GAAP;AACD,CAHgB,EAZnB;;;AAiBE;;;;;AAKAC,gBAAiB,YAAM;AACrB,MAAMC,iBAAiB,IAAIC,MAAJ,CAAW,SAASf,SAASgB,IAAT,CAAc,GAAd,CAAT,GAA8B,MAAzC,EAAiD,GAAjD,CAAvB;AAAA,MACEC,OAAO,OADT;AAEA,SAAO;AAAA,WAAY,CAACC,WAAW,CAACA,WAAW,EAAZ,EAAgBC,OAAhB,CAAwB,KAAxB,EAA+B,EAA/B,EAC5BA,OAD4B,CACpB,cADoB,EACJ,UAACC,GAAD,EAAMC,EAAN;AAAA,aAAaA,GAAGtB,WAAH,EAAb;AAAA,KADI,EAC2B;AACxD;AAF6B,KAG5BoB,OAH4B,CAGpBL,cAHoB,EAGJ,UAACM,GAAD,EAAMC,EAAN;AAAA,aAAaJ,KAAKK,IAAL,CAAUD,EAAV,IAAgBA,GAAGE,WAAH,EAAhB,GAAmCH,GAAhD;AAAA,KAHI,CAAZ,CAG6D;AAH7D,MAIjBG,WAJiB,OAIC,OAJD,GAIW,UAJX,GAIwBL,QAJpC;AAAA,GAAP,CAHqB,CAOgC;AACtD,CARe,EAtBlB;;;AAgCE;;;;;AAKAM,iBAAkB,YAAM;AACtB,MAAMC,kBAAkB,IAAIV,MAAJ,CAAW,SAAST,eAAeU,IAAf,CAAoB,GAApB,CAAT,GAAoC,GAA/C,EAAoD,GAApD,CAAxB;AACA,SAAO;AAAA,WAAa,CAACU,YAAY,EAAb,EAAiBP,OAAjB,CAAyB,KAAzB,EAAgC,EAAhC,EAAoCA,OAApC,CAA4CM,eAA5C,EAA6D,EAA7D,CAAb;AAAA,GAAP;AACD,CAHgB,EArCnB;;;AA0CE;;;;;;AAMAE,cAAe,YAAM;AACnB;AACA;AACA,SAAQ,UAACT,QAAD,EAAWQ,SAAX,EAAyB;AAC/B,QAAMjB,cAAcD,gBAApB;AACA;AACAU,eAAWA,SAASC,OAAT,CAAiB,QAAjB,EAA2B;AAAA,mBAAWC,IAAIG,WAAJ,EAAX;AAAA,KAA3B,CAAX,CAH+B,CAGwC;AACvEd,gBAAYmB,WAAZ,CAAwBV,QAAxB,EAAkCQ,SAAlC;AACA,WAAOjB,YAAYoB,gBAAZ,CAA6BX,QAA7B,MAA2CQ,SAAlD;AACD,GAND;AAOD,CAVa,EAhDhB;AAAA,IA4DEI,YAAY,EA5Dd;AAAA,IA4DkBC,aAAa,EA5D/B,C,CA4DmC;;AAEnC;AACAC,OAAOnB,aAAP,GAAuBA,aAAvB;AACAmB,OAAOR,cAAP,GAAwBA,cAAxB;AACAQ,OAAOL,WAAP,GAAqBA,WAArB;AACA;;AAEA,SAASM,OAAT,CAAiBf,QAAjB,EAA2B;AACzBA,aAAWL,cAAcK,QAAd,CAAX;AACA,MAAIA,YAAYY,UAAUZ,QAAV,KAAuB,IAAvC,EAA6C;AAC3Cc,WAAOE,WAAP,GAAqB,KAArB,CAD2C,CACf;AAC5B,QAAMzB,cAAcD,gBAApB;;AAEA,QAAIC,YAAYS,QAAZ,KAAyB,IAA7B,EAAmC;AAAE;AACnCY,gBAAUZ,QAAV,IAAsBA,QAAtB;AAED,KAHD,MAGO;AAAE;AACP,UAAMiB,UAAUvC,IAAIsB,QAAJ,CAAhB;AACA,UAAI,CAACjB,cAAcmC,IAAd,CAAmB,kBAAU;AAChC,YAAMC,WAAWjC,SAAS+B,OAA1B;AACA,YAAI1B,YAAY4B,QAAZ,KAAyB,IAA7B,EAAmC;AACjCP,oBAAUZ,QAAV,IAAsBmB,QAAtB;AACA,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,OAPI,CAAL,EAOI;AACFP,kBAAUZ,QAAV,IAAsB,KAAtB;AACD;AACF;AAEF;AACD,SAAOY,UAAUZ,QAAV,KAAuB,KAAK,CAAnC;AACD;;AAED,SAASoB,QAAT,CAAkBpB,QAAlB,EAA4BQ,SAA5B,EAAuC;AACrC,MAAIa,YAAJ;;AAEA,MAAI,EAAErB,WAAWe,QAAQf,QAAR,CAAb,CAAJ,EAAqC;AAAE,WAAOqB,GAAP;AAAa,GAHf,CAGgB;;AAErDR,aAAWb,QAAX,IAAuBa,WAAWb,QAAX,KAAwB,EAA/C;AACA,GAACsB,MAAMC,OAAN,CAAcf,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAAxC,EAAqDU,IAArD,CAA0D,qBAAa;AACrEV,gBAAYF,eAAeE,SAAf,CAAZ;AACA,KAACM,OAAOU,YAAP,GAAsBV,OAAOU,YAAP,IAAuB,EAA9C,EAAkDrC,IAAlD,CAAuDqB,SAAvD,EAFqE,CAEF;;AAEnE,QAAIK,WAAWb,QAAX,EAAqBQ,SAArB,KAAmC,IAAvC,EAA6C;AAAE;AAC7C,UAAIK,WAAWb,QAAX,EAAqBQ,SAArB,MAAoC,KAAxC,EAA+C;AAC7Ca,cAAMR,WAAWb,QAAX,EAAqBQ,SAArB,CAAN;AACA,eAAO,IAAP;AACD,OAHD,MAGO;AACL,eAAO,KAAP,CADK,CACS;AACf;AACF;AACDM,WAAOU,YAAP,CAAoBrC,IAApB,CAAyB,KAAzB,EAZqE,CAYpC;;AAEjC,QAAIsB,YAAYT,QAAZ,EAAsBQ,SAAtB,CAAJ,EAAsC;AAAE;AACtCa,YAAMR,WAAWb,QAAX,EAAqBQ,SAArB,IAAkCA,SAAxC;AACA,aAAO,IAAP;AACD;;AAED,QAAIpB,eAAe8B,IAAf,CAAoB,kBAAU;AAAE;AAClC,UAAMC,WAAWjC,SAASsB,SAA1B;AACA,UAAIC,YAAYT,QAAZ,EAAsBmB,QAAtB,CAAJ,EAAqC;AACnCE,cAAMR,WAAWb,QAAX,EAAqBQ,SAArB,IAAkCW,QAAxC;AACA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD,KAPG,CAAJ,EAOI;AACF,aAAO,IAAP;AACD;;AAEDN,eAAWb,QAAX,EAAqBQ,SAArB,IAAkC,KAAlC;AACA,WAAO,KAAP,CA/BqE,CA+BvD;AACf,GAhCD;;AAkCA,SAAO,OAAOa,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgC,KAAK,CAA5C,CAxCqC,CAwCU;AAChD;;AAED,IAAMI,YAAY;AAChBV,WAASA,OADO;AAEhBK,YAAUA;AAFM,CAAlB;;kBAKeK,S;;;;;;;;;;;;;ACzJf;;;;;;;;AAQA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,SAAO,CAACA,QAAQ,EAAT,EAAaC,IAAb,EAAP;AAA6B,C,CAAC;AAC1D,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,OAAzB,EAAkC;AAAEA,UAAQC,YAAR,CAAqB,OAArB,EAA8BF,KAAKhC,IAAL,CAAU,GAAV,CAA9B;AAAgD;;AAEpF,SAASmC,IAAT,CAAaH,IAAb,EAAmBC,OAAnB,EAA4BG,MAA5B,EAAoC;AAClC,MAAIA,OAAOC,MAAP,CAAc,iBAAS;AACzB,QAAI,EAAER,QAAQD,UAAUC,KAAV,CAAV,KAA+BG,KAAKM,OAAL,CAAaT,KAAb,MAAwB,CAAC,CAA5D,EAA+D;AAAE,aAAO,KAAP;AAAe;AAChFG,SAAK3C,IAAL,CAAUwC,KAAV;AACA,WAAO,IAAP;AACD,GAJG,EAIDU,MAJH,EAIW;AACTR,cAAUC,IAAV,EAAgBC,OAAhB;AACD;AACF;;AAED,SAASO,OAAT,CAAgBR,IAAhB,EAAsBC,OAAtB,EAA+BG,MAA/B,EAAuC;AACrC,MAAIA,OAAOC,MAAP,CAAc,iBAAS;AACzB,QAAII,UAAJ;AACA,QAAI,EAAEZ,QAAQD,UAAUC,KAAV,CAAV,KAA+B,CAACY,IAAIT,KAAKM,OAAL,CAAaT,KAAb,CAAL,MAA8B,CAAC,CAAlE,EAAqE;AAAE,aAAO,KAAP;AAAe;AACtFG,SAAKU,MAAL,CAAYD,CAAZ,EAAe,CAAf;AACA,WAAO,IAAP;AACD,GALG,EAKDF,MALH,EAKW;AACTR,cAAUC,IAAV,EAAgBC,OAAhB;AACD;AACF;;AAED,SAASU,OAAT,CAAgBX,IAAhB,EAAsBC,OAAtB,EAA+BJ,KAA/B,EAAsCe,KAAtC,EAA6C;AAC3C,MAAMH,IAAIT,KAAKM,OAAL,CAAcT,QAAQD,UAAUC,KAAV,CAAtB,CAAV;AACA,MAAIY,MAAM,CAAC,CAAX,EAAc;AACZ,QAAIG,KAAJ,EAAW;AAAE,aAAO,IAAP;AAAc;AAC3BZ,SAAKU,MAAL,CAAYD,CAAZ,EAAe,CAAf;AACAV,cAAUC,IAAV,EAAgBC,OAAhB;AACA,WAAO,KAAP;AACD,GALD,MAKO;AACL,QAAIW,UAAU,KAAd,EAAqB;AAAE,aAAO,KAAP;AAAe;AACtCZ,SAAK3C,IAAL,CAAUwC,KAAV;AACAE,cAAUC,IAAV,EAAgBC,OAAhB;AACA,WAAO,IAAP;AACD;AACF;;AAED,SAAS9B,QAAT,CAAiB6B,IAAjB,EAAuBC,OAAvB,EAAgCJ,KAAhC,EAAuCgB,QAAvC,EAAiD;AAC/C,MAAIJ,UAAJ;AACA,MAAI,EAAEZ,QAAQD,UAAUC,KAAV,CAAV,KAA+B,EAAEgB,WAAWjB,UAAUiB,QAAV,CAAb,CAA/B,IACFhB,UAAUgB,QADR,IACoB,CAACJ,IAAIT,KAAKM,OAAL,CAAaT,KAAb,CAAL,MAA8B,CAAC,CADvD,EAC0D;AAAE;AAAS;AACrEG,OAAKU,MAAL,CAAYD,CAAZ,EAAe,CAAf;AACA,MAAIT,KAAKM,OAAL,CAAaO,QAAb,MAA2B,CAAC,CAAhC,EAAmC;AAAEb,SAAK3C,IAAL,CAAUwD,QAAV;AAAsB;AAC3Dd,YAAUC,IAAV,EAAgBC,OAAhB;AACD;;AAED,SAASa,UAAT,CAAoBb,OAApB,EAA6B;AAC3B,SAAO,CAACa,WAAWC,YAAZ,IAA4Bd,QAAQe,SAApC,IAAkD,YAAM;AAC7D,QAAMhB,OAAO,CAACC,QAAQgB,YAAR,CAAqB,OAArB,KAAiC,EAAlC,EAAsCnB,IAAtC,GAA6CoB,KAA7C,CAAmD,KAAnD,EAA0Db,MAA1D,CAAiE;AAAA,aAAS,CAAC,CAACR,KAAX;AAAA,KAAjE,CAAb;AAAA,QACEsB,MAAM;AACJZ,cAAQP,KAAKO,MADT;AAEJa,YAAM;AAAA,eAAKpB,KAAKS,CAAL,CAAL;AAAA,OAFF;AAGJY,gBAAU;AAAA,eAASrB,KAAKM,OAAL,CAAaV,UAAUC,KAAV,CAAb,MAAmC,CAAC,CAA7C;AAAA,OAHN;AAIJM,WAAK,eAAW;AACdA,aAAIH,IAAJ,EAAUC,OAAV,EAAmBT,MAAM8B,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAnB;AACA,eAAOX,WAAWY,WAAX,GAAyBP,GAAzB,GAA+B,KAAK,CAA3C;AACD,OAPG;AAQJX,cAAQ,kBAAW;AACjBA,gBAAOR,IAAP,EAAaC,OAAb,EAAsBT,MAAM8B,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAtB;AACA,eAAOX,WAAWY,WAAX,GAAyBP,GAAzB,GAA+B,KAAK,CAA3C;AACD,OAXG;AAYJR,cAAQ,gBAACd,KAAD,EAAQe,KAAR;AAAA,eAAkBD,QAAOX,IAAP,EAAaC,OAAb,EAAsBJ,KAAtB,EAA6Be,KAA7B,CAAlB;AAAA,OAZJ;AAaJzC,eAAS,iBAAC0B,KAAD,EAAQgB,QAAR,EAAqB;AAC5B1C,iBAAQ6B,IAAR,EAAcC,OAAd,EAAuBJ,KAAvB,EAA8BgB,QAA9B;AACA,eAAOC,WAAWY,WAAX,GAAyBP,GAAzB,GAA+B,KAAK,CAA3C;AACD;AAhBG,KADR;AAmBA,WAAOA,GAAP;AACD,GArBuD,EAAxD;AAsBD;;AAEDL,WAAWY,WAAX,GAAyB,IAAzB;;kBAEeZ,U;;;;;;;;;;;;;ACnFf;;;;;;;;AAQA,IACEa,OAAO,OAAO,EADhB;AAAA,IACoB;AAClBC,YAAY,GAFd;;;AAIE;;;;;;AAMA;AACAC,QAAQ,EAXV;;AAaA,IACEC,cAAc9C,OAAO+C,qBAAP,IACZ/C,OAAOgD,wBADK,IAEZhD,OAAOiD,2BAFK,IAGZjD,OAAOkD,uBAHK,IAIX;AAAA,SAAYC,WAAWC,QAAX,EAAqBT,IAArB,CAAZ;AAAA,CALL;AAAA,IAMEU,aAAarD,OAAOsD,oBAAP,IACXtD,OAAOuD,uBADI,IAEXvD,OAAOwD,0BAFI,IAGXxD,OAAOyD,sBAHI,IAIV;AAAA,SAAaC,aAAaC,SAAb,CAAb;AAAA,CAVL;AAAA,IAYEA,kBAZF;AAAA,IAYaC,gBAAgBC,KAAKC,GAAL,EAZ7B;;AAcA;AACA,IAAMC,kBAAkBjB,WAAxB;AAAA,IAAqCkB,iBAAiBX,UAAtD;AACArD,OAAOiE,gBAAP,GAA0B,mBAAW;AACnC,MAAIC,OAAJ,EAAa;AACXpB,kBAAc;AAAA,aAAYK,WAAWC,QAAX,EAAqBT,IAArB,CAAZ;AAAA,KAAd;AACAU,iBAAa;AAAA,aAAaK,aAAaC,SAAb,CAAb;AAAA,KAAb;AACD,GAHD,MAGO;AACLb,kBAAciB,eAAd;AACAV,iBAAaW,cAAb;AACD;AACF,CARD;AASA;;AAEA,SAASG,IAAT,GAAgB;AACd,MAAIC,eAAJ;AAAA,MAAYC,aAAZ;;AAEA,MAAIV,SAAJ,EAAe;AACbN,eAAWb,IAAX,CAAgBxC,MAAhB,EAAwB2D,SAAxB;AACAA,gBAAY,IAAZ;AACD;;AAEDd,QAAMyB,OAAN,CAAc,gBAAQ;AACpB,QAAIC,KAAKC,KAAT,EAAgB;AACdD,WAAKE,QAAL,CAAcF,KAAKC,KAAnB;AACAD,WAAKC,KAAL,GAAa,IAAb;AACAJ,eAAS,IAAT;AACD;AACF,GAND;;AAQA,MAAIA,MAAJ,EAAY;AACVR,oBAAgBC,KAAKC,GAAL,EAAhB;AACAO,WAAO,IAAP;AACD,GAHD,MAGO,IAAIR,KAAKC,GAAL,KAAaF,aAAb,GAA6BhB,SAAjC,EAA4C;AAAE;AACnDyB,WAAO,IAAP;AACD;AACD,MAAIA,IAAJ,EAAU;AAAEV,gBAAYb,YAAYN,IAAZ,CAAiBxC,MAAjB,EAAyBmE,IAAzB,CAAZ;AAA6C;AAC1D;;AAED,SAASO,YAAT,CAAsBD,QAAtB,EAAgC;AAC9B,MAAIE,QAAQ,CAAC,CAAb;AACA9B,QAAMzC,IAAN,CAAW,UAACmE,IAAD,EAAO9C,CAAP,EAAa;AACtB,QAAI8C,KAAKE,QAAL,KAAkBA,QAAtB,EAAgC;AAC9BE,cAAQlD,CAAR;AACA,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GAND;AAOA,SAAOkD,KAAP;AACD;;AAED,IAAMC,YAAY;AAChB;;;;AAIAzD,OAAK,aAASsD,QAAT,EAAmB;AACtB,QAAIF,aAAJ;AACA,QAAIG,aAAaD,QAAb,MAA2B,CAAC,CAAhC,EAAmC;AACjC5B,YAAMxE,IAAN,CAAYkG,OAAO,EAACE,UAAUA,QAAX,EAAnB;AACA,aAAO,iBAAS;AACdF,aAAKC,KAAL,GAAaA,KAAb;AACA,YAAI,CAACb,SAAL,EAAgB;AAAEQ;AAAS;AAC5B,OAHD;AAID,KAND,MAMO;AACL,aAAO,IAAP;AACD;AACF,GAhBe;;AAkBhB3C,UAAQ,gBAASiD,QAAT,EAAmB;AACzB,QAAII,gBAAJ;AACA,QAAI,CAACA,UAAUH,aAAaD,QAAb,CAAX,IAAqC,CAAC,CAA1C,EAA6C;AAC3C5B,YAAMnB,MAAN,CAAamD,OAAb,EAAsB,CAAtB;AACA,UAAI,CAAChC,MAAMtB,MAAP,IAAiBoC,SAArB,EAAgC;AAC9BN,mBAAWb,IAAX,CAAgBxC,MAAhB,EAAwB2D,SAAxB;AACAA,oBAAY,IAAZ;AACD;AACF;AACF;AA3Be,CAAlB;;kBA8BeiB,S;;;;;;;;;;;;;;qjBCnHf;;;;;;;;AAYA;;;AAJA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;AACA;AACA,qBAAW7C,YAAX,GAA0B,IAA1B;;AAEA,IACE+C,SAAS,YADX;AAAA,IAEEC,mBAAsBD,MAAtB,WAFF;AAAA,IAGEE,cAAcF,MAHhB;AAAA,IAIEG,sBAAyBH,MAAzB,aAJF;AAAA,IAKEI,sBAAyBJ,MAAzB,aALF;AAAA,IAMEK,2BAA8BD,mBAA9B,UANF;AAAA,IAOEE,4BAA+BF,mBAA/B,WAPF;AAAA,IASEG,eAAe,CATjB;AAAA,IASoBC,gBAAgB,CATpC;AAAA,IASuCC,eAAe,CATtD;AAAA,IASyDC,gBAAgB,CATzE;AAAA,IAUEC,qBAAqB,CAVvB;AAAA,IAU0BC,oBAAoB,CAV9C;AAAA,IAUiDC,mBAAmB,CAVpE;AAAA,IAWEC,WAAW,GAXb;AAAA,IAWkB;;AAEhBC,aAAa,CAAC,CAACnH,SAASoH,QAb1B;AAAA,IAcEC,UAAU,sBAAsBrH,SAASsH,eAAT,CAAyBpH,KAA/C,IACR,mBAAmBF,SAASsH,eAAT,CAAyBpH,KADpC,IAC6C,CAACoB,OAAOiG,SAAP,CAAiBC,gBAf3E;AAAA,IAiBEC,WAAY,YAAM;AAChB,MAAMC,WAAW,GAAGA,QAApB;AAAA,MAA8BC,aAAa,GAAGC,cAAH,CAAkBF,QAA7D;AAAA,MACEG,cAAcF,WAAW7D,IAAX,CAAgBgE,MAAhB,CADhB;AAEA,SAAO,eAAO;AACZ,QAAIC,cAAJ;AAAA,QAAWC,eAAX;AACA,WAAOC,OAAOP,SAAS5D,IAAT,CAAcmE,GAAd,MAAuB,iBAA9B,KACJ,EAAEF,QAAQD,OAAOI,cAAP,CAAsBD,GAAtB,CAAV,KACC,CAACD,SAASD,MAAMH,cAAN,CAAqB,aAArB,KAAuCG,MAAMI,WAAvD,KACA,OAAOH,MAAP,KAAkB,UADlB,IACgCL,WAAW7D,IAAX,CAAgBkE,MAAhB,MAA4BH,WAHzD,CAAP;AAID,GAND;AAOD,CAVU,EAjBb;;;AA6BE;;;;;;;;;;;;;AAaA;AACAO,WAAW,EA3Cb;;;AA6CE;;;;;AAKAC,aAAa,EAlDf;;AAoDA,IAAIC,QAAQ,CAAZ;AAAA,IACEC,6BADF;AAAA,IACwB;AACtBC,gBAAgB,IAFlB;AAAA,IAEwBC,iBAAiB,IAFzC;;AAIA;AACAnH,OAAO8G,QAAP,GAAkBA,QAAlB;AACA9G,OAAO+G,UAAP,GAAoBA,UAApB;AACA;;AAEA;AACA,IAAMK,WAAW,EAAjB;AACA,IAAMC,aAAa,EAAnB;AACAA,WAAWhC,YAAX,IAA2B,cAA3B;AACAgC,WAAW/B,aAAX,IAA4B,eAA5B;AACA+B,WAAW9B,YAAX,IAA2B,cAA3B;AACA8B,WAAW7B,aAAX,IAA4B,eAA5B;AACA6B,WAAW5B,kBAAX,IAAiC,oBAAjC;AACA4B,WAAW3B,iBAAX,IAAgC,mBAAhC;AACA2B,WAAW1B,gBAAX,IAA+B,kBAA/B;AACA;;AAEA,SAAS2B,WAAT,CAAqBC,MAArB,EAA6B;AAC3B;AACApE,aAAW,YAAM;AACf,QAAMqE,SAASD,OAAOE,UAAtB;AAAA,QAAkCpD,OAAOkD,OAAOG,WAAhD;AACA;AACAF,WAAOG,YAAP,CAAoBH,OAAOI,WAAP,CAAmBL,MAAnB,CAApB,EAAgDlD,IAAhD;AACD,GAJD,EAIG,CAJH;AAKD;;AAED;;;;AAIA,SAASwD,SAAT,CAAmB5G,OAAnB,EAA4B;AAC1B,SAAO,CAAC,EAAEA,WACRA,QAAQ6G,QAAR,KAAqBC,KAAKC,YADlB;AAER;AACA,SAAO/G,QAAQgH,qBAAf,KAAyC,UAHjC,IAIR,EAAEhH,QAAQiH,uBAAR,CAAgCxJ,QAAhC,IAA4CqJ,KAAKI,8BAAnD,CAJM,CAAR;AAKD;;AAED;AACA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B;AACAjB,WAAS/I,IAAT,CAAc,mBAAd,WAA0CgK,MAAMC,GAAhD,aAAgEjB,WAAWgB,MAAME,KAAjB,CAAhE;AACA;AACA,MAAIF,MAAMG,cAAV,EAA0B;AACxB;AACApB,aAAS/I,IAAT,8BAC6B,EAAEgK,MAAMI,OAAN,CAAcC,UAAd,IAA4BL,MAAME,KAAN,KAAgBhD,YAA9C,CAD7B;AAEA;AACA,QAAMoD,WAAW,EAAEN,MAAMI,OAAN,CAAcC,UAAd,IAA4BL,MAAME,KAAN,KAAgBhD,YAA9C,CAAjB;AACA8C,UAAMG,cAAN,CAAqBG,QAArB,GAAgCA,QAAhC;AACA,QAAI,CAACA,QAAL,EAAe;AAAEN,YAAMG,cAAN,CAAqBI,QAArB;AAAkC;AACnD;AACD,GATD,MASO;AACLxB,aAAS/I,IAAT,CAAc,qBAAd;AACA;AACD;AACD+I,WAAS/I,IAAT,CAAc,oBAAd,EAjB8B,CAiBO;AACtC;AACD;;AAEA,SAASwK,aAAT,CAAuBR,KAAvB,EAA8B;AAC5B;AACAjB,WAAS/I,IAAT,CAAc,iBAAd,WAAwCgK,MAAMC,GAA9C,aAA8DjB,WAAWgB,MAAME,KAAjB,CAA9D;AACA;AACAtB,yBAAuB,IAAvB;AACAoB,QAAME,KAAN,GAAchD,YAAd;AACA6B,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAN4B,CAMuB;AACnDH,kBAAgBC,KAAhB,EAP4B,CAOJ;AACxB,MAAIA,MAAMS,WAAV,EAAuB;AACrB;AACA1B,aAAS/I,IAAT,sBAAiCgK,MAAMS,WAAN,CAAkBR,GAAnD,yBACuBjB,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CADvB;AAEA;AACAF,UAAMS,WAAN,CAAkBP,KAAlB,GAA0B7C,iBAA1B;AACA0B,aAAS/I,IAAT,wBAAmCgJ,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CAAnC,EANqB,CAMsD;AAC5E;AACD,MAAIF,MAAMI,OAAN,CAAcM,MAAlB,EAA0B;AAAEV,UAAMI,OAAN,CAAcM,MAAd,CAAqBvG,IAArB,CAA0B6F,MAAMlG,GAAhC;AAAuC;AACnEiF,WAAS/I,IAAT,CAAc,kBAAd,EAjB4B,CAiBO;AACpC;;AAED,SAAS2K,aAAT,CAAuBX,KAAvB,EAA8B;AAC5B;AACAjB,WAAS/I,IAAT,CAAc,iBAAd,WAAwCgK,MAAMC,GAA9C,aAA8DjB,WAAWgB,MAAME,KAAjB,CAA9D;AACA,MAAIxB,WAAWA,WAAWxF,MAAX,GAAoB,CAA/B,MAAsC8G,KAA1C,EAAiD;AAAE,UAAM,IAAIY,KAAJ,CAAU,yBAAV,CAAN;AAA6C;AAChG;AACAlC,aAAWmC,GAAX;AACA;AACA9B,WAAS/I,IAAT,kBACgB0I,WAAWxF,MAAX,GAAoBwF,WAAWxI,GAAX,CAAe;AAAA,WAAS8J,MAAMC,GAAf;AAAA,GAAf,EAAmCtJ,IAAnC,CAAwC,GAAxC,CAApB,GAAmE,MADnF;AAEA;AACAiI,yBAAuB,IAAvB;AACAoB,QAAME,KAAN,GAAclD,YAAd;AACA+B,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAZ4B,CAYuB;AACnD,MAAIF,MAAMS,WAAV,EAAuB;AACrB;AACA1B,aAAS/I,IAAT,sBAAiCgK,MAAMS,WAAN,CAAkBR,GAAnD,yBACuBjB,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CADvB;AAEA;AACAF,UAAMS,WAAN,CAAkBP,KAAlB,GAA0BhD,YAA1B;AACA6B,aAAS/I,IAAT,wBAAmCgJ,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CAAnC,EANqB,CAMsD;AAC3EH,oBAAgBC,MAAMS,WAAtB,EAPqB,CAOe;AACpC1B,aAAS/I,IAAT,0BAAqCgK,MAAMS,WAAN,CAAkBR,GAAvD,EARqB,CAQ0C;AAC/DD,UAAMS,WAAN,GAAoB,IAApB;AACD;AACD,MAAIT,MAAMI,OAAN,CAAcU,OAAlB,EAA2B;AAAEd,UAAMI,OAAN,CAAcU,OAAd,CAAsB3G,IAAtB,CAA2B6F,MAAMlG,GAAjC;AAAwC;AACrEiF,WAAS/I,IAAT,CAAc,kBAAd,EAzB4B,CAyBO;AACpC;;AAED;;;;;AAKA,SAAS+K,gBAAT,CAA0Bf,KAA1B,EAAiCgB,SAAjC,EAA4C;AAC1C;AACAjC,WAAS/I,IAAT,CAAc,oBAAd,WAA2CgK,MAAMC,GAAjD,aAAiEjB,WAAWgB,MAAME,KAAjB,CAAjE;AACAnB,WAAS/I,IAAT,gBAA2BgL,SAA3B;AACA;AACA,MAAIhB,MAAME,KAAN,KAAgBjD,aAApB,EAAmC;AACjC8B,aAAS/I,IAAT,CAAc,QAAd,EAAwB,qBAAxB,EADiC,CACe;AAChD;AACD;AACDgK,QAAMiB,cAAN,CAAqBD,SAArB,IAAkC,IAAlC;AACA;AACAjC,WAAS/I,IAAT,kCAA6CgK,MAAMiB,cAAN,CAAqBC,YAAlE;AACAnC,WAAS/I,IAAT,4BAAuCgK,MAAMiB,cAAN,CAAqBE,MAA5D;AACApC,WAAS/I,IAAT,kBAA4BgK,MAAMI,OAAN,CAAcgB,UAAd,GAA2B,KAA3B,GAAmC,IAA/D;AACA;AACA,MAAIpB,MAAMiB,cAAN,CAAqBC,YAArB,KACC,CAAClB,MAAMI,OAAN,CAAcgB,UAAf,IAA6BpB,MAAMiB,cAAN,CAAqBE,MADnD,CAAJ,EACgE;AAC9DX,kBAAcR,KAAd;AACD;AACDjB,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,qBAAlC,EAnB0C,CAmBgB;AAC3D;;AAED;;;;;AAKA,SAASoB,iBAAT,CAA2BrB,KAA3B,EAAkCgB,SAAlC,EAA6C;AAC3C;AACAjC,WAAS/I,IAAT,CAAc,qBAAd,WAA4CgK,MAAMC,GAAlD,aAAkEjB,WAAWgB,MAAME,KAAjB,CAAlE;AACAnB,WAAS/I,IAAT,gBAA2BgL,SAA3B;AACA;AACA,MAAIhB,MAAME,KAAN,KAAgB/C,aAApB,EAAmC;AACjC4B,aAAS/I,IAAT,CAAc,QAAd,EAAwB,sBAAxB,EADiC,CACgB;AACjD;AACD;AACDgK,QAAMiB,cAAN,CAAqBD,SAArB,IAAkC,IAAlC;AACA;AACAjC,WAAS/I,IAAT,kCAA6CgK,MAAMiB,cAAN,CAAqBC,YAAlE;AACAnC,WAAS/I,IAAT,4BAAuCgK,MAAMiB,cAAN,CAAqBE,MAA5D;AACApC,WAAS/I,IAAT,mBAA6BgK,MAAMI,OAAN,CAAckB,WAAd,GAA4B,KAA5B,GAAoC,IAAjE;AACA;AACA,MAAItB,MAAMiB,cAAN,CAAqBC,YAArB,KACC,CAAClB,MAAMI,OAAN,CAAckB,WAAf,IAA8BtB,MAAMiB,cAAN,CAAqBE,MADpD,CAAJ,EACiE;AAC/DR,kBAAcX,KAAd;AACD;AACDjB,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,sBAAlC,EAnB2C,CAmBgB;AAC5D;;AAED;;;;;;AAMA,SAASsB,WAAT,CAAqBvB,KAArB,EAA4BzG,KAA5B,EAAmC;AACjC;AACAwF,WAAS/I,IAAT,CAAc,eAAd,WAAsCgK,MAAMC,GAA5C,aAA4DjB,WAAWgB,MAAME,KAAjB,CAA5D;AACAnB,WAAS/I,IAAT,YAAuB,CAAC,CAACuD,KAAzB;AACA;AACA,MAAIyG,MAAMS,WAAV,EAAuB;AAAE;AACvB;AACA1B,aAAS/I,IAAT,sBAAiCgK,MAAMS,WAAN,CAAkBR,GAAnD,yBACuBjB,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CADvB;AAEA;AACA;;;;;AAKA,QAAMO,cAAcT,MAAMS,WAA1B;AAAA,QAAuCe,aAAaf,YAAYe,UAAhE;AACA,QAAIf,YAAYP,KAAZ,KAAsBhD,YAA1B,EAAwC;AACtCsE,iBAAWjL,KAAX,CAAiB,oBAAUqB,OAAV,CAAkB,oBAAlB,CAAjB,IACEoI,MAAMI,OAAN,CAAcqB,QAAd,KAA2BlE,QAA3B,GAAsC,EAAtC,GAA8CyC,MAAMI,OAAN,CAAcqB,QAA5D,OADF;AAEA;AACA1C,eAAS/I,IAAT,CAAc,0BACXgK,MAAMI,OAAN,CAAcqB,QAAd,KAA2BlE,QAA3B,GAAsC,EAAtC,GAA8CyC,MAAMI,OAAN,CAAcqB,QAA5D,OADW,CAAd;AAEA;AACD;AACD,QAAMC,sBAAsB,0BAAWF,UAAX,CAA5B;AACAE,wBAAoBpI,MAApB,CAA2ByD,yBAA3B,EAAsD,CAAC,CAACxD,KAAxD;AACAmI,wBAAoB5I,GAApB,CAAwBgE,wBAAxB;AACA;AACAiC,aAAS/I,IAAT,6BAC4B0L,oBAAoB1H,QAApB,CAA6B+C,yBAA7B,CAD5B;AAEAgC,aAAS/I,IAAT,4BAC2B0L,oBAAoB1H,QAApB,CAA6B8C,wBAA7B,CAD3B;AAEA;AACA;AACA2D,gBAAYP,KAAZ,GAAoB9C,kBAApB;AACA2B,aAAS/I,IAAT,wBAAmCgJ,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CAAnC,EA9BqB,CA8BsD;AAC3EH,oBAAgBU,WAAhB,EA/BqB,CA+BS;AAC/B;;AAEDT,QAAME,KAAN,GAAcjD,aAAd;AACA8B,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAxCiC,CAwCkB;AACnDF,QAAMiB,cAAN,CAAqBC,YAArB,GAAoClB,MAAMiB,cAAN,CAAqBE,MAArB,GAA8B,KAAlE;AACAnB,QAAMkB,YAAN,CAAmBS,IAAnB,CAAwBpI,KAAxB;AACA,MAAIyG,MAAMI,OAAN,CAAcgB,UAAlB,EAA8B;AAC5B,QAAI7H,KAAJ,EAAW;AACTyG,YAAMI,OAAN,CAAcgB,UAAd,CAAyBjH,IAAzB,CAA8B6F,MAAMlG,GAApC;AACAiH,uBAAiBf,KAAjB,EAAwB,QAAxB;AACD,KAHD,MAGO;AACLA,YAAMI,OAAN,CAAcgB,UAAd,CAAyBjH,IAAzB,CAA8B6F,MAAMlG,GAApC,EAAyCkG,MAAM4B,cAA/C;AACD;AACF;AACD7C,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,gBAAlC,EAnDiC,CAmDoB;AACtD;;AAED;;;;;;;AAOA,SAAS4B,WAAT,CAAqB7B,KAArB,EAA4BzG,KAA5B,EAAmCuI,IAAnC,EAAyC;AACvC;AACA/C,WAAS/I,IAAT,CAAc,eAAd,WAAsCgK,MAAMC,GAA5C,aAA4DjB,WAAWgB,MAAME,KAAjB,CAA5D;AACAnB,WAAS/I,IAAT,YAAuB,CAAC,CAACuD,KAAzB,YAA0C,CAAC,CAACuI,IAA5C;AACA;AACA,MAAI9B,MAAMS,WAAV,EAAuB;AAAE;AACvB;AACA1B,aAAS/I,IAAT,sBAAiCgK,MAAMS,WAAN,CAAkBR,GAAnD,yBACuBjB,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CADvB;AAEA;AACA;;;;;AAKA,QAAMO,cAAcT,MAAMS,WAA1B;AAAA,QAAuCe,aAAaf,YAAYe,UAAhE;AACA,QAAIf,YAAYP,KAAZ,KAAsB7C,iBAA1B,EAA6C;AAC3CmE,iBAAWjL,KAAX,CAAiB,oBAAUqB,OAAV,CAAkB,oBAAlB,CAAjB,IACEoI,MAAMI,OAAN,CAAcqB,QAAd,KAA2BlE,QAA3B,GAAsC,EAAtC,GAA8CyC,MAAMI,OAAN,CAAcqB,QAA5D,OADF;AAEA;AACA1C,eAAS/I,IAAT,CAAc,0BACXgK,MAAMI,OAAN,CAAcqB,QAAd,KAA2BlE,QAA3B,GAAsC,EAAtC,GAA8CyC,MAAMI,OAAN,CAAcqB,QAA5D,OADW,CAAd;AAEA;AACD;AACD,QAAMC,sBAAsB,0BAAWF,UAAX,CAA5B;AACAE,wBAAoBpI,MAApB,CAA2ByD,yBAA3B,EAAsD,CAAC,CAACxD,KAAxD;AACAmI,wBAAoBvI,MAApB,CAA2B2D,wBAA3B;AACA;AACAiC,aAAS/I,IAAT,6BAC4B0L,oBAAoB1H,QAApB,CAA6B+C,yBAA7B,CAD5B;AAEAgC,aAAS/I,IAAT,4BAC2B0L,oBAAoB1H,QAApB,CAA6B8C,wBAA7B,CAD3B;AAEA;AACA;AACA2D,gBAAYP,KAAZ,GAAoB5C,gBAApB;AACAyB,aAAS/I,IAAT,wBAAmCgJ,WAAWgB,MAAMS,WAAN,CAAkBP,KAA7B,CAAnC,EA9BqB,CA8BsD;AAC5E;;AAEDF,QAAME,KAAN,GAAc/C,aAAd;AACA4B,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAvCuC,CAuCY;AACnDH,kBAAgBC,KAAhB,EAxCuC,CAwCf;AACxBA,QAAMiB,cAAN,CAAqBC,YAArB,GAAoClB,MAAMiB,cAAN,CAAqBE,MAArB,GAA8B,KAAlE;AACAnB,QAAMkB,YAAN,CAAmBa,IAAnB,CAAwBxI,KAAxB,EAA+BuI,IAA/B;AACA,MAAI9B,MAAMI,OAAN,CAAckB,WAAlB,EAA+B;AAC7B,QAAI/H,KAAJ,EAAW;AACTyG,YAAMI,OAAN,CAAckB,WAAd,CAA0BnH,IAA1B,CAA+B6F,MAAMlG,GAArC;AACAuH,wBAAkBrB,KAAlB,EAAyB,QAAzB;AACD,KAHD,MAGO;AACLA,YAAMI,OAAN,CAAckB,WAAd,CAA0BnH,IAA1B,CAA+B6F,MAAMlG,GAArC,EAA0CkG,MAAMgC,eAAhD;AACD;AACF;AACDjD,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,gBAAlC,EAnDuC,CAmDc;AACtD;;AAED;;;;;AAKA,SAASgC,YAAT,CAAsBjC,KAAtB,EAA6B;AAC3B;AACAjB,WAAS/I,IAAT,CAAc,gBAAd,WAAuCgK,MAAMC,GAA7C,aAA6DjB,WAAWgB,MAAME,KAAjB,CAA7D;AACA;AACA,MAAIF,MAAME,KAAN,KAAgBjD,aAApB,EAAmC;AACjCsE,gBAAYvB,KAAZ,EAAmB,IAAnB;AACD,GAFD,MAEO,IAAIA,MAAME,KAAN,KAAgB/C,aAApB,EAAmC;AACxC0E,gBAAY7B,KAAZ,EAAmB,IAAnB,EAAyB,IAAzB;AACD;AACDjB,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,iBAAlC,EAT2B,CAS2B;AACvD;;AAED;;;;;AAKA,SAASiC,KAAT,CAAclC,KAAd,EAAqBzG,KAArB,EAA4B;AAC1BwF,WAAS/I,IAAT,CAAc,QAAd,WAA+BgK,MAAMC,GAArC,aAAqDjB,WAAWgB,MAAME,KAAjB,CAArD,EAD0B,CACuD;AACjF,MAAIF,MAAME,KAAN,KAAgBlD,YAAhB,IACEgD,MAAME,KAAN,KAAgB/C,aADlB,IACmC6C,MAAME,KAAN,KAAgBjD,aADnD,IAEA+C,MAAME,KAAN,KAAgBjD,aAAhB,IAAiC,CAAC1D,KAFlC,IAGAyG,MAAME,KAAN,KAAgBjD,aAAhB,IACE+C,MAAMI,OAAN,CAAc+B,YADhB,IACgCnC,MAAMI,OAAN,CAAc+B,YAAd,CAA2BhI,IAA3B,CAAgC6F,MAAMlG,GAAtC,MAA+C,KAJnF,EAI0F;AACxFiF,aAAS/I,IAAT,CAAc,QAAd,EAAwB,SAAxB,EADwF,CACpD;AACpC,WAAO,KAAP;AACD;AACD;;;;;;AAMA;AACA+I,WAAS/I,IAAT,4BAAsC4I,uBAAuBA,qBAAqBqB,GAA5C,GAAkD,MAAxF;AACA;AACA,MAAID,MAAME,KAAN,KAAgBlD,YAApB,EAAkC;AAChC,QAAI4B,oBAAJ,EAA0B;AAAEqD,mBAAarD,oBAAb;AAAqC;AACjEA,2BAAuBoB,KAAvB;;AAEA,QAAItB,WAAWxF,MAAf,EAAuB;AACrB;AACA,UAAIwF,WAAWzF,OAAX,CAAmB+G,KAAnB,MAA8B,CAAC,CAAnC,EAAsC;AAAE,cAAM,IAAIY,KAAJ,CAAU,yBAAV,CAAN;AAA6C;AACrF;AACAZ,YAAMS,WAAN,GAAoB/B,WAAWA,WAAWxF,MAAX,GAAoB,CAA/B,CAApB;AACA6F,eAAS/I,IAAT,wBAAmCgK,MAAMS,WAAN,CAAkBR,GAArD,EALqB,CAKwC;AAC9D;AACDvB,eAAW1I,IAAX,CAAgBgK,KAAhB;AACA;AACAjB,aAAS/I,IAAT,kBACgB0I,WAAWxF,MAAX,GAAoBwF,WAAWxI,GAAX,CAAe;AAAA,aAAS8J,MAAMC,GAAf;AAAA,KAAf,EAAmCtJ,IAAnC,CAAwC,GAAxC,CAApB,GAAmE,MADnF;AAEA;;AAEA,8BAAWqJ,MAAMwB,UAAjB,EAA6B1I,GAA7B,CAAiCiE,yBAAjC,EAA4D5D,MAA5D,CAAmE2D,wBAAnE;AACA;AACAiC,aAAS/I,IAAT,6BAC4B,0BAAWgK,MAAMwB,UAAjB,EAA6BxH,QAA7B,CAAsC+C,yBAAtC,CAD5B;AAEAgC,aAAS/I,IAAT,4BAC2B,0BAAWgK,MAAMwB,UAAjB,EAA6BxH,QAA7B,CAAsC8C,wBAAtC,CAD3B;AAEA;AACD;;AAEDyE,cAAYvB,KAAZ,EAAmBzG,KAAnB;AACAwF,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,SAAlC,EA9C0B,CA8CoB;AAC9C,SAAO,IAAP;AACD;;AAED;;;;;AAKA,SAASmC,MAAT,CAAepC,KAAf,EAAsBzG,KAAtB,EAA6B;AAC3BwF,WAAS/I,IAAT,CAAc,SAAd,WAAgCgK,MAAMC,GAAtC,aAAsDjB,WAAWgB,MAAME,KAAjB,CAAtD,EAD2B,CACuD;AAClF,MAAIF,MAAME,KAAN,KAAgBlD,YAAhB,IACAgD,MAAME,KAAN,KAAgB/C,aAAhB,IAAiC,CAAC5D,KADlC,IAEAyG,MAAME,KAAN,KAAgB/C,aAAhB,IACE6C,MAAMI,OAAN,CAAciC,aADhB,IACiCrC,MAAMI,OAAN,CAAciC,aAAd,CAA4BlI,IAA5B,CAAiC6F,MAAMlG,GAAvC,MAAgD,KAHrF,EAG4F;AAC1FiF,aAAS/I,IAAT,CAAc,QAAd,EAAwB,UAAxB,EAD0F,CACrD;AACrC,WAAO,KAAP;AACD;AACD;;;;;;AAMA;AACA+I,WAAS/I,IAAT,4BAAsC4I,uBAAuBA,qBAAqBqB,GAA5C,GAAkD,MAAxF;AACA;AACA,MAAIrB,wBAAwBA,yBAAyBoB,KAArD,EAA4D;AAC1DiC,iBAAarD,oBAAb;AACAA,2BAAuB,IAAvB;AACD;AACD;;;;;AAKA,MAAIoB,MAAME,KAAN,KAAgB7C,iBAApB,EAAuC;AAAE;AACvC;AACA,QAAMjE,IAAIsF,WAAWzF,OAAX,CAAmB+G,KAAnB,CAAV;AACA,QAAI5G,MAAM,CAAC,CAAP,IAAYA,MAAMsF,WAAWxF,MAAX,GAAoB,CAA1C,EAA6C;AAAE,YAAM,IAAI0H,KAAJ,CAAU,yBAAV,CAAN;AAA6C;AAC5F7B,aAAS/I,IAAT,kBACgB0I,WAAWxF,MAAX,GAAoBwF,WAAWxI,GAAX,CAAe;AAAA,aAAS8J,MAAMC,GAAf;AAAA,KAAf,EAAmCtJ,IAAnC,CAAwC,GAAxC,CAApB,GAAmE,MADnF;AAEA;AACA,QAAI2L,iBAAJ;AACA,WAAO,CAACA,WAAW5D,WAAWA,WAAWxF,MAAX,GAAoB,CAA/B,CAAZ,MAAmD8G,KAA1D,EAAiE;AAC/D;AACA,UAAIsC,SAASpC,KAAT,KAAmBhD,YAAvB,EAAqC;AAAE,cAAM,IAAI0D,KAAJ,CAAU,yBAAV,CAAN;AAA6C;AACpF7B,eAAS/I,IAAT,mBAA8BsM,SAASrC,GAAvC,sBAAgEjB,WAAWsD,SAASpC,KAApB,CAAhE;AACA;AACA2B,kBAAYS,QAAZ,EAAsB,IAAtB,EAA4B,IAA5B;AACD;AACF;AACD;;;;;;AAMA,MAAItC,MAAME,KAAN,KAAgBhD,YAApB,EAAkC;AAChC,QAAI0B,oBAAJ,EAA0B;AAAE,YAAM,IAAIgC,KAAJ,CAAU,mCAAV,CAAN;AAAuD,KADnD,CACoD;AACpFhC,2BAAuBoB,KAAvB;AACD;;AAED6B,cAAY7B,KAAZ,EAAmBzG,KAAnB;AACAwF,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,UAAlC,EAvD2B,CAuDoB;AAC/C,SAAO,IAAP;AACD;;AAED;;;;;AAKA,SAASsC,WAAT,CAAoBvC,KAApB,EAA2BwC,UAA3B,EAAuC;AACrC,MAAMpC,UAAUJ,MAAMI,OAAtB;AAAA,MAA+Bc,eAAelB,MAAMkB,YAApD;;AAEA;AACA,MAAIsB,WAAWvE,cAAX,CAA0B,aAA1B,KACA,CAACuE,WAAWC,WAAX,GAAyBjD,UAAUgD,WAAWC,WAArB,IAAoCD,WAAWC,WAA/C,GACxBD,WAAWC,WAAX,IAA0B,IAA1B,GAAiC,KAAK,CAAtC,GAA0C,KAD5C,MACuD,KAFvD,IAGAD,WAAWC,WAAX,KAA2BrC,QAAQqC,WAHvC,EAGoD;AAClD,QAAIrC,QAAQqC,WAAZ,EAAyB;AAAE;AACzBrC,cAAQqC,WAAR,CAAoBC,mBAApB,CAAwC,OAAxC,EAAiD1C,MAAM2C,WAAvD,EAAoE,KAApE;AACD;AACDvC,YAAQqC,WAAR,GAAsBD,WAAWC,WAAjC;AACA,QAAIrC,QAAQqC,WAAZ,EAAyB;AAAE;AACzBrC,cAAQqC,WAAR,CAAoBG,gBAApB,CAAqC,OAArC,EAA8C5C,MAAM2C,WAApD,EAAiE,KAAjE;AACD;AACF;;AAED;AACA;AACAzB,eAAaO,QAAb,GAAwBe,WAAWf,QAAnC;AACArB,UAAQqB,QAAR,GAAmBP,aAAaO,QAAhC;;AAEA;AACA;AACAP,eAAa2B,IAAb,GAAoBL,WAAWM,WAA/B;AACA1C,UAAQ0C,WAAR,GAAsB5B,aAAa2B,IAAnC;;AAEA;AACA;AACA,MAAIL,WAAWvE,cAAX,CAA0B,YAA1B,KACA,CAACuE,WAAWnC,UAAX,GAAwBb,UAAUgD,WAAWnC,UAArB,IAAmCmC,WAAWnC,UAA9C,GACvBmC,WAAWnC,UAAX,IAAyB,IAAzB,GAAgC,KAAK,CAArC,GAAyC,KAD3C,MACsD,KAFtD,IAGAmC,WAAWnC,UAAX,KAA0BD,QAAQC,UAHtC,EAGkD;AAChDD,YAAQC,UAAR,GAAqBmC,WAAWnC,UAAhC;AACA,QAAID,QAAQC,UAAZ,EAAwB;AACtB,UAAI,CAACL,MAAMG,cAAX,EAA2B;AAAEH,cAAMG,cAAN,GAAuB,6BAAmBH,MAAM+C,UAAzB,CAAvB;AAA8D;AAC3F/C,YAAMG,cAAN,CAAqB6C,MAArB,GAA8B5C,QAAQC,UAAtC;AACD;AACDN,oBAAgBC,KAAhB;AACD;AACD;;AAEA;AACA,GAAC,YAAD,EAAe,aAAf,EAA8B,QAA9B,EAAwC,SAAxC,EAAmD,cAAnD,EAAmE,eAAnE,EACG/D,OADH,CACW,kBAAU;AACjB,QAAI,OAAOuG,WAAWrB,MAAX,CAAP,KAA8B,UAAlC,EAA8C;AAC5Cf,cAAQe,MAAR,IAAkBqB,WAAWrB,MAAX,CAAlB;AACD,KAFD,MAEO,IAAIqB,WAAWvE,cAAX,CAA0BkD,MAA1B,KAAqCqB,WAAWrB,MAAX,KAAsB,IAA/D,EAAqE;AAC1Ef,cAAQe,MAAR,IAAkB,KAAK,CAAvB;AACD;AACF,GAPH;AAQD;;IAEK8B,U;AACJ;;;;;AAKA,sBAAYC,OAAZ,EAAqB9C,OAArB,EAA8B;AAAA;;AAC5B,QAAMJ,QAAQ;AACZlG,WAAK,IADO;AAEZsG,eAAS,EAAE;AACTqC,qBAAa,KAAK,CADX;AAEPhB,kBAAUlE,QAFH;AAGP8C,oBAAY,KAAK,CAHV,EAGa;AACpByC,qBAAa;AAJN,OAFG;AAQZ5C,aAAOlD,YARK;AASZiE,sBAAgB,EAACC,cAAc,KAAf,EAAsBC,QAAQ,KAA9B;AATJ,KAAd;;AAYAhD,WAAOgF,cAAP,CAAsB,IAAtB,EAA4B,KAA5B,EAAmC,EAACC,OAAO,EAAEzE,KAAV,EAAnC;AACAqB,UAAMC,GAAN,GAAY,KAAKA,GAAjB;AACAxB,aAAS,KAAKwB,GAAd,IAAqBD,KAArB;;AAEA,QAAI,CAACkD,QAAQzD,QAAT,IAAqByD,QAAQzD,QAAR,KAAqBC,KAAKC,YAA/C,IACAuD,QAAQG,aAAR,CAAsBC,WAAtB,KAAsC3L,MAD1C,EACkD;AAChD,YAAM,IAAIiJ,KAAJ,CAAU,iCAAV,CAAN;AACD;AACDZ,UAAM+C,UAAN,GAAmBG,OAAnB;AACA,QAAI,CAAC9C,OAAL,EAAc;AACZA,gBAAU,EAAV;AACD,KAFD,MAEO,IAAI,CAACtC,SAASsC,OAAT,CAAL,EAAwB;AAC7B,YAAM,IAAIQ,KAAJ,CAAU,kBAAV,CAAN;AACD;;AAED;AACA,QAAI,CAACvK,SAASkN,cAAT,CAAwB7G,gBAAxB,CAAL,EAAgD;AAC9C,UAAM8G,OAAOnN,SAASoN,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,KAA4CpN,SAASsH,eAAlE;AAAA,UACE+F,QAAQF,KAAKlE,YAAL,CAAkBjJ,SAASC,aAAT,CAAuB,OAAvB,CAAlB,EAAmDkN,KAAKG,UAAxD,CADV;AAEAD,YAAME,IAAN,GAAa,UAAb;AACAF,YAAMG,EAAN,GAAWnH,gBAAX;AACAgH,YAAMI,WAAN;AACA,UAAItG,cAAcE,OAAlB,EAA2B;AAAEuB,oBAAYyE,KAAZ;AAAqB,OANJ,CAMK;;AAEnD;AACA/L,aAAOiL,gBAAP,CAAwB,SAAxB,EAAmC,iBAAS;AAC1C,YAAImB,YAAJ;AAAA,YAASzB,iBAAT;AACA,YAAIzD,kBACC,CAACkF,MAAM5H,MAAM4H,GAAN,CAAU7M,WAAV,EAAP,MAAoC,QAApC,IAAgD6M,QAAQ,KADzD,MAECzB,WAAW5D,WAAWxF,MAAX,IAAqBwF,WAAWA,WAAWxF,MAAX,GAAoB,CAA/B,CAFjC,MAGC6F,SAAS/I,IAAT,CAAc,YAAd,EAA4B,OAA5B,WAA4CsM,SAASrC,GAArD,GAA6D,IAH9D,KAGuE;AACvEmC,eAAME,QAAN,CAJJ,EAIqB;AACnBnG,gBAAM6H,cAAN;AACA7H,gBAAM8H,wBAAN,GAFmB,CAEe;AAClC9H,gBAAM+H,eAAN;AACD;AACF,OAXD,EAWG,IAXH;AAYD;;AAED,8BAAWhB,OAAX,EAAoBpK,GAApB,CAAwB8D,mBAAxB;AACA;AACAoD,UAAMkB,YAAN,GAAqB,2BAAiB;AACpCiD,YAAMjB,OAD8B;AAEpCkB,cAAQ,kBAAM;AAAErD,yBAAiBf,KAAjB,EAAwB,cAAxB;AAA0C,OAFtB;AAGpCqE,cAAQ,kBAAM;AAAEhD,0BAAkBrB,KAAlB,EAAyB,cAAzB;AAA2C;AAHvB,KAAjB,CAArB;AAKA;AACA,QAAIrI,OAAO2M,gBAAP,CAAwBpB,OAAxB,EAAiC,EAAjC,EAAqCqB,OAArC,KAAiD,MAArD,EAA6D;AAC3DrB,cAAQ3M,KAAR,CAAcgO,OAAd,GAAwB,OAAxB;AACD;AACD;AACA,QAAMC,sBAAsBtB,QAAQ9D,UAApC,CAhE4B,CAgEoB;AAChD,8BAAWoF,oBAAoBpF,UAA/B,EAA2CtG,GAA3C,CAA+C6D,WAA/C,EAjE4B,CAiEiC;;AAE7D;AACA,QAAM6E,aACJxB,MAAMwB,UAAN,GAAmBgD,oBAAoBC,WAApB,CAAgCpO,SAASC,aAAT,CAAuB,KAAvB,CAAhC,CADrB;AAEAkL,eAAWkD,SAAX,GAAuB7H,mBAAvB;AACA;AACA2E,eAAWoB,gBAAX,CAA4B,OAA5B,EAAqC,iBAAS;AAC5C,UAAIzG,MAAM+C,MAAN,KAAiBsC,UAAjB,IAA+B1C,cAAnC,EAAmD;AACjDC,iBAAS/I,IAAT,CAAc,iBAAd,EAAiC,OAAjC,WAAiDgK,MAAMC,GAAvD,EADiD,CACc;AAC/DmC,eAAMpC,KAAN;AACD;AACF,KALD,EAKG,IALH;;AAOA;AACAA,UAAM2C,WAAN,GAAoB,YAAM;AAAEP,aAAMpC,KAAN;AAAe,KAA3C;AACA;AACAA,UAAM4B,cAAN,GAAuB,YAAM;AAAEb,uBAAiBf,KAAjB,EAAwB,QAAxB;AAAoC,KAAnE;AACAA,UAAMgC,eAAN,GAAwB,YAAM;AAAEX,wBAAkBrB,KAAlB,EAAyB,QAAzB;AAAqC,KAArE;AACAA,UAAM2E,UAAN,GAAmB,YAAM;AACvB5F,eAAS/I,IAAT,CAAc,eAAd,WAAsCgK,MAAMC,GAA5C,aAA4DjB,WAAWgB,MAAME,KAAjB,CAA5D,EADuB,CACiE;AACxF,UAAIF,MAAME,KAAN,KAAgBjD,aAApB,EAAmC;AACjC8D,yBAAiBf,KAAjB,EAAwB,QAAxB;AACD,OAFD,MAEO,IAAIA,MAAME,KAAN,KAAgB/C,aAApB,EAAmC;AACxCkE,0BAAkBrB,KAAlB,EAAyB,QAAzB;AACD;AACF,KAPD;;AASAuC,gBAAWvC,KAAX,EAAkBI,OAAlB;AACD;;AAED;;;;;;;;+BAIWA,O,EAAS;AAClB,UAAItC,SAASsC,OAAT,CAAJ,EAAuB;AACrBmC,oBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+BG,OAA/B;AACD;AACD,aAAO,IAAP;AACD;;AAED;;;;;;;;;yBAMK7G,K,EAAO6G,O,EAAS;AACnB,UAAIhG,UAAUlB,MAAV,GAAmB,CAAnB,IAAwB,OAAOK,KAAP,KAAiB,SAA7C,EAAwD;AACtD6G,kBAAU7G,KAAV;AACAA,gBAAQ,KAAR;AACD;;AAED,WAAKgJ,UAAL,CAAgBnC,OAAhB;AACA8B,YAAKzD,SAAS,KAAKwB,GAAd,CAAL,EAAyB1G,KAAzB;AACA,aAAO,IAAP;AACD;;AAED;;;;;;;;0BAKMA,K,EAAO;AACX6I,aAAM3D,SAAS,KAAKwB,GAAd,CAAN,EAA0B1G,KAA1B;AACA,aAAO,IAAP;AACD;;;wBAEW;AAAE,aAAOkF,SAAS,KAAKwB,GAAd,EAAmBC,KAA1B;AAAkC;;;wBAE9B;AAAE,aAAOzB,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BqC,WAAlC;AAAgD,K;sBACpDW,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACwC,aAAaW,KAAd,EAA/B;AAAuD;;;wBAEjE;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BqB,QAAlC;AAA6C,K;sBACjD2B,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACwB,UAAU2B,KAAX,EAA/B;AAAoD;;;wBAExD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2B0C,WAAlC;AAAgD,K;sBACpDM,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAAC6C,aAAaM,KAAd,EAA/B;AAAuD;;AAEhF;;;;wBACiB;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BC,UAAlC;AAA+C,K;sBACnD+C,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACI,YAAY+C,KAAb,EAA/B;AAAsD;AAC9E;;;;wBAEiB;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BgB,UAAlC;AAA+C,K;sBACnDgC,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACmB,YAAYgC,KAAb,EAA/B;AAAsD;;;wBAE5D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BkB,WAAlC;AAAgD,K;sBACpD8B,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACqB,aAAa8B,KAAd,EAA/B;AAAuD;;;wBAE/D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmB0E,UAA1B;AAAuC;;;wBAE7C;AAAE,aAAOlG,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BM,MAAlC;AAA2C,K;sBAC/C0C,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACS,QAAQ0C,KAAT,EAA/B;AAAkD;;;wBAExD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BU,OAAlC;AAA4C,K;sBAChDsC,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACa,SAASsC,KAAV,EAA/B;AAAmD;;;wBAErD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2B+B,YAAlC;AAAiD,K;sBACrDiB,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACkC,cAAciB,KAAf,EAA/B;AAAwD;;;wBAE9D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BiC,aAAlC;AAAkD,K;sBACtDe,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACoC,eAAee,KAAhB,EAA/B;AAAyD;;;wBAEzD;AAAE,aAAOvE,aAAP;AAAuB,K;sBAC3BuE,K,EAAO;AAAE,UAAI,OAAOA,KAAP,KAAiB,SAArB,EAAgC;AAAEvE,wBAAgBuE,KAAhB;AAAwB;AAAE;;;wBAElE;AAAE,aAAOtE,cAAP;AAAwB,K;sBAC5BsE,K,EAAO;AAAE,UAAI,OAAOA,KAAP,KAAiB,SAArB,EAAgC;AAAEtE,yBAAiBsE,KAAjB;AAAyB;AAAE;;;wBAEtE;AAAE,aAAOpG,YAAP;AAAsB;;;wBACvB;AAAE,aAAOC,aAAP;AAAuB;;;wBAC1B;AAAE,aAAOC,YAAP;AAAsB;;;wBACvB;AAAE,aAAOC,aAAP;AAAuB;;;wBACpB;AAAE,aAAOC,kBAAP;AAA4B;;;wBAC/B;AAAE,aAAOC,iBAAP;AAA2B;;;wBAC9B;AAAE,aAAOC,gBAAP;AAA0B;;;;;;AAG5D;;;;AAIA;;;AACA2F,WAAWlE,QAAX,GAAsBA,QAAtB;AACAkE,WAAWjE,UAAX,GAAwBA,UAAxB;AACA;;kBAEeiE,U;;;;;;;;;;;;;;qjBC9uBf;;;;;;;;AAQA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AACA,qBAAWvJ,YAAX,GAA0B,IAA1B;;AAEA,IACE+C,SAAS,cADX;AAAA,IAEEC,mBAAsBD,MAAtB,WAFF;AAAA,IAGEE,cAAcF,MAHhB;AAAA,IAIEmI,kBAAqBnI,MAArB,SAJF;AAAA,IAKEoI,mBAAsBpI,MAAtB,UALF;AAAA,IAMEqI,mBAAsBrI,MAAtB,UANF;AAAA,IAOEsI,oBAAuBtI,MAAvB,WAPF;AAAA,IAQEuI,mBAAsBvI,MAAtB,UARF;AAAA,IASEwI,uBAA0BxI,MAA1B,uBATF;AAAA,IAWEyI,eAAe,CAXjB;AAAA,IAWoBC,gBAAgB,CAXpC;AAAA,IAWuCC,cAAc,CAXrD;AAAA,IAWwDC,eAAe,CAXvE;;AAYE;AACA9H,WAAW,GAbb;AAAA,IAakB;AAChB+H,YAAY,GAdd;AAAA,IAgBE9H,aAAa,CAAC,CAACnH,SAASoH,QAhB1B;AAAA,IAiBEC,UAAU,sBAAsBrH,SAASsH,eAAT,CAAyBpH,KAA/C,IACR,mBAAmBF,SAASsH,eAAT,CAAyBpH,KADpC,IAC6C,CAACoB,OAAOiG,SAAP,CAAiBC,gBAlB3E;AAAA,IAmBE0H,YAAY,CAAC5N,OAAO6N,MAAR,IAAkB,sBAAsBnP,SAASsH,eAAT,CAAyBpH,KAnB/E;AAAA,IAmBsF;AACpFkP,WAAW,CAAC,EAAE9N,OAAO6N,MAAP,IAAiB7N,OAAO6N,MAAP,CAAcE,QAAjC,CApBd;AAAA,IAqBEC,WAAW,mBAAmBtP,SAASsH,eAAT,CAAyBpH,KArBzD;AAAA,IAqBgE;;AAE9DuH,WAAY,YAAM;AAChB,MAAMC,WAAW,GAAGA,QAApB;AAAA,MAA8BC,aAAa,GAAGC,cAAH,CAAkBF,QAA7D;AAAA,MACEG,cAAcF,WAAW7D,IAAX,CAAgBgE,MAAhB,CADhB;AAEA,SAAO,eAAO;AACZ,QAAIC,cAAJ;AAAA,QAAWC,eAAX;AACA,WAAOC,OAAOP,SAAS5D,IAAT,CAAcmE,GAAd,MAAuB,iBAA9B,KACJ,EAAEF,QAAQD,OAAOI,cAAP,CAAsBD,GAAtB,CAAV,KACC,CAACD,SAASD,MAAMH,cAAN,CAAqB,aAArB,KAAuCG,MAAMI,WAAvD,KACA,OAAOH,MAAP,KAAkB,UADlB,IACgCL,WAAW7D,IAAX,CAAgBkE,MAAhB,MAA4BH,WAHzD,CAAP;AAID,GAND;AAOD,CAVU,EAvBb;AAAA,IAkCE0H,WAAWC,OAAOD,QAAP,IAAoB;AAAA,SAAS,OAAOxC,KAAP,KAAiB,QAAjB,IAA6BzL,OAAOiO,QAAP,CAAgBxC,KAAhB,CAAtC;AAAA,CAlCjC;;;AAoCE;;;;;;;;;;;;;;;AAeA;AACA3E,WAAW,EApDb;;AAsDA,IAAIE,QAAQ,CAAZ;;AAEA;AACA,IAAMI,WAAW,EAAjB;AACA,IAAMC,aAAa,EAAnB;AACAA,WAAWkG,YAAX,IAA2B,cAA3B;AACAlG,WAAWmG,aAAX,IAA4B,eAA5B;AACAnG,WAAWoG,WAAX,IAA0B,aAA1B;AACApG,WAAWqG,YAAX,IAA2B,cAA3B;AACA;;AAEA,SAASpG,WAAT,CAAqBC,MAArB,EAA6B;AAC3B;AACApE,aAAW,YAAM;AACf,QAAMqE,SAASD,OAAOE,UAAtB;AAAA,QAAkCpD,OAAOkD,OAAOG,WAAhD;AACA;AACAF,WAAOG,YAAP,CAAoBH,OAAOI,WAAP,CAAmBL,MAAnB,CAApB,EAAgDlD,IAAhD;AACD,GAJD,EAIG,CAJH;AAKD;AACDrE,OAAOsH,WAAP,GAAqBA,WAArB,C,CAAkC;;AAElC;;;;;;;;AAQA,SAAS6G,QAAT,CAAkBlN,OAAlB,EAA2BmN,UAA3B,EAAuCC,eAAvC,EAAwDvO,SAAxD,EAAmE;AACjE,MAAMlB,QAAQqC,QAAQrC,KAAtB;AACA,GAACkB,aAAa0G,OAAO8H,IAAP,CAAYF,UAAZ,CAAd,EAAuC9J,OAAvC,CAA+C,gBAAQ;AACrD,QAAI8J,WAAWG,IAAX,KAAoB,IAAxB,EAA8B;AAC5B,UAAIF,mBAAmBA,gBAAgBE,IAAhB,KAAyB,IAAhD,EAAsD;AACpDF,wBAAgBE,IAAhB,IAAwB3P,MAAM2P,IAAN,CAAxB;AACD;AACD3P,YAAM2P,IAAN,IAAcH,WAAWG,IAAX,CAAd;AACAH,iBAAWG,IAAX,IAAmB,IAAnB;AACD;AACF,GARD;AASA,SAAOtN,OAAP;AACD;;AAED;;;;;;;AAOA,SAASuN,YAAT,CAAsBvN,OAAtB,EAA+BoN,eAA/B,EAAgDvO,SAAhD,EAA2D;AACzD,SAAOqO,SAASlN,OAAT,EAAkBoN,eAAlB,EAAmC,IAAnC,EAAyCvO,SAAzC,CAAP;AACD;;AAED;;;;;;;;;;;AAWA;;;;;;AAMA,SAAS2O,OAAT,CAAiBxN,OAAjB,EAA0BjB,MAA1B,EAAkC;AAChC,MAAM0O,OAAOzN,QAAQgH,qBAAR,EAAb;AAAA,MACE0G,OAAO,EAACC,MAAMF,KAAKE,IAAZ,EAAkBC,KAAKH,KAAKG,GAA5B;AACLC,WAAOJ,KAAKI,KADP,EACcC,QAAQL,KAAKK,MAD3B,EACmCC,OAAON,KAAKM,KAD/C,EACsDC,QAAQP,KAAKO,MADnE,EADT;AAGA,MAAIjP,MAAJ,EAAY;AACV2O,SAAKC,IAAL,IAAa5O,OAAOkP,WAApB;AACAP,SAAKG,KAAL,IAAc9O,OAAOkP,WAArB;AACAP,SAAKE,GAAL,IAAY7O,OAAOmP,WAAnB;AACAR,SAAKI,MAAL,IAAe/O,OAAOmP,WAAtB;AACD;AACD,SAAOR,IAAP;AACD;AACD3O,OAAOyO,OAAP,GAAiBA,OAAjB,C,CAA0B;;AAE1B,SAASW,UAAT,CAAoBnO,OAApB,EAA6BoO,KAA7B,EAAoCrP,MAApC,EAA4CyL,KAA5C,EAAmD;AACjD,MAAI4D,KAAJ,EAAW;AACT,QAAM9H,SAASvH,MAAf;AACA,QAAIyL,SAAS,IAAb,EAAmB;AAAElE,aAAO+H,QAAP,CAAgB7D,KAAhB,EAAuBlE,OAAO4H,WAA9B;AAA6C;AAClE,WAAO5H,OAAO2H,WAAd;AACD,GAJD,MAIO;AACL,QAAM3H,UAAStG,OAAf;AACA,QAAIwK,SAAS,IAAb,EAAmB;AAAElE,cAAO6H,UAAP,GAAoB3D,KAApB;AAA4B;AACjD,WAAOlE,QAAO6H,UAAd;AACD;AACF;AACDpP,OAAOoP,UAAP,GAAoBA,UAApB,C,CAAgC;;AAEhC,SAASG,SAAT,CAAmBtO,OAAnB,EAA4BoO,KAA5B,EAAmCrP,MAAnC,EAA2CyL,KAA3C,EAAkD;AAChD,MAAI4D,KAAJ,EAAW;AACT,QAAM9H,SAASvH,MAAf;AACA,QAAIyL,SAAS,IAAb,EAAmB;AAAElE,aAAO+H,QAAP,CAAgB/H,OAAO2H,WAAvB,EAAoCzD,KAApC;AAA6C;AAClE,WAAOlE,OAAO4H,WAAd;AACD,GAJD,MAIO;AACL,QAAM5H,WAAStG,OAAf;AACA,QAAIwK,SAAS,IAAb,EAAmB;AAAElE,eAAOgI,SAAP,GAAmB9D,KAAnB;AAA2B;AAChD,WAAOlE,SAAOgI,SAAd;AACD;AACF;AACDvP,OAAOuP,SAAP,GAAmBA,SAAnB,C,CAA8B;;AAE9B,SAASC,YAAT,CAAsBnH,KAAtB,EAA6B2G,KAA7B,EAAoCC,MAApC,EAA4C;AAC1C,MAAMQ,gBAAgBpH,MAAMoH,aAA5B;;AAEA,MAAIf,OAAOe,cAAcxH,qBAAd,EAAX;AACA,MAAIyH,KAAKC,GAAL,CAASjB,KAAKM,KAAL,GAAaA,KAAtB,IAA+BrB,SAA/B,IACA+B,KAAKC,GAAL,CAASjB,KAAKO,MAAL,GAAcA,MAAvB,IAAiCtB,SADrC,EACgD;AAAE;AAAS;;AAE3D,MAAMiC,qBAAqBvH,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8B8C,aAA9B,EAA6C,EAA7C,CAA3B;AAAA,MACEI,YAAYD,mBAAmBC,SADjC;AAAA,MAEEC,eAAeD,cAAc,YAAd,GAA6B,EAA7B,GACbA,cAAc,aAAd,GAA8B,CAAC,QAAD,CAA9B,GAA2C,CAAC,QAAD,EAAW,SAAX,CAH/C;AAAA,MAGsE;;AAEpEE,eAAa;AACXC,YAAQ;AACNhB,aAAO,CAAC,iBAAD,EAAoB,kBAApB,CADD;AAENC,cAAQ,CAAC,gBAAD,EAAmB,mBAAnB;AAFF,KADG;AAKXgB,aAAS;AACPjB,aAAO,CAAC,aAAD,EAAgB,cAAhB,CADA;AAEPC,cAAQ,CAAC,YAAD,EAAe,eAAf;AAFD;AALE,GALf;AAAA,MAgBEiB,SAAS,CAAC,OAAD,EAAU,QAAV,EAAoBhS,MAApB,CAA2B,UAACgS,MAAD,EAASC,GAAT,EAAiB;AACnDL,iBAAaxL,OAAb,CAAqB,gBAAQ;AAC3ByL,iBAAWK,IAAX,EAAiBD,GAAjB,EAAsB7L,OAAtB,CAA8B,oBAAY;AACxC4L,eAAOC,GAAP,KAAeE,WAAWT,mBAAmB1Q,QAAnB,CAAX,CAAf;AACD,OAFD;AAGD,KAJD;AAKA,WAAOgR,MAAP;AACD,GAPQ,EAON,EAAClB,OAAOA,KAAR,EAAeC,QAAQA,MAAvB,EAPM,CAhBX;;AAyBA;AACAd,WAASsB,aAAT,EAAwB;AACtB;AACAT,WAAOkB,OAAOlB,KAAP,GAAe,CAAf,GAAsBkB,OAAOlB,KAA7B,UAAyC,CAF1B;AAGtBC,YAAQiB,OAAOjB,MAAP,GAAgB,CAAhB,GAAuBiB,OAAOjB,MAA9B,UAA2C;AAH7B,GAAxB,EAIG5G,MAAMiI,oBAJT;;AAMA;AACA,MAAMC,WAAW,EAAjB;AACA7B,SAAOe,cAAcxH,qBAAd,EAAP;AACA,MAAIyH,KAAKC,GAAL,CAASjB,KAAKM,KAAL,GAAaA,KAAtB,KAAgCrB,SAApC,EAA+C;AAC7C;AACA6C,YAAQC,IAAR,CAAa,qCAAmC/B,KAAKM,KAAxC,qBACIA,KADJ,iBACqBkB,OAAOlB,KAD5B,OAAb;AAEA;AACAuB,aAASvB,KAAT,GAAoBkB,OAAOlB,KAAP,IAAgBN,KAAKM,KAAL,GAAaA,KAA7B,CAApB;AACD;AACD,MAAIN,KAAKO,MAAL,KAAgBA,MAApB,EAA4B;AAC1B;AACAuB,YAAQC,IAAR,CAAa,sCAAoC/B,KAAKO,MAAzC,qBACIA,MADJ,iBACsBiB,OAAOjB,MAD7B,OAAb;AAEA;AACAsB,aAAStB,MAAT,GAAqBiB,OAAOjB,MAAP,IAAiBP,KAAKO,MAAL,GAAcA,MAA/B,CAArB;AACD;AACDd,WAASsB,aAAT,EAAwBc,QAAxB,EAAkClI,MAAMiI,oBAAxC;AACD;AACDtQ,OAAOwP,YAAP,GAAsBA,YAAtB,C,CAAoC;;AAEpC;AACA,SAASkB,cAAT,CAAwBrI,KAAxB,EAA+B;AAC7B,MAAMsI,YAAYtI,MAAMsI,SAAxB;AAAA,MACE3B,QAAQ2B,UAAUC,WADpB;AAAA,MACiC3B,SAAS0B,UAAUE,YADpD;AAEA,MAAIhL,cAAcE,OAAlB,EAA2B;AACzB,QAAM6J,qBAAqBvH,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8BtE,MAAMoH,aAApC,EAAmD,EAAnD,CAA3B;AAAA,QACEqB,QAAQlB,mBAAmBmB,WAAnB,IAAkCnB,mBAAmB,cAAnB,CAD5C;AAAA,QACgF;AAC9EoB,gBAAYpB,mBAAmBoB,SAFjC;AAGA,WAAOF,UAAU,OAAV,IAAqBA,UAAU,OAA/B,IAA0CA,UAAU,OAApD,IAA+DA,UAAU,OAAzE,IACH/K,YACEiL,cAAc,KAAd,KAAwBF,UAAU,aAAV,IAA2BA,UAAU,aAA7D,KACAE,cAAc,KAAd,KAAwBF,UAAU,aAAV,IAA2BA,UAAU,aAA7D,CAFF,CADG,GAIL,EAAC9B,OAAOC,MAAR,EAAgBA,QAAQD,KAAxB,EAJK,GAI4B;AACjC,MAACA,OAAOA,KAAR,EAAeC,QAAQA,MAAvB,EALF;AAMD,GAVD,MAUO;AACL,WAAO,EAACD,OAAOA,KAAR,EAAeC,QAAQA,MAAvB,EAAP;AACD;AACF;AACDjP,OAAO0Q,cAAP,GAAwBA,cAAxB,C,CAAwC;;AAExC,SAASO,aAAT,CAAuB5I,KAAvB,EAA8BpH,OAA9B,EAAuC;AACrCmG,WAAS/I,IAAT,CAAc,iBAAd,WAAwCgK,MAAMC,GAA9C,aAA8DjB,WAAWgB,MAAME,KAAjB,CAA9D,EADqC,CACqD;;AAE1F,WAAS2I,aAAT,CAAuBjQ,OAAvB,EAAgCoO,KAAhC,EAAuCT,IAAvC,EAA6CC,GAA7C,EAAkD;AAChD,QAAI;AACFO,iBAAWnO,OAAX,EAAoBoO,KAApB,EAA2BhH,MAAMrI,MAAjC,EAAyC4O,IAAzC;AACAW,gBAAUtO,OAAV,EAAmBoO,KAAnB,EAA0BhH,MAAMrI,MAAhC,EAAwC6O,GAAxC;AACD,KAHD,CAGE,OAAOsC,KAAP,EAAc,CAAE,iEAAmE;AACtF;;AAED,MAAIlQ,OAAJ,EAAa;AACX,WAAOoH,MAAM+I,mBAAN,CAA0BhR,IAA1B,CAA+B,yBAAiB;AACrD,UAAIiR,cAAcpQ,OAAd,KAA0BA,OAA9B,EAAuC;AACrCiQ,sBAAcG,cAAcpQ,OAA5B,EAAqCoQ,cAAchC,KAAnD,EAA0DgC,cAAczC,IAAxE,EAA8EyC,cAAcxC,GAA5F;AACA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD,KANM,KAOJzH,SAAS/I,IAAT,CAAc,cAAd,WAAqCgK,MAAMC,GAA3C,EAAkD,kBAAlD,GAAuE,IAPnE,MAO2E;AAC/ElB,aAAS/I,IAAT,CAAc,aAAd,WAAoCgK,MAAMC,GAA1C,EAAiD,kBAAjD,GAAsE,KARlE,CAAP,CAQgF;AARhF;AAUD,GAXD,MAWO;AACLD,UAAM+I,mBAAN,CAA0B9M,OAA1B,CAAkC,yBAAiB;AACjD4M,oBAAcG,cAAcpQ,OAA5B,EAAqCoQ,cAAchC,KAAnD,EAA0DgC,cAAczC,IAAxE,EAA8EyC,cAAcxC,GAA5F;AACD,KAFD;AAGAzH,aAAS/I,IAAT,CAAc,UAAd,WAAiCgK,MAAMC,GAAvC,EAA8C,kBAA9C,EAJK,CAI8D;AACnE,WAAO,IAAP;AACD;AACF;;AAED,SAASgJ,cAAT,CAAwBjJ,KAAxB,EAA+B;AAC7BA,QAAMkJ,oBAAN,CAA2BjN,OAA3B,CAAmC,0BAAkB;AACnD,QAAI;AACF,UAAIkN,eAAeC,QAAf,KAA4B,KAAhC,EAAuC;AACrCD,uBAAevQ,OAAf,CAAuByQ,eAAvB,CAAuC,UAAvC;AACD,OAFD,MAEO,IAAIF,eAAeC,QAAf,IAA2B,IAA/B,EAAqC;AAC1CD,uBAAevQ,OAAf,CAAuBwQ,QAAvB,GAAkCD,eAAeC,QAAjD;AACD;AACF,KAND,CAME,OAAON,KAAP,EAAc,CAAE,iEAAmE;;AAErF,QAAI;AACF,UAAIK,eAAeG,SAAnB,EAA8B;AAC5BH,uBAAevQ,OAAf,CAAuB0Q,SAAvB,GAAmCH,eAAeG,SAAlD;AACD;AACF,KAJD,CAIE,OAAOR,KAAP,EAAc,CAAE,iEAAmE;AACtF,GAdD;AAeD;AACDnR,OAAOsR,cAAP,GAAwBA,cAAxB,C,CAAwC;;AAExC,SAASM,UAAT,CAAoBvJ,KAApB,EAA2BpH,OAA3B,EAAoC;AAClC;AACAmG,WAAS/I,IAAT,CAAc,cAAd,WAAqCgK,MAAMC,GAA3C,aAA2DjB,WAAWgB,MAAME,KAAjB,CAA3D;AACAnB,WAAS/I,IAAT,CACE,cAAW4C,YAAYvC,QAAZ,GAAuB,UAAvB,GAAoCuC,QAAQ4Q,OAAR,IAAmB,SAAlE,WACG5Q,QAAQiL,EAAR,SAAiBjL,QAAQiL,EAAzB,GAAgC,EADnC,EADF;AAGA;AACA,MAAI7D,MAAMgH,KAAN,IAAepO,YAAYA,QAAQyK,aAAR,CAAsBoG,IAAjD,IACE,EAAEzJ,MAAMwB,UAAN,CAAiB3B,uBAAjB,CAAyCjH,OAAzC,IAAoD8G,KAAKgK,8BAA3D,CADF,IAEA,CAAC1J,MAAMgH,KAAP,KAAiBpO,YAAYoH,MAAMoH,aAAlB,IACfpH,MAAMoH,aAAN,CAAoBvH,uBAApB,CAA4CjH,OAA5C,IAAuD8G,KAAKgK,8BAD9D,CAFJ,EAGmG;AACjG,QAAI9Q,QAAQiK,IAAZ,EAAkB;AAAE;AAClBjK,cAAQiK,IAAR;AACD,KAFD,MAEO;AACLjK,cAAQyK,aAAR,CAAsBoG,IAAtB,CAA2BE,KAA3B;AACD;AACD5K,aAAS/I,IAAT,CAAc,MAAd,WAA6BgK,MAAMC,GAAnC,EAA0C,eAA1C,EANiG,CAMrC;AAC5D,WAAO,IAAP;AACD;AACDlB,WAAS/I,IAAT,CAAc,aAAd,WAAoCgK,MAAMC,GAA1C,EAAiD,eAAjD,EAnBkC,CAmBiC;AACnE,SAAO,KAAP;AACD;;AAED;AACA,SAAS2J,eAAT,CAAyBC,SAAzB,EAAoCC,IAApC,EAA0CC,kBAA1C,EAA8D;AAC5D,MAAMC,YAAYF,KAAKzG,aAAL,CAAmB4G,WAAnB,EAAlB;AAAA,MACEC,OAAOL,UAAUM,UADnB;AAEAH,YAAUI,kBAAV,CAA6BN,IAA7B;AACA,OAAK,IAAI1Q,IAAI,CAAb,EAAgBA,IAAI8Q,IAApB,EAA0B9Q,GAA1B,EAA+B;AAC7B,QAAMiR,WAAWR,UAAUS,UAAV,CAAqBlR,CAArB,CAAjB;AACA;AACA;AACA,QAAI,CAACiR,SAAStM,QAAT,GAAoB7E,MAArB,IAA+B2Q,UAAU9L,QAAV,GAAqB7E,MAApD,IAA8DgR,SAAS,CAA3E,EAA8E;AAC5E/B,cAAQoC,GAAR,CAAY,2BAAZ,EAD4E,CAClC;AAC1CF,eAASG,QAAT,CAAkBX,UAAUY,UAA5B,EAAwCZ,UAAUa,YAAlD;AACAL,eAASM,MAAT,CAAgBd,UAAUe,SAA1B,EAAqCf,UAAUgB,WAA/C;AACA;AACA,UAAIR,SAAStM,QAAT,OAAwB8L,UAAU9L,QAAV,EAA5B,EAAkD;AAChDsM,iBAASG,QAAT,CAAkBX,UAAUe,SAA5B,EAAuCf,UAAUgB,WAAjD;AACAR,iBAASM,MAAT,CAAgBd,UAAUY,UAA1B,EAAsCZ,UAAUa,YAAhD;AACA,YAAIL,SAAStM,QAAT,OAAwB8L,UAAU9L,QAAV,EAA5B,EAAkD;AAChD,gBAAM,IAAI6C,KAAJ,CAAU,8CAAV,CAAN;AACD;AACF;AACF;AACD,QAAImJ,qBACAM,SAASS,qBAAT,CAA+BC,MAAMC,YAArC,EAAmDhB,SAAnD,KAAiE,CAAjE,IACAK,SAASS,qBAAT,CAA+BC,MAAME,YAArC,EAAmDjB,SAAnD,KAAiE,CAFjE,GAGAK,SAASS,qBAAT,CAA+BC,MAAMG,cAArC,EAAqDlB,SAArD,IAAkE,CAAlE,IACAK,SAASS,qBAAT,CAA+BC,MAAMI,UAArC,EAAiDnB,SAAjD,IAA8D,CAJlE,EAIqE;AACnE,aAAO,IAAP;AACD;AACF;AACD,SAAO,KAAP;AACD;AACDrS,OAAOiS,eAAP,GAAyBA,eAAzB,C,CAA0C;;AAE1C;;;;;;AAMA,SAASwB,eAAT,CAAyBtB,IAAzB,EAA+BD,SAA/B,EAA0C;AACxC,MAAMG,YAAYF,KAAKzG,aAAL,CAAmB4G,WAAnB,EAAlB;AAAA,MACEC,OAAOL,UAAUM,UADnB;AAEAH,YAAUqB,UAAV,CAAqBvB,IAArB;AACA,OAAK,IAAI1Q,IAAI,CAAb,EAAgBA,IAAI8Q,IAApB,EAA0B9Q,GAA1B,EAA+B;AAC7B,QAAMiR,WAAWR,UAAUS,UAAV,CAAqBlR,CAArB,CAAjB;AACA,QAAIiR,SAASS,qBAAT,CAA+BC,MAAMG,cAArC,EAAqDlB,SAArD,IAAkE,CAAlE,IACAK,SAASS,qBAAT,CAA+BC,MAAMI,UAArC,EAAiDnB,SAAjD,IAA8D,CADlE,EACqE;AACnE,aAAO,KAAP;AACD;AACF;AACD,SAAO,IAAP;AACD;AACDrS,OAAOyT,eAAP,GAAyBA,eAAzB,C,CAA0C;;AAE1C,SAASE,WAAT,CAAqBtL,KAArB,EAA4B;AAC1BjB,WAAS/I,IAAT,CAAc,eAAd,WAAsCgK,MAAMC,GAA5C,aAA4DjB,WAAWgB,MAAME,KAAjB,CAA5D,EAD0B,CAC8D;AACxF,MAAM2J,YAAY,CAAC,kBAAkBlS,MAAlB,GAA2BqI,MAAMrI,MAAjC,GAA0CqI,MAAM3J,QAAjD,EAA2DkV,YAA3D,EAAlB;AACA;AACA,MAAI1B,UAAUM,UAAd,EAA0B;AACxB,QAAIqB,QAAQ3B,UAAUY,UAAtB;AAAA,QAAkCgB,MAAM5B,UAAUe,SAAlD;AACA,QAAIY,SAASA,MAAM/L,QAAN,KAAmBC,KAAKgM,SAArC,EAAgD;AAAEF,cAAQA,MAAMpM,UAAd;AAA2B;AAC7E,QAAIqM,OAAOA,IAAIhM,QAAJ,KAAiBC,KAAKgM,SAAjC,EAA4C;AAAED,YAAMA,IAAIrM,UAAV;AAAuB;AACrEL,aAAS/I,IAAT,CACE,YAAS,CAACwV,KAAD,GAAS,MAAT,GAAkBA,UAAUnV,QAAV,GAAqB,UAArB,GAAkCmV,MAAMhC,OAAN,IAAiB,SAA9E,WACGgC,SAASA,MAAM3H,EAAf,SAAwB2H,MAAM3H,EAA9B,GAAqC,EADxC,YAEIgG,UAAUa,YAFd,sBAGQ,CAACe,GAAD,GAAO,MAAP,GAAgBA,QAAQpV,QAAR,GAAmB,UAAnB,GAAgCoV,IAAIjC,OAAJ,IAAe,SAHvE,YAIGiC,OAAOA,IAAI5H,EAAX,SAAoB4H,IAAI5H,EAAxB,GAA+B,EAJlC,YAKIgG,UAAUgB,WALd,6BAMgBhB,UAAU8B,WAN1B,CADF;AASD,GAbD,MAaO;AACL5M,aAAS/I,IAAT,CAAc,SAAd;AACD;AACD;AACA,MAAI6T,UAAUM,UAAV,KAAyBnK,MAAMgH,KAAN,GACzB,CAACoE,gBAAgBpL,MAAM4L,cAAtB,EAAsC/B,SAAtC,CADwB,GAExBA,UAAUgC,YAAV,KACI,CAACpG,QAAD,IAAa,CAACoE,UAAU8B,WAD5B,IAC4C;AAC3C9B,YAAUgC,YAAV,CAAuB7L,MAAMoH,aAA7B,EAA4C,IAA5C,CAFD,GAGCwC,gBAAgBC,SAAhB,EAA2B7J,MAAMoH,aAAjC,EAAgD,IAAhD,CALF,CAAJ,EAMO;AACL,QAAI;AACFyC,gBAAUiC,eAAV,GADE,CAC2B;AAC9B,KAFD,CAEE,OAAOhD,KAAP,EAAc,CAAE,YAAc;AAChC9I,UAAM3J,QAAN,CAAeoT,IAAf,CAAoBE,KAApB;AACA;AACA,QAAIE,UAAUM,UAAV,GAAuB,CAA3B,EAA8B;AAC5B,UAAI;AACFN,kBAAUiC,eAAV,GADE,CAC2B;AAC9B,OAFD,CAEE,OAAOhD,KAAP,EAAc,CAAE,YAAc;AACjC;AACD/J,aAAS/I,IAAT,CAAc,MAAd,WAA6BgK,MAAMC,GAAnC,EAA0C,gBAA1C,EAXK,CAWwD;AAC7D,WAAO,IAAP;AACD;AACDlB,WAAS/I,IAAT,CAAc,aAAd,WAAoCgK,MAAMC,GAA1C,EAAiD,gBAAjD,EAzC0B,CAyC0C;AACpE,SAAO,KAAP;AACD;;AAED,SAAS8L,OAAT,CAAiBtD,KAAjB,EAAwBE,SAAxB,EAAmC;AACjC,MAAMqD,UAAUvD,UAAU,OAAV,IAAqBA,UAAU,OAA/B,IAA0CA,UAAU,OAApD,IAA+DA,UAAU,OAAzF;AACA,SAAOjL,cAAcwO,OAAd,IACLtO,YAAYsO,WACVrD,cAAc,KAAd,KAAwBF,UAAU,eAAV,IAA6BA,UAAU,aAA/D,CADU,IAEVE,cAAc,KAAd,IAAuBF,UAAU,aAFnC,CADF;AAID;AACD9Q,OAAOoU,OAAP,GAAiBA,OAAjB,C,CAA0B;;AAE1B,SAASE,MAAT,CAAgBxD,KAAhB,EAAuBE,SAAvB,EAAkC;AAChC,MAAMqD,UAAUvD,UAAU,OAAV,IAAqBA,UAAU,OAA/B,IAA0CA,UAAU,OAApD,IAA+DA,UAAU,OAAzF;AACA,SAAOjL,cAAcwO,OAAd,IACLtO,YAAYsO,WACVrD,cAAc,KAAd,KAAwBF,UAAU,aAAV,IAA2BA,UAAU,aAA7D,CADF,CADF;AAGD;AACD9Q,OAAOsU,MAAP,GAAgBA,MAAhB,C,CAAwB;;AAExB,SAASC,cAAT,CAAwBlM,KAAxB,EAA+B;AAC7B,MAAMsI,YAAYtI,MAAMsI,SAAxB;AAAA,MAAmClB,gBAAgBpH,MAAMoH,aAAzD;AAAA,MACE+E,iBAAiB/E,cAAcxH,qBAAd,EADnB;;AAGA;AACA,MAAIwM,WAAW/D,eAAerI,KAAf,CAAf;AAAA,MACEqM,OAAO,CAACD,SAASzF,KADnB;AAAA,MAC0B2F,OAAO,CAACF,SAASxF,MAD3C,CAL6B,CAMsB;AACnDd,WAASwC,SAAT,EAAoB,EAACiE,UAAU,QAAX,EAApB,EAA0CvM,MAAMwM,gBAAhD;AACAJ,aAAW/D,eAAerI,KAAf,CAAX;AACAqM,UAAQD,SAASzF,KAAjB;AACA2F,UAAQF,SAASxF,MAAjB;;AAEA,MAAIyF,QAAQC,IAAZ,EAAkB;AAChB,QAAM/E,qBAAqBvH,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8B8C,aAA9B,EAA6C,EAA7C,CAA3B;AACA,QAAIqF,cAAJ;AAAA,QAAWC,cAAX;AACA;AACA;AACA;AACA;AACA;AACA,QAAIlP,cAAcE,OAAlB,EAA2B;AACzB,UAAM+K,QAAQlB,mBAAmBmB,WAAnB,IAAkCnB,mBAAmB,cAAnB,CAAhD;AAAA,UAAoF;AAClFoB,kBAAYpB,mBAAmBoB,SADjC;AAEA,UAAI0D,IAAJ,EAAU;AAAEI,gBAAQV,QAAQtD,KAAR,EAAeE,SAAf,IAA4B,YAA5B,GAA2C,aAAnD;AAAmE;AAC/E,UAAI2D,IAAJ,EAAU;AAAEI,gBAAQT,OAAOxD,KAAP,EAAcE,SAAd,IAA2B,WAA3B,GAAyC,cAAjD;AAAkE;AAC/E,KALD,MAKO;AACL,UAAI0D,IAAJ,EAAU;AAAEI,gBAAQ,aAAR;AAAwB;AACpC,UAAIH,IAAJ,EAAU;AAAEI,gBAAQ,cAAR;AAAyB;AACtC;;AAED,QAAMC,WAAW,EAAjB;AACA,QAAIN,IAAJ,EAAU;AAAEM,eAASF,KAAT,IAAqBzE,WAAWT,mBAAmBkF,KAAnB,CAAX,IAAwCJ,IAA7D;AAAwE;AACpF,QAAIC,IAAJ,EAAU;AAAEK,eAASD,KAAT,IAAqB1E,WAAWT,mBAAmBmF,KAAnB,CAAX,IAAwCJ,IAA7D;AAAwE;AACpFxG,aAASsB,aAAT,EAAwBuF,QAAxB,EAAkC3M,MAAMiI,oBAAxC;AACAd,iBAAanH,KAAb,EAAoBmM,eAAexF,KAAnC,EAA0CwF,eAAevF,MAAzD;;AAEA;AACAgC,kBAAc5I,KAAd,EAAqBsI,SAArB;AACA,WAAO,IAAP;AACD,GA3BD,MA2BO;AACLnC,iBAAamC,SAAb,EAAwBtI,MAAMwM,gBAA9B,EAAgD,CAAC,UAAD,CAAhD;AACA,WAAO,KAAP;AACD;AACF;AACD7U,OAAOuU,cAAP,GAAwBA,cAAxB,C,CAAwC;;AAExC,SAAS3L,SAAT,CAAkBP,KAAlB,EAAyB4M,cAAzB,EAAyC;AACvC,MAAMxF,gBAAgBpH,MAAMoH,aAA5B;AAAA,MACEG,qBAAqBvH,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8B8C,aAA9B,EAA6C,EAA7C,CADvB;AAAA,MAGE5F,aAAaxB,MAAMwB,UAHrB;AAAA,MAIEqL,kBAAkB7M,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8B9C,UAA9B,EAA0C,EAA1C,CAJpB;AAAA,MAKEsL,cAAc1G,QAAQ5E,UAAR,EAAoBxB,MAAMrI,MAA1B,CALhB;AAAA,MAOEoV,UAAU,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,EAAmClX,MAAnC,CAA0C,UAACkX,OAAD,EAAU7G,IAAV,EAAmB;AACrE6G,YAAQ7G,KAAKhP,WAAL,EAAR,IAA8B8Q,WAAWT,8BAA4BrB,IAA5B,WAAX,CAA9B;AACA,WAAO6G,OAAP;AACD,GAHS,EAGP,EAHO,CAPZ;;;AAYE;AACAC,WAAS,EAACzG,MAAMuG,YAAYvG,IAAZ,GAAmByB,WAAW6E,gBAAgBtG,IAA3B,CAA1B;AACPC,SAAKsG,YAAYtG,GAAZ,GAAkBwB,WAAW6E,gBAAgBrG,GAA3B,CADhB,EAbX;AAAA,MAgBEjQ,QAAQ;AACNgQ,UAASqG,eAAerG,IAAf,GAAsByG,OAAOzG,IAA7B,GAAoCwG,QAAQxG,IAArD,OADM;AAENC,SAAQoG,eAAepG,GAAf,GAAqBwG,OAAOxG,GAA5B,GAAkCuG,QAAQvG,GAAlD,OAFM;AAGNG,WAAUiG,eAAejG,KAAf,GAAuBoG,QAAQxG,IAA/B,GAAsCwG,QAAQtG,KAAxD,OAHM;AAING,YAAWgG,eAAehG,MAAf,GAAwBmG,QAAQvG,GAAhC,GAAsCuG,QAAQrG,MAAzD;AAJM,GAhBV;AAAA,MAsBEuG,UAAU,mBAtBZ;;AAwBA;AACA,GACE,EAAC/G,MAAM,SAAP,EAAkBgH,SAAS,MAA3B,EAAmCC,SAAS,KAA5C,EADF,EAEE,EAACjH,MAAM,UAAP,EAAmBgH,SAAS,OAA5B,EAAqCC,SAAS,KAA9C,EAFF,EAGE,EAACjH,MAAM,aAAP,EAAsBgH,SAAS,OAA/B,EAAwCC,SAAS,QAAjD,EAHF,EAIE,EAACjH,MAAM,YAAP,EAAqBgH,SAAS,MAA9B,EAAsCC,SAAS,QAA/C,EAJF,EAKElR,OALF,CAKU,kBAAU;AAClB,QAAMiK,OAAO,oBAAUtO,OAAV,YAA2BwV,OAAOlH,IAAlC,YAAb;AAAA,QACE2B,SAASN,mBAAmBrB,IAAnB,EAAyBrM,KAAzB,CAA+B,GAA/B,CADX;AAEA,QAAIwT,IAAIxF,OAAO,CAAP,CAAR;AAAA,QAAmByF,IAAIzF,OAAO,CAAP,KAAaA,OAAO,CAAP,CAApC;AAAA,QACE0F,UAAUN,QAAQO,IAAR,CAAaH,CAAb,CADZ;AAEAA,QAAI,CAACE,OAAD,GAAW,CAAX,GACFA,QAAQ,CAAR,MAAe,IAAf,GAAsB,CAACA,QAAQ,CAAR,CAAvB,GACAA,QAAQ,CAAR,IAAaX,eAAejG,KAA5B,GAAoC,GAFtC;AAGA4G,cAAUN,QAAQO,IAAR,CAAaF,CAAb,CAAV;AACAA,QAAI,CAACC,OAAD,GAAW,CAAX,GACFA,QAAQ,CAAR,MAAe,IAAf,GAAsB,CAACA,QAAQ,CAAR,CAAvB,GACAA,QAAQ,CAAR,IAAaX,eAAehG,MAA5B,GAAqC,GAFvC;;AAIAyG,SAAKN,QAAQK,OAAOF,OAAf,CAAL;AACAI,SAAKP,QAAQK,OAAOD,OAAf,CAAL;AACA,QAAIE,IAAI,CAAJ,IAASC,IAAI,CAAjB,EAAoB;AAClB/W,YAAM2P,IAAN,IAAiBmH,CAAjB,WAAwBC,CAAxB;AACD;AACF,GAvBD;;AAyBAxH,WAAStE,UAAT,EAAqBjL,KAArB;AACAyJ,QAAM4M,cAAN,GAAuBA,cAAvB;AACD;AACDjV,OAAO4I,QAAP,GAAkBA,SAAlB,C,CAA4B;;AAE5B,SAASkN,iBAAT,CAA2BzN,KAA3B,EAAkC;AAChC,MAAMoH,gBAAgBpH,MAAMoH,aAA5B;AAAA,MACE5F,aAAaxB,MAAMwB,UADrB;AAAA,MAEEkM,iBAAiB,CAAC1N,MAAMsI,SAAP,CAFnB;AAGA,MAAItI,MAAMgH,KAAV,EAAiB;AACf0G,mBAAe1X,IAAf,CAAoBoR,aAApB;AACAjP,UAAM8B,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BiN,cAAcuG,UAAzC,EAAqD1R,OAArD,CAA6D,qBAAa;AACxE,UAAI2R,UAAUnO,QAAV,KAAuBC,KAAKC,YAA5B,IACAiO,cAAcpM,UADd,IAEA,CAAC,0BAAWoM,SAAX,EAAsB5T,QAAtB,CAA+B2C,WAA/B,CAFD,IAGAiR,UAAU/J,EAAV,KAAiBoB,oBAHrB,EAG2C;AACzCyI,uBAAe1X,IAAf,CAAoB4X,SAApB;AACAzV,cAAM8B,SAAN,CAAgBjE,IAAhB,CAAqB6X,KAArB,CAA2BH,cAA3B,EAA2CE,UAAUE,gBAAV,CAA2B,GAA3B,CAA3C;AACD;AACF,KARD;AASD,GAXD,MAWO;AACL3V,UAAM8B,SAAN,CAAgBjE,IAAhB,CAAqB6X,KAArB,CAA2BH,cAA3B,EAA2CtG,cAAc0G,gBAAd,CAA+B,GAA/B,CAA3C;AACD;AACD,SAAOJ,cAAP;AACD;;AAED,SAASK,aAAT,CAAuB/N,KAAvB,EAA8B;AAC5BjB,WAAS/I,IAAT,CAAc,iBAAd,WAAwCgK,MAAMC,GAA9C,aAA8DjB,WAAWgB,MAAME,KAAjB,CAA9D,EAD4B,CAC8D;AAC1F;AACAF,QAAMgO,cAAN,GAAuB,IAAvB;AACA,MAAIhO,MAAMI,OAAN,CAAcyC,IAAd,KAAuB,KAA3B,EAAkC;AAChC,QAAMhM,WAAW,oBAAUe,OAAV,CAAkB,QAAlB,CAAjB;AAAA,QACEP,YAAY,oBAAUY,QAAV,CAAmB,QAAnB,YAAqC+H,MAAMI,OAAN,CAAcyC,IAAnD,SADd;AAEA,QAAIxL,SAAJ,EAAe;AAAE;AACf;AACA,UAAM2W,iBAAiBhO,MAAMgH,KAAN,GACrB7O,MAAM8B,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2B6F,MAAMoH,aAAN,CAAoBuG,UAA/C,EAA2D3U,MAA3D,CAAkE;AAAA,eAC9D4U,UAAUnO,QAAV,KAAuBC,KAAKC,YAA5B,IACAiO,cAAc5N,MAAMwB,UADpB,IAEA,CAAC,0BAAWoM,SAAX,EAAsB5T,QAAtB,CAA+B2C,WAA/B,CAFD,IAGAiR,UAAU/J,EAAV,KAAiBoB,oBAJ6C;AAAA,OAAlE,EAKG/O,GALH,CAKO;AAAA,eAAY,EAAC0C,SAASA,OAAV,EAAmBqV,YAAY,EAA/B,EAAZ;AAAA,OALP,CADqB,GAOrB,CAAC,EAACrV,SAASoH,MAAMoH,aAAhB,EAA+B6G,YAAY,EAA3C,EAAD,CAPF;;AASAD,qBAAe/R,OAAf,CAAuB,yBAAiB;AACtC,YAAM1F,QAAQ,EAAd,CADsC,CACpB;AAClBA,cAAMM,QAAN,IAAkBQ,SAAlB;AACAyO,iBAASoI,cAActV,OAAvB,EAAgCrC,KAAhC,EAAuC2X,cAAcD,UAArD;AACD,OAJD;AAKAjO,YAAMgO,cAAN,GAAuBA,cAAvB;AACD;AACF;;AAEDhO,QAAME,KAAN,GAAckF,WAAd;AACArG,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EA5B4B,CA4BuB;AACnD,MAAIF,MAAMI,OAAN,CAAcgE,MAAlB,EAA0B;AAAEpE,UAAMI,OAAN,CAAcgE,MAAd,CAAqBjK,IAArB,CAA0B6F,MAAMlG,GAAhC;AAAuC;AACnEiF,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,kBAAlC,EA9B4B,CA8B2B;AACxD;;AAED,SAASkO,YAAT,CAAsBnO,KAAtB,EACM8B,IADN,EAEM;AACJ;AACA/C,WAAS/I,IAAT,CAAc,gBAAd,WAAuCgK,MAAMC,GAA7C,aAA6DjB,WAAWgB,MAAME,KAAjB,CAA7D,EAFI,CAEqF;AACzFnB,WAAS/I,IAAT,WAAsB,CAAC,CAAC8L,IAAxB,EAHI,CAG6B;AACjC,4BAAW9B,MAAMwB,UAAjB,EAA6B1I,GAA7B,CAAiCgM,gBAAjC;;AAEAqB,eAAanG,MAAMsI,SAAnB,EAA8BtI,MAAMwM,gBAApC;AACArG,eAAanG,MAAMoH,aAAnB,EAAkCpH,MAAMiI,oBAAxC;AACAjI,QAAMwM,gBAAN,GAAyB,EAAzB;AACAxM,QAAMiI,oBAAN,GAA6B,EAA7B;;AAEAgB,iBAAejJ,KAAf;AACAA,QAAMkJ,oBAAN,GAA6B,EAA7B;;AAEA,MACI,CAACpH,IAAD,IACA9B,MAAMgH,KADN,IACehH,MAAMoO,aAFzB,EAEwC;AACtC;AACA,QAAMC,YAAYrO,MAAME,KAAxB;AACAF,UAAME,KAAN,GAAcgF,YAAd;AACAnG,aAAS/I,IAAT,mBAA8BgJ,WAAWgB,MAAME,KAAjB,CAA9B,EAJsC,CAIoB;AAC1D;AACAnB,aAAS/I,IAAT,CAAc,sBAAd,EANsC,CAMC;AACvCgK,UAAMoH,aAAN,CAAoB1E,mBAApB,CAAwC,OAAxC,EAAiD1C,MAAMsO,aAAvD,EAAsE,IAAtE;AACAtO,UAAMoO,aAAN,CAAoBzE,KAApB;AACA;AACA3J,UAAME,KAAN,GAAcmO,SAAd;AACAtP,aAAS/I,IAAT,mBAA8BgJ,WAAWgB,MAAME,KAAjB,CAA9B,EAXsC,CAWoB;AAC3D;AACDF,QAAMoO,aAAN,GAAsB,IAAtB;;AAEA;AACA,WAASG,gBAAT,GAA4B;AAC1BxP,aAAS/I,IAAT,CAAc,iCAAd,WAAwDgK,MAAMC,GAA9D,aAA8EjB,WAAWgB,MAAME,KAAjB,CAA9E,EAD0B,CACgF;AAC1GF,UAAMwO,qBAAN,GAA8B,IAA9B;AACAxO,UAAME,KAAN,GAAcgF,YAAd;AACAnG,aAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAJ0B,CAIyB;AACnDnB,aAAS/I,IAAT,CAAc,mBAAd,EAL0B,CAKU;AACpCgK,UAAMoH,aAAN,CAAoBxE,gBAApB,CAAqC,OAArC,EAA8C5C,MAAMsO,aAApD,EAAmE,IAAnE;AACA1F,kBAAc5I,KAAd;AACAA,UAAM+I,mBAAN,GAA4B,IAA5B;;AAEA,QAAI/I,MAAMI,OAAN,CAAciE,MAAlB,EAA0B;AAAErE,YAAMI,OAAN,CAAciE,MAAd,CAAqBlK,IAArB,CAA0B6F,MAAMlG,GAAhC;AAAuC;AACnEiF,aAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,kCAAlC,EAX0B,CAW6C;AACxE;;AAED,MAAID,MAAMwO,qBAAV,EAAiC;AAC/BzP,aAAS/I,IAAT,CAAc,gBAAd,EAD+B,CACE;AACjCqF,iBAAa2E,MAAMwO,qBAAnB;AACAxO,UAAMwO,qBAAN,GAA8B,IAA9B;AACD;AACD,MAAI1M,IAAJ,EAAU;AACRyM;AACD,GAFD,MAEO;AACLvO,UAAMwO,qBAAN,GAA8B1T,WAAWyT,gBAAX,EAA6B,CAA7B,CAA9B;AACD;AACDxP,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,iBAAlC,EAxDI,CAwDkD;AACvD;;AAED;;;;;AAKA,SAAS0B,KAAT,CAAc3B,KAAd,EAAqBzG,KAArB,EAA4B;AAC1BwF,WAAS/I,IAAT,CAAc,QAAd,WAA+BgK,MAAMC,GAArC,aAAqDjB,WAAWgB,MAAME,KAAjB,CAArD,EAD0B,CACuD;AACjFnB,WAAS/I,IAAT,YAAuB,CAAC,CAACuD,KAAzB,EAF0B,CAES;;AAEnC,WAASkV,SAAT,CAAmBC,QAAnB,EAA6BC,OAA7B,EAAsC;;AAEpC,aAASC,gBAAT,CAA0BhW,OAA1B,EAAmCoO,KAAnC,EAA0C;AACxC,UAAM6H,WAAW7O,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8B1L,OAA9B,EAAuC,EAAvC,CAAjB;AAAA,UACE4Q,UAAU5Q,QAAQkW,QAAR,CAAiB5X,WAAjB,EADZ;AAEA,aAAQ2X,SAAStC,QAAT,KAAsB,QAAtB,IAAkCsC,SAAStC,QAAT,KAAsB,MAAxD,IACJsC,SAASE,SAAT,KAAuB,QADnB,IAC+BF,SAASE,SAAT,KAAuB,MADtD,IAEJF,SAASG,SAAT,KAAuB,QAFnB,IAE+BH,SAASG,SAAT,KAAuB,MAFvD;AAGL;AACAhI,gBAAU6H,SAAStC,QAAT,KAAsB,SAAtB,IACRsC,SAASE,SAAT,KAAuB,SADf,IAC4BF,SAASG,SAAT,KAAuB,SAD7D,CAJK;AAML;AACA,OAAChI,KAAD,KAAWwC,YAAY,UAAZ,IAA0BA,YAAY,QAAjD,CAPF;AAQD;;AAED,QAAMyF,iBAAiB,EAAvB;AACAP,aAASzS,OAAT,CAAiB,UAACrD,OAAD,EAAUQ,CAAV,EAAgB;AAC/B,UAAM4N,QAAQ2H,WAAWvV,MAAM,CAA/B;AACA,UAAIwV,iBAAiBhW,OAAjB,EAA0BoO,KAA1B,CAAJ,EAAsC;AACpCiI,uBAAejZ,IAAf,CAAoB;AAClB4C,mBAASA,OADS;AAElBoO,iBAAOA,KAFW;AAGlBT,gBAAMQ,WAAWnO,OAAX,EAAoBoO,KAApB,EAA2BhH,MAAMrI,MAAjC,CAHY;AAIlB6O,eAAKU,UAAUtO,OAAV,EAAmBoO,KAAnB,EAA0BhH,MAAMrI,MAAhC;AAJa,SAApB;AAMD;AACF,KAVD;AAWA,WAAOsX,cAAP;AACD;;AAED,WAASC,cAAT,CAAwBR,QAAxB,EAAkCC,OAAlC,EAA2C;AACzC,QAAMzF,uBAAuB,EAA7B;AACAwF,aAASzS,OAAT,CAAiB,UAACrD,OAAD,EAAUQ,CAAV,EAAgB;AAC/B,UAAIuV,WAAWvV,MAAM,CAArB,EAAwB;AAAE;AAAS;;AAEnC,UAAM+P,iBAAiB,EAAvB;AAAA,UACEC,WAAWxQ,QAAQwQ,QADrB;AAEA;AACA,UAAIA,aAAa,CAAC,CAAlB,EAAqB;AACnBD,uBAAevQ,OAAf,GAAyBA,OAAzB;AACAuQ,uBAAeC,QAAf,GAA0BxQ,QAAQuW,YAAR,CAAqB,UAArB,IAAmC/F,QAAnC,GAA8C,KAAxE;AACAxQ,gBAAQwQ,QAAR,GAAmB,CAAC,CAApB;AACD;;AAED,UAAME,YAAY1Q,QAAQ0Q,SAA1B;AACA,UAAIA,SAAJ,EAAe;AACbH,uBAAevQ,OAAf,GAAyBA,OAAzB;AACAuQ,uBAAeG,SAAf,GAA2BA,SAA3B;AACA1Q,gBAAQ0Q,SAAR,GAAoB,EAApB;AACD;;AAED,UAAIH,eAAevQ,OAAnB,EAA4B;AAC1BsQ,6BAAqBlT,IAArB,CAA0BmT,cAA1B;AACD;AACF,KAtBD;AAuBA,WAAOD,oBAAP;AACD;;AAED,MAAIlJ,MAAME,KAAN,KAAgBkF,WAAhB,IACApF,MAAME,KAAN,KAAgBiF,aAAhB,IAAiC,CAAC5L,KADlC,IAEAyG,MAAME,KAAN,KAAgBiF,aAAhB,IACEnF,MAAMI,OAAN,CAAcgP,YADhB,IACgCpP,MAAMI,OAAN,CAAcgP,YAAd,CAA2BjV,IAA3B,CAAgC6F,MAAMlG,GAAtC,MAA+C,KAHnF,EAG0F;AACxFiF,aAAS/I,IAAT,CAAc,QAAd,EAAwB,SAAxB,EADwF,CACpD;AACpC;AACD;;AAED,MAAIgK,MAAME,KAAN,KAAgBgF,YAApB,EAAkC;AAChC,QAAM1D,aAAaxB,MAAMwB,UAAzB;AAAA,QACEE,sBAAsB,0BAAWF,UAAX,CADxB;AAEAxB,UAAM3J,QAAN,CAAeoT,IAAf,CAAoBhF,WAApB,CAAgCjD,UAAhC,EAHgC,CAGa;AAC7C,QAAMkM,iBAAiBD,kBAAkBzN,KAAlB,CAAvB;AACArI,WAAO+V,cAAP,GAAwBA,cAAxB,CALgC,CAKQ;;AAExChM,wBAAoBvI,MAApB,CAA2B2L,gBAA3B,EAPgC,CAOc;AAC9C,QAAI,CAAC9E,MAAMgH,KAAX,EAAkB;AAChB,UAAMI,gBAAgBpH,MAAMoH,aAA5B;AACA,UAAIpH,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8B8C,aAA9B,EAA6C,EAA7C,EAAiD7C,OAAjD,KAA6D,QAAjE,EAA2E;AACzEuB,iBAASsB,aAAT,EAAwB,EAAC7C,SAAS,cAAV,EAAxB,EAAmDvE,MAAMiI,oBAAzD;AACD;AACD1H,gBAASP,KAAT,EAAgBoG,QAAQgB,aAAR,EAAuBpH,MAAMrI,MAA7B,CAAhB;AACD;;AAEDqI,UAAM+I,mBAAN,GAA4B0F,UAAUf,cAAV,EAA0B1N,MAAMgH,KAAhC,CAA5B;AACAhH,UAAMqP,eAAN,GAAwB,KAAxB;AACA;AACA,QAAIrP,MAAMgH,KAAN,IAAehH,MAAM+I,mBAAN,CAA0B7P,MAAzC,IAAmD8G,MAAM+I,mBAAN,CAA0B,CAA1B,EAA6B/B,KAApF,EAA2F;AACzFhH,YAAMqP,eAAN,GAAwBnD,eAAelM,KAAf,CAAxB;AACD;AACDA,UAAMkJ,oBAAN,GAA6BgG,eAAexB,cAAf,EAA+B1N,MAAMgH,KAArC,CAA7B;AACAhH,UAAMoO,aAAN,GAAsBpO,MAAM3J,QAAN,CAAe+X,aAArC;AACA,QAAIpO,MAAMoO,aAAV,EAAyB;AAAE7E,iBAAWvJ,KAAX,EAAkBA,MAAMoO,aAAxB;AAAyC;AACpE9C,gBAAYtL,KAAZ;AACAwB,eAAW8N,WAAX,CA1BgC,CA0BR,kBA1BQ,CA0BW;;AAE3C,QAAItP,MAAMI,OAAN,CAAcmP,UAAlB,EAA8B;AAAEvP,YAAMI,OAAN,CAAcmP,UAAd,CAAyBpV,IAAzB,CAA8B6F,MAAMlG,GAApC;AAA2C;AAC5E;;AAEDkG,QAAMwP,UAAN,CAAiBC,EAAjB,CAAoBlW,KAApB;AACAyG,QAAME,KAAN,GAAciF,aAAd;AACApG,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAvG0B,CAuGyB;AACnD,MAAI3G,KAAJ,EAAW;AACTwU,kBAAc/N,KAAd;AACD;AACDjB,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,SAAlC,EA3G0B,CA2GoB;AAC/C;;AAED;;;;;AAKA,SAAS8B,KAAT,CAAc/B,KAAd,EAAqBzG,KAArB,EACMuI,IADN,EAEM;AACJ;AACA/C,WAAS/I,IAAT,CAAc,QAAd,WAA+BgK,MAAMC,GAArC,aAAqDjB,WAAWgB,MAAME,KAAjB,CAArD,EAFI,CAE6E;AACjFnB,WAAS/I,IAAT,YAAuB,CAAC,CAACuD,KAAzB,EAHI,CAG+B;AACnCwF,WAAS/I,IAAT,WAAsB,CAAC,CAAC8L,IAAxB,EAJI,CAI6B;AACjC,MAAI9B,MAAME,KAAN,KAAgBgF,YAAhB,IACAlF,MAAME,KAAN,KAAgBmF,YAAhB,IAAgC,CAAC9L,KADjC,IAEAyG,MAAME,KAAN,KAAgBmF,YAAhB,IACErF,MAAMI,OAAN,CAAcsP,YADhB,IACgC1P,MAAMI,OAAN,CAAcsP,YAAd,CAA2BvV,IAA3B,CAAgC6F,MAAMlG,GAAtC,MAA+C,KAHnF,EAG0F;AACxFiF,aAAS/I,IAAT,CAAc,QAAd,EAAwB,SAAxB,EADwF,CACpD;AACpC;AACD;;AAED;AACA,MAAIgK,MAAMgO,cAAV,EAA0B;AACxBhO,UAAMgO,cAAN,CAAqB/R,OAArB,CACE,yBAAiB;AAAEkK,mBAAa+H,cAActV,OAA3B,EAAoCsV,cAAcD,UAAlD;AAAgE,KADrF;AAEAjO,UAAMgO,cAAN,GAAuB,IAAvB;AACD;;AAED;AACA,MAAMpV,UAAUoH,MAAM3J,QAAN,CAAe+X,aAA/B;AACA,MAAIxV,WAAWA,YAAYA,QAAQyK,aAAR,CAAsBoG,IAA7C,IACAzJ,MAAMwB,UAAN,CAAiB3B,uBAAjB,CAAyCjH,OAAzC,IAAoD8G,KAAKgK,8BAD7D,EAC6F;AAC3F,QAAI9Q,QAAQiK,IAAZ,EAAkB;AAAE;AAClBjK,cAAQiK,IAAR;AACD,KAFD,MAEO;AACLjK,cAAQyK,aAAR,CAAsBoG,IAAtB,CAA2BE,KAA3B;AACD;AACF;;AAED3J,QAAMwP,UAAN,CAAiBG,GAAjB,CAAqBpW,KAArB;AACAyG,QAAME,KAAN,GAAcmF,YAAd;AACAtG,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAjCI,CAiC+C;AACnD,MAAI3G,KAAJ,EAAW;AACT4U,iBAAanO,KAAb,EACI8B,IADJ;AAGD;AACD/C,WAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,SAAlC,EAvCI,CAuC0C;AAC/C;;AAED;;;;;AAKA,SAASsC,WAAT,CAAoBvC,KAApB,EAA2BwC,UAA3B,EAAuC;AACrC,MAAMpC,UAAUJ,MAAMI,OAAtB;;AAEA;AACA,MAAIoC,WAAWvE,cAAX,CAA0B,MAA1B,KACA,CAACuE,WAAW2B,IAAX,IAAmB,IAAnB,GAA0B,KAAK,CAA/B,GAAmC3B,WAAW2B,IAA/C,MAAyD/D,QAAQ+D,IADrE,EAC2E;AACzE,QAAMyH,iBAAiB5L,MAAM4L,cAA7B;AACA;AACA,WAAOA,eAAejI,UAAtB,EAAkC;AAAEiI,qBAAerM,WAAf,CAA2BqM,eAAejI,UAA1C;AAAwD;AAC5F,QAAInB,WAAW2B,IAAX,KAAoB,KAAxB,EAA+B;AAAE;AAC/B/D,cAAQ+D,IAAR,GAAe,KAAf;AACD,KAFD,MAEO,IAAI3B,WAAW2B,IAAX,IAAmB3B,WAAW2B,IAAX,CAAgB1E,QAAhB,KAA6BC,KAAKC,YAAzD,EAAuE;AAAE;AAC9ES,cAAQ+D,IAAR,GAAe3B,WAAW2B,IAA1B;AACAyH,qBAAenH,WAAf,CAA2BjC,WAAW2B,IAAtC;AACD,KAHM,MAGA,IAAI3B,WAAW2B,IAAX,IAAmB,IAAvB,EAA6B;AAAE;AACpC/D,cAAQ+D,IAAR,GAAe,KAAK,CAApB;AACD;AACF;;AAED;AACA,MAAIyB,SAASpD,WAAWf,QAApB,KAAiCe,WAAWf,QAAX,KAAwBrB,QAAQqB,QAArE,EAA+E;AAC7ErB,YAAQqB,QAAR,GAAmBe,WAAWf,QAA9B;AACAzB,UAAMwB,UAAN,CAAiBjL,KAAjB,CAAuB,oBAAUqB,OAAV,CAAkB,oBAAlB,CAAvB,IACE4K,WAAWf,QAAX,KAAwBlE,QAAxB,GAAmC,EAAnC,GAA2CiF,WAAWf,QAAtD,OADF;AAEAzB,UAAMwP,UAAN,CAAiB/N,QAAjB,GAA+Be,WAAWf,QAA1C;AACD;;AAED;AACA,MAAImE,SAASpD,WAAWK,IAApB,KAA6BL,WAAWK,IAAX,KAAoB,KAArD,EAA4D;AAC1DzC,YAAQyC,IAAR,GAAeL,WAAWK,IAA1B;AACD;;AAED;AACA,MAAI/E,SAAS0E,WAAWjM,KAApB,CAAJ,EAAgC;AAC9BuP,aAAS9F,MAAMwB,UAAf,EAA2BgB,WAAWjM,KAAtC;AACD;;AAED;AACA,GAAC,QAAD,EAAW,QAAX,EAAqB,cAArB,EAAqC,cAArC,EAAqD,YAArD,EAAmE0F,OAAnE,CAA2E,kBAAU;AACnF,QAAI,OAAOuG,WAAWrB,MAAX,CAAP,KAA8B,UAAlC,EAA8C;AAC5Cf,cAAQe,MAAR,IAAkBqB,WAAWrB,MAAX,CAAlB;AACD,KAFD,MAEO,IAAIqB,WAAWvE,cAAX,CAA0BkD,MAA1B,KAAqCqB,WAAWrB,MAAX,KAAsB,IAA/D,EAAqE;AAC1Ef,cAAQe,MAAR,IAAkB,KAAK,CAAvB;AACD;AACF,GAND;AAOD;;AAED,SAASyO,MAAT,CAAgB5P,KAAhB,EAAuBd,MAAvB,EAA+B2Q,OAA/B,EAAwCzM,KAAxC,EAA+C;AAC7C,MAAI4D,cAAJ;AAAA,MAAW8I,iBAAX;;AAEA,MAAI5Q,MAAJ,EAAY;AACV,QAAMwO,iBAAiBD,kBAAkBzN,KAAlB,CAAvB;AACA,QAAI0N,eAAezU,OAAf,CAAuBiG,MAAvB,MAAmC,CAAC,CAAxC,EAA2C;AAAE,aAAO4Q,QAAP;AAAkB,KAFrD,CAEsD;AAChE9I,YAAQ9H,OAAO4P,QAAP,CAAgB5X,WAAhB,OAAkC,MAA1C;AACD,GAJD,MAIO;AACLgI,aAASc,MAAMsI,SAAf;AACAtB,YAAQhH,MAAMgH,KAAd;AACD;;AAED,MAAMgC,gBAAgB5F,SAAS,IAAT,IAAiBpD,MAAM+I,mBAAvB,KACnB/I,MAAM+I,mBAAN,CAA0BgH,IAA1B,GACC/P,MAAM+I,mBAAN,CAA0BgH,IAA1B,CAA+B;AAAA,WAAiB/G,cAAcpQ,OAAd,KAA0BsG,MAA3C;AAAA,GAA/B,CADD,GAEE,0BAAkB;AACjB,QAAI8Q,cAAJ;AACAf,mBAAelX,IAAf,CAAoB,yBAAiB;AACnC,UAAIiR,cAAcpQ,OAAd,KAA0BsG,MAA9B,EAAsC;AACpC8Q,gBAAQhH,aAAR;AACA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD,KAND;AAOA,WAAOgH,KAAP;AACD,GAVD,CAUGhQ,MAAM+I,mBAVT,CAHkB,CAAtB;;AAeA+G,aAAW,CAACD,UAAU9I,UAAV,GAAuBG,SAAxB,EAAmChI,MAAnC,EAA2C8H,KAA3C,EAAkDhH,MAAMrI,MAAxD,EAAgEyL,KAAhE,CAAX;AACA,MAAI4F,aAAJ,EAAmB;AAAEA,kBAAc6G,UAAU,MAAV,GAAmB,KAAjC,IAA0CC,QAA1C;AAAqD;AAC1E,SAAOA,QAAP;AACD;;IAEKG,Y;AACJ;;;;;AAKA,wBAAY/Q,MAAZ,EAAoBkB,OAApB,EAA6B;AAAA;;AAE3B;;;;AAIA,aAAS8P,SAAT,CAAmBhR,MAAnB,EAA2B;AACzB,UAAIiR,qBAAJ;AACA,UAAI,CAACjR,MAAL,EAAa;AACXiR,uBAAe9Z,SAASsH,eAAxB,CADW,CAC8B;AAC1C,OAFD,MAEO,IAAIuB,OAAOO,QAAX,EAAqB;AAC1B,YAAIP,OAAOO,QAAP,KAAoBC,KAAK0Q,aAA7B,EAA4C;AAC1CD,yBAAejR,OAAOvB,eAAtB,CAD0C,CACH;AACxC,SAFD,MAEO,IAAIuB,OAAOO,QAAP,KAAoBC,KAAKC,YAA7B,EAA2C;AAChD,cAAMmP,WAAW5P,OAAO4P,QAAP,CAAgB5X,WAAhB,EAAjB;AACAiZ,yBACErB,aAAa,MAAb,GAAsB5P,OAAOmE,aAAP,CAAqB1F,eAA3C,GAA6D;AAC7DmR,uBAAa,QAAb,IAAyBA,aAAa,OAAtC,GACE5P,OAAOmR,eAAP,CAAuB1S,eADzB,GAC2C;AAC3CuB,gBAJF;AAKD;AACD,YAAI,CAACiR,YAAL,EAAmB;AAAE,gBAAM,IAAIvP,KAAJ,CAAU,+BAAV,CAAN;AAAmD;AACzE,OAZM,MAYA,IAAI1B,WAAWA,OAAOvH,MAAtB,EAA8B;AACnCwY,uBAAejR,OAAO7I,QAAP,CAAgBsH,eAA/B,CADmC,CACa;AACjD;AACD,aAAOwS,YAAP;AACD;;AAED,QAAMnQ,QAAQ;AACZlG,WAAK,IADO;AAEZsG,eAAS,EAAE;AACT+D,cAAM,KADC,EACM;AACb1C,kBAAUlE,QAFH,EAEa;AACpBsF,cAAM,KAHC,CAGK;AAHL,OAFG;AAOZ3C,aAAOgF,YAPK;AAQZsH,wBAAkB,EARN;AASZvE,4BAAsB;AATV,KAAd;;AAYA9J,WAAOgF,cAAP,CAAsB,IAAtB,EAA4B,KAA5B,EAAmC,EAACC,OAAO,EAAEzE,KAAV,EAAnC;AACAqB,UAAMC,GAAN,GAAY,KAAKA,GAAjB;AACAxB,aAAS,KAAKwB,GAAd,IAAqBD,KAArB;;AAEA,QAAI5F,UAAUlB,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,UAAI,EAAE8G,MAAMsI,SAAN,GAAkB4H,UAAUhR,MAAV,CAApB,CAAJ,EAA4C;AAC1C,YAAI,CAACpB,SAASoB,MAAT,CAAL,EAAuB;AAAE,gBAAM,IAAI0B,KAAJ,CAAU,mBAAV,CAAN;AAAuC;AAChEZ,cAAMsI,SAAN,GAAkBjS,SAASsH,eAA3B,CAF0C,CAEE;AAC5CyC,kBAAUlB,MAAV;AACD;AACF,KAND,MAMO,IAAI,EAAEc,MAAMsI,SAAN,GAAkB4H,UAAUhR,MAAV,CAApB,CAAJ,EAA4C;AACjD,YAAM,IAAI0B,KAAJ,CAAU,8BAAV,CAAN;AACD;AACD,QAAI,CAACR,OAAL,EAAc;AACZA,gBAAU,EAAV;AACD,KAFD,MAEO,IAAI,CAACtC,SAASsC,OAAT,CAAL,EAAwB;AAC7B,YAAM,IAAIQ,KAAJ,CAAU,kBAAV,CAAN;AACD;;AAEDZ,UAAMgH,KAAN,GAAchH,MAAMsI,SAAN,CAAgBwG,QAAhB,CAAyB5X,WAAzB,OAA2C,MAAzD;AACA,QAAMoZ,cAActQ,MAAM3J,QAAN,GAAiB2J,MAAMsI,SAAN,CAAgBjF,aAArD;AACArD,UAAMrI,MAAN,GAAe2Y,YAAYhN,WAA3B;AACA,QAAM8D,gBAAgBpH,MAAMoH,aAAN,GAAsBpH,MAAMgH,KAAN,GAAcsJ,YAAY7G,IAA1B,GAAiCzJ,MAAMsI,SAAnF;;AAEA;AACA,QAAI,CAACgI,YAAY/M,cAAZ,CAA2B7G,gBAA3B,CAAL,EAAmD;AACjD,UAAM8G,OAAO8M,YAAY7M,oBAAZ,CAAiC,MAAjC,EAAyC,CAAzC,KAA+C6M,YAAY3S,eAAxE;AAAA,UACE+F,QAAQF,KAAKlE,YAAL,CAAkBgR,YAAYha,aAAZ,CAA0B,OAA1B,CAAlB,EAAsDkN,KAAKG,UAA3D,CADV;AAEAD,YAAME,IAAN,GAAa,UAAb;AACAF,YAAMG,EAAN,GAAWnH,gBAAX;AACAgH,YAAMI,WAAN;AACA,UAAItG,cAAcE,OAAlB,EAA2B;AAAEuB,oBAAYyE,KAAZ;AAAqB,OAND,CAME;AACpD;;AAED;AACA,QAAMlC,aAAaxB,MAAMwB,UAAN,GAAmB8O,YAAYha,aAAZ,CAA0B,KAA1B,CAAtC;AAAA,QACEoL,sBAAsB,0BAAWF,UAAX,CADxB;AAEAE,wBAAoB5I,GAApB,CAAwB6D,WAAxB,EAAqCmI,gBAArC;AACA,QAAI9E,MAAMgH,KAAV,EAAiB;AAAEtF,0BAAoB5I,GAApB,CAAwB8L,eAAxB;AAA2C;;AAE9D;AACA5E,UAAMwP,UAAN,GAAmB,8BAAoBhO,UAApB,EAAgC;AACjD+O,gBAAU,yBAAS;AACjB,YAAM7O,sBAAsB,0BAAWF,UAAX,CAA5B;AACAE,4BAAoBpI,MAApB,CAA2ByL,iBAA3B,EAA8C,CAAC,CAACxL,KAAhD;AACAmI,4BAAoB5I,GAApB,CAAwB+L,gBAAxB;AACD,OALgD;AAMjD2L,iBAAW,0BAAS;AAClB,YAAM9O,sBAAsB,0BAAWF,UAAX,CAA5B;AACAE,4BAAoBpI,MAApB,CAA2ByL,iBAA3B,EAA8C,CAAC,CAACxL,KAAhD;AACAmI,4BAAoBvI,MAApB,CAA2B0L,gBAA3B;AACD,OAVgD;AAWjD;AACA4L,gBAAU,SAZuC;AAajDhP,gBAAalE,QAAb;AAbiD,KAAhC,CAAnB;AAeAiE,eAAWoB,gBAAX,CAA4B,oBAA5B,EAAkD,iBAAS;AACzD,UAAIzG,MAAM+C,MAAN,KAAiBsC,UAAjB,IAA+BrF,MAAMuU,YAAN,KAAuB,SAA1D,EAAqE;AACnE,YAAI1Q,MAAME,KAAN,KAAgBiF,aAApB,EAAmC;AACjC4I,wBAAc/N,KAAd;AACD,SAFD,MAEO,IAAIA,MAAME,KAAN,KAAgBmF,YAApB,EAAkC;AACvC8I,uBAAanO,KAAb;AACD;AACF;AACF,KARD,EAQG,IARH;;AAUA,KAACA,MAAMgH,KAAN,GAAchH,MAAMrI,MAApB,GAA6ByP,aAA9B,EAA6CxE,gBAA7C,CAA8D,QAA9D,EAAwE,iBAAS;AAC/E;AACA7D,eAAS/I,IAAT,CAAc,gBAAd,WAAuCgK,MAAMC,GAA7C,aAA6DjB,WAAWgB,MAAME,KAAjB,CAA7D;AACAnB,eAAS/I,IAAT,CACE,aAAUmG,MAAM+C,MAAN,KAAiB7I,QAAjB,GAA4B,UAA5B,GAAyC8F,MAAM+C,MAAN,CAAasK,OAAb,IAAwB,SAA3E,WACGrN,MAAM+C,MAAN,CAAa2E,EAAb,SAAsB1H,MAAM+C,MAAN,CAAa2E,EAAnC,GAA0C,EAD7C,EADF;AAGA;AACA,UAAM3E,SAAS/C,MAAM+C,MAArB;AACA,UAAIc,MAAME,KAAN,KAAgBgF,YAAhB,IACA0D,cAAc5I,KAAd,EACEA,MAAMgH,KAAN,KACK9H,WAAWc,MAAMrI,MAAjB,IAA2BuH,WAAWc,MAAM3J,QAA5C,IAAwD6I,WAAWc,MAAMoH,aAD9E,IAEEpH,MAAMsI,SAFR,GAEoBpJ,MAHtB,CADJ,EAImC;AACjCH,iBAAS/I,IAAT,CAAc,SAAd,EADiC,CACP;AAC1BmG,cAAM6H,cAAN;AACA7H,cAAM8H,wBAAN;AACD;AACDlF,eAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,iBAAlC,EAjB+E,CAiBzB;AACvD,KAlBD,EAkBG,IAlBH;;AAoBA;AACA;AACAD,UAAMsO,aAAN,GAAsB,iBAAS;AAC7B;AACAvP,eAAS/I,IAAT,CAAc,iBAAd,WAAwCgK,MAAMC,GAA9C,aAA8DjB,WAAWgB,MAAME,KAAjB,CAA9D;AACAnB,eAAS/I,IAAT,CACE,aAAUmG,MAAM+C,MAAN,KAAiB7I,QAAjB,GAA4B,UAA5B,GAAyC8F,MAAM+C,MAAN,CAAasK,OAAb,IAAwB,SAA3E,WACGrN,MAAM+C,MAAN,CAAa2E,EAAb,SAAsB1H,MAAM+C,MAAN,CAAa2E,EAAnC,GAA0C,EAD7C,EADF;AAGA;AACA,UAAI7D,MAAME,KAAN,KAAgBgF,YAAhB,IAAgCqE,WAAWvJ,KAAX,EAAkB7D,MAAM+C,MAAxB,CAApC,EAAqE;AACnEH,iBAAS/I,IAAT,CAAc,SAAd,EADmE,CACzC;AAC1BmG,cAAM6H,cAAN;AACA7H,cAAM8H,wBAAN;AACD;AACDlF,eAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,kBAAlC,EAZ6B,CAY0B;AACxD,KAbD;AAcAmH,kBAAcxE,gBAAd,CAA+B,OAA/B,EAAwC5C,MAAMsO,aAA9C,EAA6D,IAA7D;;AAEA,KAAC,oBAAY;AAAE;AACb,OAAC,OAAD,EAAU,SAAV,EAAqBrS,OAArB,CAA6B,gBAAQ;AACnC;AACA+D,cAAMrI,MAAN,CAAaiL,gBAAb,CAA8BgB,IAA9B,EAAoCxH,QAApC,EAA8C,IAA9C;AACD,OAHD;AAID,KALD,EAKG,iBAAS;AACV2C,eAAS/I,IAAT,CAAc,qBAAd,WAA4CgK,MAAMC,GAAlD,aAAkEjB,WAAWgB,MAAME,KAAjB,CAAlE,EADU,CACoF;AAC9F,UAAIF,MAAME,KAAN,KAAgBgF,YAAhB,IAAgCoG,YAAYtL,KAAZ,CAApC,EAAwD;AACtDjB,iBAAS/I,IAAT,CAAc,SAAd,EADsD,CAC5B;AAC1BmG,cAAM6H,cAAN;AACA7H,cAAM8H,wBAAN;AACD;AACDlF,eAAS/I,IAAT,UAAqBgK,MAAMC,GAA3B,EAAkC,sBAAlC,EAPU,CAOiD;AAC5D,KAbD;;AAeA;AACAD,UAAM2Q,QAAN,GAAiB,KAAjB;AACA3Q,UAAMrI,MAAN,CAAaiL,gBAAb,CAA8B,QAA9B,EAAwC,oBAAU9J,GAAV,CAAc,YAAM;AAC1D,UAAIkH,MAAM2Q,QAAV,EAAoB;AAClBxI,gBAAQC,IAAR,CAAa,6CAAb,EADkB,CAC2C;AAC7D;AACD;AACDpI,YAAM2Q,QAAN,GAAiB,IAAjB;AACA,UAAI3Q,MAAME,KAAN,KAAgBgF,YAApB,EAAkC;AAChC,YAAIlF,MAAMgH,KAAV,EAAiB;AACf,cAAIhH,MAAM+I,mBAAN,CAA0B7P,MAA1B,IAAoC8G,MAAM+I,mBAAN,CAA0B,CAA1B,EAA6B/B,KAArE,EAA4E;AAC1E,gBAAIhH,MAAMqP,eAAV,EAA2B;AAAE;AAC3BlH,sBAAQoC,GAAR,CAAY,iBAAZ,EADyB,CACO;AAChCpE,2BAAanG,MAAMsI,SAAnB,EAA8BtI,MAAMwM,gBAApC,EAAsD,CAAC,UAAD,CAAtD;AACArG,2BAAaiB,aAAb,EAA4BpH,MAAMiI,oBAAlC,EACE,CAAC,YAAD,EAAe,aAAf,EAA8B,WAA9B,EAA2C,cAA3C,EAA2D,OAA3D,EAAoE,QAApE,CADF;AAED;AACDE,oBAAQoC,GAAR,CAAY,gBAAZ,EAP0E,CAO3C;AAC/BvK,kBAAMqP,eAAN,GAAwBnD,eAAelM,KAAf,CAAxB;AACD;AACF,SAXD,MAWO;AACL,cAAMsG,OAAOF,QAAQgB,aAAR,EAAuBpH,MAAMrI,MAA7B,CAAb;AAAA,cACEiZ,WAAW5Q,MAAM4M,cADnB;AAEA,cAAItG,KAAKC,IAAL,KAAcqK,SAASrK,IAAvB,IAA+BD,KAAKE,GAAL,KAAaoK,SAASpK,GAArD,IACAF,KAAKK,KAAL,KAAeiK,SAASjK,KADxB,IACiCL,KAAKM,MAAL,KAAgBgK,SAAShK,MAD9D,EACsE;AACpEuB,oBAAQoC,GAAR,CAAY,iBAAZ,EADoE,CACpC;AAChChK,sBAASP,KAAT,EAAgBsG,IAAhB;AACD;AACF;AACD,YAAItG,MAAMI,OAAN,CAAcmP,UAAlB,EAA8B;AAAEvP,gBAAMI,OAAN,CAAcmP,UAAd,CAAyBpV,IAAzB,CAA8B6F,MAAMlG,GAApC;AAA2C;AAC5E;AACDkG,YAAM2Q,QAAN,GAAiB,KAAjB;AACD,KA9BuC,CAAxC,EA8BI,IA9BJ;;AAgCA;AACAnP,eAAWoB,gBAAX,CAA4B,WAA5B,EAAyC,iBAAS;AAChD,UAAI5C,MAAME,KAAN,KAAgBgF,YAApB,EAAkC;AAChC/I,cAAM6H,cAAN;AACA7H,cAAM8H,wBAAN;AACD;AACF,KALD,EAKG,IALH;;AAOA;AACA,KAACjE,MAAM4L,cAAN,GAAuBpK,WAAWiD,WAAX,CAAuB6L,YAAYha,aAAZ,CAA0B,KAA1B,CAAvB,CAAxB,EACGoO,SADH,GACeM,gBADf;;AAGAsL,gBAAY7G,IAAZ,CAAiBhF,WAAjB,CAA6BjD,UAA7B;;AAEA;AACA,QAAI,CAACpB,QAAQnC,cAAR,CAAuB,MAAvB,CAAL,EAAqC;AAAEmC,cAAQ+D,IAAR,GAAe,IAAf;AAAsB;;AAE7D5B,gBAAWvC,KAAX,EAAkBI,OAAlB;AACD;;AAED;;;;;;;;+BAIWA,O,EAAS;AAClB,UAAItC,SAASsC,OAAT,CAAJ,EAAuB;AACrBmC,oBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+BG,OAA/B;AACD;AACD,aAAO,IAAP;AACD;;AAED;;;;;;;;;yBAMK7G,K,EAAO6G,O,EAAS;AACnB,UAAIhG,UAAUlB,MAAV,GAAmB,CAAnB,IAAwB,OAAOK,KAAP,KAAiB,SAA7C,EAAwD;AACtD6G,kBAAU7G,KAAV;AACAA,gBAAQ,KAAR;AACD;;AAED,WAAKgJ,UAAL,CAAgBnC,OAAhB;AACAuB,YAAKlD,SAAS,KAAKwB,GAAd,CAAL,EAAyB1G,KAAzB;AACA,aAAO,IAAP;AACD;;AAED;;;;;;;;yBAKKA,K,EACCuI,I,EACA;AACJ;AACAC,YAAKtD,SAAS,KAAKwB,GAAd,CAAL,EAAyB1G,KAAzB,EACIuI,IADJ;AAGA,aAAO,IAAP;AACD;;;+BAEUsB,K,EAAOlE,M,EAAQ;AACxB,aAAO0Q,OAAOnR,SAAS,KAAKwB,GAAd,CAAP,EAA2Bf,MAA3B,EAAmC,IAAnC,EAAyCkE,KAAzC,CAAP;AACD;;;8BAESA,K,EAAOlE,M,EAAQ;AACvB,aAAO0Q,OAAOnR,SAAS,KAAKwB,GAAd,CAAP,EAA2Bf,MAA3B,EAAmC,KAAnC,EAA0CkE,KAA1C,CAAP;AACD;;;+BAEU;AACT,UAAMpD,QAAQvB,SAAS,KAAKwB,GAAd,CAAd;AACA,UAAID,MAAME,KAAN,KAAgBgF,YAApB,EAAkC;AAChC,YAAI,CAAClF,MAAMgH,KAAX,EAAkB;AAAEzG,oBAASP,KAAT,EAAgBoG,QAAQpG,MAAMoH,aAAd,EAA6BpH,MAAMrI,MAAnC,CAAhB;AAA8D;AAClF,YAAIqI,MAAMI,OAAN,CAAcmP,UAAlB,EAA8B;AAAEvP,gBAAMI,OAAN,CAAcmP,UAAd,CAAyBpV,IAAzB,CAA8B6F,MAAMlG,GAApC;AAA2C;AAC5E;AACD,aAAO,IAAP;AACD;;;wBAEW;AACV,aAAO2E,SAAS,KAAKwB,GAAd,EAAmBC,KAA1B;AACD;;;wBAEW;AACV,aAAOzB,SAAS,KAAKwB,GAAd,EAAmBuB,UAAnB,CAA8BjL,KAArC;AACD;;;wBAEU;AAAE,aAAOkI,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2B+D,IAAlC;AAAyC,K;sBAC7Cf,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACkE,MAAMf,KAAP,EAA/B;AAAgD;;;wBAEnD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BqB,QAAlC;AAA6C,K;sBACjD2B,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACwB,UAAU2B,KAAX,EAA/B;AAAoD;;;wBAE/D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2ByC,IAAlC;AAAyC,K;sBAC7CO,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAAC4C,MAAMO,KAAP,EAA/B;AAAgD;;;wBAErD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BgE,MAAlC;AAA2C,K;sBAC/ChB,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACmE,QAAQhB,KAAT,EAA/B;AAAkD;;;wBAEzD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BiE,MAAlC;AAA2C,K;sBAC/CjB,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACoE,QAAQjB,KAAT,EAA/B;AAAkD;;;wBAEnD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BgP,YAAlC;AAAiD,K;sBACrDhM,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACmP,cAAchM,KAAf,EAA/B;AAAwD;;;wBAE/D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BsP,YAAlC;AAAiD,K;sBACrDtM,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACyP,cAActM,KAAf,EAA/B;AAAwD;;;wBAEjE;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BmP,UAAlC;AAA+C,K;sBACnDnM,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACsP,YAAYnM,KAAb,EAA/B;AAAsD;;;yBAElElE,M,EAAQkB,O,EAAS;AAC3B,aAAQ,IAAI6P,YAAJ,CAAiB/Q,MAAjB,EAAyBkB,OAAzB,CAAD,CAAoCuB,IAApC,EAAP;AACD;;;wBAEyB;AAAE,aAAOuD,YAAP;AAAsB;;;wBACvB;AAAE,aAAOC,aAAP;AAAuB;;;wBAC3B;AAAE,aAAOC,WAAP;AAAqB;;;wBACtB;AAAE,aAAOC,YAAP;AAAsB;;;;;;AAGpD4K,aAAaY,KAAb,GAAqB,IAArB;;AAEA;AACAZ,aAAaxR,QAAb,GAAwBA,QAAxB;AACAwR,aAAalR,QAAb,GAAwBA,QAAxB;AACAkR,aAAajR,UAAb,GAA0BA,UAA1B;AACAiR,aAAazS,UAAb,GAA0BA,UAA1B;AACAyS,aAAavS,OAAb,GAAuBA,OAAvB;AACAuS,aAAa1K,SAAb,GAAyBA,SAAzB;AACA0K,aAAaxK,QAAb,GAAwBA,QAAxB;AACAwK,aAAatK,QAAb,GAAwBA,QAAxB;AACA;;kBAEesK,Y;;;;;;;;;;;;;;qjBChuCf;;;;;;;;AAQA;;;;;;;;AAEA,IACEa,gBAAgB,CADlB;AAAA,IACqBC,iBAAiB,CADtC;AAAA,IACyCC,gBAAgB,CADzD;AAAA,IAGEC,SAAS,OAHX;AAAA,IAIEC,iBAAoBD,MAApB,kBAJF;AAAA,IAKEE,mBAAsBF,MAAtB,oBALF;AAAA,IAMEG,iBAAoBH,MAApB,kBANF;AAAA,IAOEI,oBAAuBJ,MAAvB,qBAPF;AAAA,IASEvT,UAAU,sBAAsBrH,SAASsH,eAAT,CAAyBpH,KAA/C,IACR,mBAAmBF,SAASsH,eAAT,CAAyBpH,KADpC,IAC6C,CAACoB,OAAOiG,SAAP,CAAiBC,gBAV3E;AAAA,IAYEC,WAAY,YAAM;AAChB,MAAMC,WAAW,GAAGA,QAApB;AAAA,MAA8BC,aAAa,GAAGC,cAAH,CAAkBF,QAA7D;AAAA,MACEG,cAAcF,WAAW7D,IAAX,CAAgBgE,MAAhB,CADhB;AAEA,SAAO,eAAO;AACZ,QAAIC,cAAJ;AAAA,QAAWC,eAAX;AACA,WAAOC,OAAOP,SAAS5D,IAAT,CAAcmE,GAAd,MAAuB,iBAA9B,KACJ,EAAEF,QAAQD,OAAOI,cAAP,CAAsBD,GAAtB,CAAV,KACC,CAACD,SAASD,MAAMH,cAAN,CAAqB,aAArB,KAAuCG,MAAMI,WAAvD,KACA,OAAOH,MAAP,KAAkB,UADlB,IACgCL,WAAW7D,IAAX,CAAgBkE,MAAhB,MAA4BH,WAHzD,CAAP;AAID,GAND;AAOD,CAVU,EAZb;AAAA,IAuBE0H,WAAWC,OAAOD,QAAP,IAAoB;AAAA,SAAS,OAAOxC,KAAP,KAAiB,QAAjB,IAA6BzL,OAAOiO,QAAP,CAAgBxC,KAAhB,CAAtC;AAAA,CAvBjC;;;AAyBE;;;;;;;;;;;;;;;;;AAiBA;AACA3E,WAAW,EA3Cb;;AA6CA,IAAIE,QAAQ,CAAZ;;AAEA;AACA,IAAMI,WAAW,EAAjB;AACA,IAAMC,aAAa,EAAnB;AACAA,WAAW8R,aAAX,IAA4B,eAA5B;AACA9R,WAAW+R,cAAX,IAA6B,gBAA7B;AACA/R,WAAWgS,aAAX,IAA4B,eAA5B;AACA,SAASM,SAAT,CAAmBC,SAAnB,EAA8B;AAAE,SAAOlK,KAAKmK,KAAL,CAAWD,YAAY,GAAvB,IAA8B,GAArC;AAA2C,C,CAAC;AAC5E;;AAEA;;;;;AAKA,SAASE,SAAT,CAAmBzR,KAAnB,EAA0B4D,IAA1B,EAAgC;AAC9B;AACA7E,WAAS/I,IAAT,CAAc,aAAd,WAAoCgK,MAAMC,GAA1C,aAA0DjB,WAAWgB,MAAME,KAAjB,CAA1D;AACAnB,WAAS/I,IAAT,WAAsBgK,MAAM0R,IAA5B,eACaJ,UAAUtR,MAAM2R,OAAhB,CADb,iBACsDL,UAAUtR,MAAM4R,SAAhB,CADtD,uBAEqBN,UAAUtR,MAAM6R,eAAhB,CAFrB;AAGA9S,WAAS/I,IAAT,WAAsB4N,IAAtB;AACA;AACA,MAAMkO,WAAWzK,KAAK0K,GAAL,CAAS1K,KAAK2K,GAAL,CAAS,CAAChS,MAAMiS,KAAhB,EAAuB,CAAvB,CAAT,EAAoCjS,MAAMyB,QAA1C,CAAjB;AAAA,MACEyQ,cAAc,CAACJ;AACb;AACC,GAAClO,SAASwN,cAAT,IAA2BxN,SAASyN,iBAArC,KAA2DrR,MAAM4R,SAAjE,GACCpW,KAAKC,GAAL,KAAauE,MAAM4R,SADpB,GACgC,CAHpB,CAAD,IAIV,IALN;;AAOA,MAAIzV,cAAJ;AACA,MAAI;AACFA,YAAQ,IAAI6D,MAAMrI,MAAN,CAAawa,eAAjB,CAAiCvO,IAAjC,EAAuC;AAC7C8M,oBAAc1Q,MAAMI,OAAN,CAAcqQ,QADiB;AAE7C2B,qBAAepS,MAAMI,OAAN,CAAcgS,aAFgB;AAG7CF,mBAAaA,WAHgC;AAI7CG,eAAS,IAJoC;AAK7CC,kBAAY;AALiC,KAAvC,CAAR;AAOA;AACA,QAAI5U,OAAJ,EAAa;AAAEvB,YAAMiW,aAAN,GAAsBpS,MAAMI,OAAN,CAAcgS,aAApC;AAAoD;AACpE,GAVD,CAUE,OAAOtJ,KAAP,EAAc;AACd3M,YAAQ6D,MAAMrI,MAAN,CAAatB,QAAb,CAAsBkc,WAAtB,CAAkC,iBAAlC,CAAR;AACApW,UAAMqW,mBAAN,CAA0B5O,IAA1B,EAAgC,IAAhC,EAAsC,KAAtC,EAA6C5D,MAAMI,OAAN,CAAcqQ,QAA3D,EAAqEyB,WAArE;AACA/V,UAAMiW,aAAN,GAAsBpS,MAAMI,OAAN,CAAcgS,aAApC;AACD;AACDjW,QAAMsW,eAAN,GAAwBzS,MAAMlG,GAA9B;AACAkG,QAAMpH,OAAN,CAAc8Z,aAAd,CAA4BvW,KAA5B;AACA4C,WAAS/I,IAAT,CAAc,cAAd,EAjC8B,CAiCC;AAChC;;AAED;;;;AAIA,SAAS2c,kBAAT,CAA4B3S,KAA5B,EAAmC;AACjC;AACAjB,WAAS/I,IAAT,CAAc,sBAAd,WAA6CgK,MAAMC,GAAnD,aAAmEjB,WAAWgB,MAAME,KAAjB,CAAnE;AACAnB,WAAS/I,IAAT,sBAAiCsb,UAAUtR,MAAM6R,eAAhB,CAAjC;AACA;AACA,MAAI7R,MAAME,KAAN,KAAgB8Q,aAApB,EAAmC;AACjCjS,aAAS/I,IAAT,CAAc,QAAd,EAAwB,uBAAxB,EADiC,CACiB;AAClD;AACD;AACD,MAAM4c,cAAcpX,KAAKC,GAAL,KAAauE,MAAM4R,SAAvC;AACA5R,QAAM6R,eAAN,GAAwB7R,MAAM0R,IAAN,GACtBrK,KAAK0K,GAAL,CAAS/R,MAAM6R,eAAN,GAAwBe,WAAjC,EAA8C5S,MAAMyB,QAApD,CADsB,GAEtB4F,KAAK2K,GAAL,CAAShS,MAAM6R,eAAN,GAAwBe,WAAjC,EAA8C,CAA9C,CAFF;AAGA7T,WAAS/I,IAAT,sBAAiCsb,UAAUtR,MAAM6R,eAAhB,CAAjC,EAbiC,CAaqC;AACtE9S,WAAS/I,IAAT,CAAc,uBAAd,EAdiC,CAcO;AACzC;;AAED;;;;;AAKA,SAAS6c,SAAT,CAAmB7S,KAAnB,EAA0B;AACxBjB,WAAS/I,IAAT,CAAc,cAAd,WAAqCgK,MAAMC,GAA3C,YAA0DD,MAAM0R,IAAhE,EADwB,CACiD;AACzE1R,QAAME,KAAN,GAAc4Q,aAAd;AACA/R,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAHwB,CAG2B;AACnDF,QAAM2R,OAAN,GAAgB,CAAhB;AACA3R,QAAM4R,SAAN,GAAkB,CAAlB;AACA5R,QAAM6R,eAAN,GAAwB7R,MAAM0R,IAAN,GAAa1R,MAAMyB,QAAnB,GAA8B,CAAtD;AACD;;AAED;;;;AAIA,SAASqR,aAAT,CAAuB9S,KAAvB,EAA8B;AAC5B;AACAjB,WAAS/I,IAAT,CAAc,iBAAd,WAAwCgK,MAAMC,GAA9C,aAA8DjB,WAAWgB,MAAME,KAAjB,CAA9D;AACAnB,WAAS/I,IAAT,WAAsBgK,MAAM0R,IAA5B,eACaJ,UAAUtR,MAAM2R,OAAhB,CADb,iBACsDL,UAAUtR,MAAM4R,SAAhB,CADtD,uBAEqBN,UAAUtR,MAAM6R,eAAhB,CAFrB;AAGA;AACA,MAAI7R,MAAME,KAAN,KAAgB8Q,aAApB,EAAmC;AACjCjS,aAAS/I,IAAT,CAAc,QAAd,EAAwB,kBAAxB,EADiC,CACY;AAC7C;AACD;;AAEDgK,QAAME,KAAN,GAAc4Q,aAAd;AACA/R,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAb4B,CAauB;AACnDuR,YAAUzR,KAAV,EAAiBoR,cAAjB;;AAEAyB,YAAU7S,KAAV;AACAjB,WAAS/I,IAAT,CAAc,kBAAd,EAjB4B,CAiBO;AACpC;;AAED;;;;AAIA,SAAS+c,cAAT,CAAwB/S,KAAxB,EAA+B;AAC7B;AACAjB,WAAS/I,IAAT,CAAc,kBAAd,WAAyCgK,MAAMC,GAA/C,aAA+DjB,WAAWgB,MAAME,KAAjB,CAA/D;AACAnB,WAAS/I,IAAT,WAAsBgK,MAAM0R,IAA5B,eACaJ,UAAUtR,MAAM2R,OAAhB,CADb,iBACsDL,UAAUtR,MAAM4R,SAAhB,CADtD,uBAEqBN,UAAUtR,MAAM6R,eAAhB,CAFrB;AAGA;AACA,MAAI7R,MAAME,KAAN,KAAgB6Q,cAApB,EAAoC;AAClChS,aAAS/I,IAAT,CAAc,QAAd,EAAwB,mBAAxB,EADkC,CACY;AAC9C;AACD;;AAEDgK,QAAME,KAAN,GAAc8Q,aAAd;AACAjS,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAb6B,CAasB;AACnDF,QAAM4R,SAAN,GAAkBpW,KAAKC,GAAL,EAAlB;AACAuE,QAAMgT,WAAN,GAAoB,CAAChT,MAAM0R,IAA3B;AACAD,YAAUzR,KAAV,EAAiBmR,gBAAjB;;AAEA,MAAM8B,eAAejT,MAAM0R,IAAN,GAAa1R,MAAMyB,QAAN,GAAiBzB,MAAM6R,eAApC,GAAsD7R,MAAM6R,eAAjF;AACA9S,WAAS/I,IAAT,mBAA8Bsb,UAAU2B,YAAV,CAA9B,EAnB6B,CAmB6B;AAC1D,MAAIA,eAAe,CAAnB,EAAsB;AACpBjT,UAAMkT,KAAN,GAAcpY,WAAW,YAAM;AAAEgY,oBAAc9S,KAAd;AAAuB,KAA1C,EAA4CiT,YAA5C,CAAd;AACD,GAFD,MAEO;AACLH,kBAAc9S,KAAd;AACD;AACDjB,WAAS/I,IAAT,CAAc,mBAAd,EAzB6B,CAyBO;AACrC;;AAED;;;;AAIA,SAASmd,KAAT,CAAenT,KAAf,EAAsB;AACpBjB,WAAS/I,IAAT,CAAc,SAAd,WAAgCgK,MAAMC,GAAtC,YAAqDD,MAAM0R,IAA3D,EADoB,CACgD;AACpErW,eAAa2E,MAAMkT,KAAnB;AACA,MAAIlT,MAAME,KAAN,KAAgB4Q,aAApB,EAAmC;AACjC/R,aAAS/I,IAAT,CAAc,QAAd,EAAwB,UAAxB,EADiC,CACI;AACrC;AACD;;AAEDgK,QAAME,KAAN,GAAc4Q,aAAd;AACA/R,WAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EAToB,CAS+B;AACnDuR,YAAUzR,KAAV,EAAiBqR,iBAAjB;AACAtS,WAAS/I,IAAT,CAAc,UAAd,EAXoB,CAWO;AAC5B;;AAED;;;;;AAKA,SAASyZ,GAAT,CAAYzP,KAAZ,EAAmBzG,KAAnB,EAA0B;AACxB;AACAwF,WAAS/I,IAAT,CAAc,MAAd,WAA6BgK,MAAMC,GAAnC,aAAmDjB,WAAWgB,MAAME,KAAjB,CAAnD;AACAnB,WAAS/I,IAAT,YAAuB,CAAC,CAACuD,KAAzB;AACAwF,WAAS/I,IAAT,WAAsBgK,MAAM0R,IAA5B,eACaJ,UAAUtR,MAAM2R,OAAhB,CADb,iBACsDL,UAAUtR,MAAM4R,SAAhB,CADtD,uBAEqBN,UAAUtR,MAAM6R,eAAhB,CAFrB;AAGA;AACA,MAAI7R,MAAM0R,IAAN,IAAc1R,MAAME,KAAN,KAAgB4Q,aAA9B,IACA9Q,MAAM0R,IAAN,IAAc1R,MAAME,KAAN,KAAgB4Q,aAA9B,IAA+C,CAACvX,KADpD,EAC2D;AACzDwF,aAAS/I,IAAT,CAAc,QAAd,EAAwB,OAAxB,EADyD,CACvB;AAClC;AACD;AACD;;;;;;AAMA,MAAIgK,MAAMI,OAAN,CAAcmQ,QAAlB,EAA4B;AAAEvQ,UAAMI,OAAN,CAAcmQ,QAAd,CAAuBpW,IAAvB,CAA4B6F,MAAMlG,GAAlC,EAAuC,CAAC,CAACP,KAAzC;AAAkD;;AAEhF,MAAIA,SAAS,CAACyG,MAAM0R,IAAP,IAAe1R,MAAME,KAAN,KAAgB6Q,cAAxC,IACA,CAAC/Q,MAAMiS,KAAP,GAAejS,MAAMyB,QADzB,EACmC;AAAE;AACnC;AACA1C,aAAS/I,IAAT,YACEuD,QAAQ,OAAR,GACA,CAACyG,MAAM0R,IAAP,IAAe1R,MAAME,KAAN,KAAgB6Q,cAA/B,GAAgD,UAAhD,GACA,eAHF;AAIA;AACAoC,UAAMnT,KAAN;AACAA,UAAM0R,IAAN,GAAa,IAAb;AACAmB,cAAU7S,KAAV;AAED,GAZD,MAYO;AACL2S,uBAAmB3S,KAAnB;AACAmT,UAAMnT,KAAN;;AAEAA,UAAME,KAAN,GAAc6Q,cAAd;AACAhS,aAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EALK,CAK8C;AACnDF,UAAM0R,IAAN,GAAa,IAAb;AACA1R,UAAM2R,OAAN,GAAgBnW,KAAKC,GAAL,EAAhB;AACAuE,UAAM4R,SAAN,GAAkB,CAAlB;AACAH,cAAUzR,KAAV,EAAiBkR,cAAjB;;AAEA,QAAIlR,MAAMiS,KAAN,GAAc,CAAlB,EAAqB;AACnBjS,YAAMkT,KAAN,GAAcpY,WAAW,YAAM;AAAEiY,uBAAe/S,KAAf;AAAwB,OAA3C,EAA6CA,MAAMiS,KAAnD,CAAd;AACD,KAFD,MAEO;AACL,UAAIjS,MAAMiS,KAAN,GAAc,CAAlB,EAAqB;AAAE;AACrBjS,cAAM6R,eAAN,GAAwBxK,KAAK0K,GAAL,CAAS/R,MAAM6R,eAAN,GAAwB7R,MAAMiS,KAAvC,EAA8CjS,MAAMyB,QAApD,CAAxB;AACD;AACDsR,qBAAe/S,KAAf;AACD;AACF;AACDjB,WAAS/I,IAAT,CAAc,OAAd,EArDwB,CAqDA;AACzB;;AAED;;;;;AAKA,SAAS2Z,IAAT,CAAa3P,KAAb,EAAoBzG,KAApB,EAA2B;AACzB;AACAwF,WAAS/I,IAAT,CAAc,OAAd,WAA8BgK,MAAMC,GAApC,aAAoDjB,WAAWgB,MAAME,KAAjB,CAApD;AACAnB,WAAS/I,IAAT,YAAuB,CAAC,CAACuD,KAAzB;AACAwF,WAAS/I,IAAT,WAAsBgK,MAAM0R,IAA5B,eACaJ,UAAUtR,MAAM2R,OAAhB,CADb,iBACsDL,UAAUtR,MAAM4R,SAAhB,CADtD,uBAEqBN,UAAUtR,MAAM6R,eAAhB,CAFrB;AAGA;AACA,MAAI,CAAC7R,MAAM0R,IAAP,IAAe1R,MAAME,KAAN,KAAgB4Q,aAA/B,IACA,CAAC9Q,MAAM0R,IAAP,IAAe1R,MAAME,KAAN,KAAgB4Q,aAA/B,IAAgD,CAACvX,KADrD,EAC4D;AAC1DwF,aAAS/I,IAAT,CAAc,QAAd,EAAwB,QAAxB,EAD0D,CACvB;AACnC;AACD;AACD;;;;;;AAMA,MAAIgK,MAAMI,OAAN,CAAcoQ,SAAlB,EAA6B;AAAExQ,UAAMI,OAAN,CAAcoQ,SAAd,CAAwBrW,IAAxB,CAA6B6F,MAAMlG,GAAnC,EAAwC,CAAC,CAACP,KAA1C;AAAmD;;AAElF,MAAIA,SAASyG,MAAM0R,IAAN,IAAc1R,MAAME,KAAN,KAAgB6Q,cAAvC,IACA,CAAC/Q,MAAMiS,KAAP,GAAejS,MAAMyB,QADzB,EACmC;AAAE;AACnC;AACA1C,aAAS/I,IAAT,YACEuD,QAAQ,OAAR,GACAyG,MAAM0R,IAAN,IAAc1R,MAAME,KAAN,KAAgB6Q,cAA9B,GAA+C,UAA/C,GACA,eAHF;AAIA;AACAoC,UAAMnT,KAAN;AACAA,UAAM0R,IAAN,GAAa,KAAb;AACAmB,cAAU7S,KAAV;AAED,GAZD,MAYO;AACL2S,uBAAmB3S,KAAnB;AACAmT,UAAMnT,KAAN;;AAEAA,UAAME,KAAN,GAAc6Q,cAAd;AACAhS,aAAS/I,IAAT,YAAuBgJ,WAAWgB,MAAME,KAAjB,CAAvB,EALK,CAK8C;AACnDF,UAAM0R,IAAN,GAAa,KAAb;AACA1R,UAAM2R,OAAN,GAAgBnW,KAAKC,GAAL,EAAhB;AACAuE,UAAM4R,SAAN,GAAkB,CAAlB;AACAH,cAAUzR,KAAV,EAAiBkR,cAAjB;;AAEA,QAAIlR,MAAMiS,KAAN,GAAc,CAAlB,EAAqB;AACnBjS,YAAMkT,KAAN,GAAcpY,WAAW,YAAM;AAAEiY,uBAAe/S,KAAf;AAAwB,OAA3C,EAA6CA,MAAMiS,KAAnD,CAAd;AACD,KAFD,MAEO;AACL,UAAIjS,MAAMiS,KAAN,GAAc,CAAlB,EAAqB;AAAE;AACrBjS,cAAM6R,eAAN,GAAwBxK,KAAK2K,GAAL,CAAShS,MAAM6R,eAAN,GAAwB7R,MAAMiS,KAAvC,EAA8C,CAA9C,CAAxB;AACD;AACDc,qBAAe/S,KAAf;AACD;AACF;AACDjB,WAAS/I,IAAT,CAAc,QAAd,EArDyB,CAqDA;AAC1B;;AAED;;;;;AAKA,SAASuM,WAAT,CAAoBvC,KAApB,EAA2BwC,UAA3B,EAAuC;AACrC,MAAMpC,UAAUJ,MAAMI,OAAtB;;AAEA,WAASgT,UAAT,CAAoBjS,MAApB,EAA4B;AAC1B,QAAMkS,cAAc,OAAO7Q,WAAWrB,MAAX,CAAP,KAA8B,QAA9B,GAAyC;AAC3D,KAACnB,MAAMrI,MAAN,CAAa2M,gBAAb,CAA8BtE,MAAMpH,OAApC,EAA6C,EAA7C,EACG,oBAAUhB,OAAV,iBAAgCuJ,MAAhC,CADH,KACiD,EADlD,EAEGtH,KAFH,CAES,GAFT,EAEc2I,WAAWrB,MAAX,CAFd,CADkB,GAIlBqB,WAAWrB,MAAX,CAJF;AAKA;AACAnB,UAAMsT,cAAN,CAAqBnS,MAArB,IAA+B,OAAOkS,WAAP,KAAuB,QAAvB,GAAkCA,YAAY5a,IAAZ,EAAlC,GAAuD,IAAtF;AACA;AACA,WAAO,OAAO4a,WAAP,KAAuB,QAAvB,GAAkCA,YAAY5a,IAAZ,EAAlC,GAAuD,IAA9D;AACD;;AAED;AACA,MAAI,OAAO+J,WAAW4P,aAAlB,KAAoC,QAAxC,EAAkD;AAChDhS,YAAQgS,aAAR,GAAwB5P,WAAW4P,aAAnC;AACD;;AAED;AACA;AACE,QAAMhP,QAAQgQ,WAAW,UAAX,CAAd;AACA,QAAI,OAAOhQ,KAAP,KAAiB,QAAjB,IAA6BA,UAAU,KAAvC,IAAgDA,UAAU,MAA9D,EAAsE;AACpEhD,cAAQqQ,QAAR,GAAmBrN,KAAnB;AACD;AACF;;AAED;AACA,GAAC,UAAD,EAAa,OAAb,EAAsBnH,OAAtB,CAA8B,kBAAU;AACtC,QAAMmH,QAAQgQ,WAAWjS,MAAX,CAAd;AACA,QAAI,OAAOiC,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAImK,gBAAJ;AAAA,UAAagE,kBAAb;AACA,UAAI,WAAWta,IAAX,CAAgBmM,KAAhB,CAAJ,EAA4B;AAAE;AAC5BhD,gBAAQe,MAAR,IAAkB,IAAlB;AACAnB,cAAMmB,MAAN,IAAgB,CAAhB;AACD,OAHD,MAGO,IAAI,CAACoM,UAAU,eAAeC,IAAf,CAAoBpK,KAApB,CAAX,KACPwC,SAAU2L,YAAYvJ,WAAWuF,QAAQ,CAAR,CAAX,CAAtB,CADO,KAENpM,WAAW,UAAX,IAAyBoQ,aAAa,CAFhC,CAAJ,EAEwC;AAC7CnR,gBAAQe,MAAR,SAAqBoQ,SAArB,IAAiChE,QAAQ,CAAR,KAAc,EAA/C;AACAvN,cAAMmB,MAAN,IAAgBoQ,aAAahE,QAAQ,CAAR,IAAa,CAAb,GAAiB,IAA9B,CAAhB;AACD;AACF;AACF,GAdD;;AAgBA;AACA,GAAC,UAAD,EAAa,WAAb,EAA0BtR,OAA1B,CAAkC,kBAAU;AAC1C,QAAI,OAAOuG,WAAWrB,MAAX,CAAP,KAA8B,UAAlC,EAA8C;AAC5Cf,cAAQe,MAAR,IAAkBqB,WAAWrB,MAAX,CAAlB;AACD,KAFD,MAEO,IAAIqB,WAAWvE,cAAX,CAA0BkD,MAA1B,KAAqCqB,WAAWrB,MAAX,KAAsB,IAA/D,EAAqE;AAC1Ef,cAAQe,MAAR,IAAkB,KAAK,CAAvB;AACD;AACF,GAND;AAOD;;IAEKoS,e;AACJ;;;;;;AAMA,2BAAY3a,OAAZ,EAAqBwH,OAArB,EAA8BoT,MAA9B,EAAsC;AAAA;;AACpC,QAAMxT,QAAQ;AACZlG,WAAK,IADO;AAEZsG,eAAS,EAAE;AACTgS,uBAAe,EADR;AAEP3B,kBAAU;AAFH,OAFG;AAMZhP,gBAAU,CANE;AAOZwQ,aAAO,CAPK;AAQZP,YAAM,CAAC,CAAC8B;AARI,KAAd;AAUAxT,UAAMsT,cAAN,GAAuB,EAAvB,CAXoC,CAWT;;AAE3BnV,WAAOgF,cAAP,CAAsB,IAAtB,EAA4B,KAA5B,EAAmC,EAACC,OAAO,EAAEzE,KAAV,EAAnC;AACAqB,UAAMC,GAAN,GAAY,KAAKA,GAAjB;AACAxB,aAAS,KAAKwB,GAAd,IAAqBD,KAArB;;AAEA,QAAI,CAACpH,QAAQ6G,QAAT,IAAqB7G,QAAQ6G,QAAR,KAAqBC,KAAKC,YAAnD,EAAiE;AAC/D,YAAM,IAAIiB,KAAJ,CAAU,iCAAV,CAAN;AACD;AACDZ,UAAMpH,OAAN,GAAgBA,OAAhB;AACAoH,UAAMrI,MAAN,GAAeiB,QAAQyK,aAAR,CAAsBC,WAArC;AACA,QAAI,CAAClD,OAAL,EAAc;AACZA,gBAAU,EAAV;AACD,KAFD,MAEO,IAAI,CAACtC,SAASsC,OAAT,CAAL,EAAwB;AAC7B,YAAM,IAAIQ,KAAJ,CAAU,kBAAV,CAAN;AACD;;AAED;AACA,QAAI,CAACR,QAAQnC,cAAR,CAAuB,UAAvB,CAAL,EAAyC;AAAEmC,cAAQqQ,QAAR,GAAmB,CAAnB;AAAuB;AAClE,QAAI,CAACrQ,QAAQnC,cAAR,CAAuB,UAAvB,CAAL,EAAyC;AAAEmC,cAAQqB,QAAR,GAAmB,CAAnB;AAAuB;AAClE,QAAI,CAACrB,QAAQnC,cAAR,CAAuB,OAAvB,CAAL,EAAsC;AAAEmC,cAAQ6R,KAAR,GAAgB,CAAhB;AAAoB;;AAE5D1P,gBAAWvC,KAAX,EAAkBI,OAAlB;AACAyS,cAAU7S,KAAV;AACD;;AAED;;;;;;;;+BAIWI,O,EAAS;AAClB,UAAItC,SAASsC,OAAT,CAAJ,EAAuB;AACrBmC,oBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+BG,OAA/B;AACD;AACD,aAAO,IAAP;AACD;;AAED;;;;;;;;;uBAMG7G,K,EAAO6G,O,EAAS;AACjB,UAAIhG,UAAUlB,MAAV,GAAmB,CAAnB,IAAwB,OAAOK,KAAP,KAAiB,SAA7C,EAAwD;AACtD6G,kBAAU7G,KAAV;AACAA,gBAAQ,KAAR;AACD;;AAED,WAAKgJ,UAAL,CAAgBnC,OAAhB;AACAqP,UAAGhR,SAAS,KAAKwB,GAAd,CAAH,EAAuB1G,KAAvB;AACA,aAAO,IAAP;AACD;;AAED;;;;;;;;wBAKIA,K,EAAO;AACToW,WAAIlR,SAAS,KAAKwB,GAAd,CAAJ,EAAwB1G,KAAxB;AACA,aAAO,IAAP;AACD;;;wBAEW;AAAE,aAAOkF,SAAS,KAAKwB,GAAd,EAAmBC,KAA1B;AAAkC;;;wBAElC;AAAE,aAAOzB,SAAS,KAAKwB,GAAd,EAAmBrH,OAA1B;AAAoC;;;wBAElC;AAAE,aAAO6F,SAAS,KAAKwB,GAAd,EAAmB+S,WAA1B;AAAwC;;;wBAExC;AAAE,aAAOvU,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BgS,aAAlC;AAAkD,K;sBACtDhP,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACmS,eAAehP,KAAhB,EAA/B;AAAyD;;;wBAErE;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BqQ,QAAlC;AAA6C,K;sBACjDrN,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACwQ,UAAUrN,KAAX,EAA/B;AAAoD;;;wBAE3D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BqB,QAAlC;AAA6C,K;sBACjD2B,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACwB,UAAU2B,KAAX,EAA/B;AAAoD;;;wBAE9D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2B6R,KAAlC;AAA0C,K;sBAC9C7O,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACgS,OAAO7O,KAAR,EAA/B;AAAiD;;;wBAErD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BmQ,QAAlC;AAA6C,K;sBACjDnN,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACsQ,UAAUnN,KAAX,EAA/B;AAAoD;;;wBAE1D;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BoQ,SAAlC;AAA8C,K;sBAClDpN,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACuQ,WAAWpN,KAAZ,EAA/B;AAAqD;;;wBAEjD;AAAE,aAAO0N,aAAP;AAAuB;;;wBACxB;AAAE,aAAOC,cAAP;AAAwB;;;wBAC3B;AAAE,aAAOC,aAAP;AAAuB;;;;;;AAGtD;;;AACAuC,gBAAgB9U,QAAhB,GAA2BA,QAA3B;AACA8U,gBAAgBxU,QAAhB,GAA2BA,QAA3B;AACAwU,gBAAgBvU,UAAhB,GAA6BA,UAA7B;AACAuU,gBAAgBjC,SAAhB,GAA4BA,SAA5B;AACA;;kBAEeiC,e;;;;;;;ACpgBf,gCAAgC,wCAAwC,wBAAwB,+BAA+B,cAAc,kBAAkB,OAAO,MAAM,gBAAgB,uCAAuC,YAAY,aAAa,oCAAoC,iCAAiC,+BAA+B,4BAA4B,kCAAkC,+BAA+B,6BAA6B,0BAA0B,0CAA0C,uCAAuC,qCAAqC,kCAAkC,UAAU,gCAAgC,UAAU,iCAAiC,iCAAiC,8BAA8B,4BAA4B,yBAAyB,gCAAgC,aAAa,+BAA+B,eAAe,YAAY,WAAW,iBAAiB,cAAc,YAAY,aAAa,mBAAmB,WAAW,YAAY,qBAAqB,aAAa,+BAA+B,uBAAuB,2BAA2B,mBAAmB,kDAAkD,YAAY,aAAa,E;;;;;;ACA1vC,kDAAkD,wCAAwC,wBAAwB,+BAA+B,yBAAyB,6BAA6B,YAAY,gCAAgC,aAAa,gCAAgC,WAAW,YAAY,kBAAkB,OAAO,MAAM,uCAAuC,oCAAoC,iCAAiC,+BAA+B,4BAA4B,kCAAkC,+BAA+B,6BAA6B,0BAA0B,0CAA0C,uCAAuC,qCAAqC,kCAAkC,UAAU,wDAAwD,UAAU,yDAAyD,iCAAiC,8BAA8B,4BAA4B,yBAAyB,E;;;;;;;;;;;;;;;8QCAtgC;;;;;;;;AAQA;;;;AACA;;;;AACA;;;;;;;;AACA,qBAAW7Z,YAAX,GAA0B,IAA1B;;AAEA,IACE+Z,SAAS,IADX;AAAA,IAGElO,YAAY,CAAC5N,OAAO6N,MAAR,IAAkB,sBAAsBnP,SAASsH,eAAT,CAAyBpH,KAH/E;AAAA,IAKEuH,WAAY,YAAM;AAChB,MAAMC,WAAW,GAAGA,QAApB;AAAA,MAA8BC,aAAa,GAAGC,cAAH,CAAkBF,QAA7D;AAAA,MACEG,cAAcF,WAAW7D,IAAX,CAAgBgE,MAAhB,CADhB;AAEA,SAAO,eAAO;AACZ,QAAIC,cAAJ;AAAA,QAAWC,eAAX;AACA,WAAOC,OAAOP,SAAS5D,IAAT,CAAcmE,GAAd,MAAuB,iBAA9B,KACJ,EAAEF,QAAQD,OAAOI,cAAP,CAAsBD,GAAtB,CAAV,KACC,CAACD,SAASD,MAAMH,cAAN,CAAqB,aAArB,KAAuCG,MAAMI,WAAvD,KACA,OAAOH,MAAP,KAAkB,UADlB,IACgCL,WAAW7D,IAAX,CAAgBkE,MAAhB,MAA4BH,WAHzD,CAAP;AAID,GAND;AAOD,CAVU,EALb;AAAA,IAgBE0H,WAAWC,OAAOD,QAAP,IAAoB;AAAA,SAAS,OAAOxC,KAAP,KAAiB,QAAjB,IAA6BzL,OAAOiO,QAAP,CAAgBxC,KAAhB,CAAtC;AAAA,CAhBjC;;;AAkBE;AACA3E,WAAW,EAnBb;;AAqBA,IAAIE,QAAQ,CAAZ;AAAA,IACE+U,mBADF;AAAA,IACcC,iBADd;AAAA,IACwBC,sBADxB;AAAA,IACuCnK,aADvC;;AAEE;AACAoK,gCAHF;AAAA,IAG2BC,+BAH3B;AAAA,IAGmDC,8BAHnD;AAAA,IAIEC,yBAJF;AAAA,IAIoBC,0BAJpB;AAAA,IAIuCC,kCAJvC;;AAKE;AACAC,gCAAgC5O,YAAY,CAAC,YAAD,EAAe,MAAf,CAAZ,GAAqC,CAAC,MAAD,EAAS,YAAT,EAAuB,MAAvB,CANvE;AAAA,IAOE6O,+BAA+B7O,YAAY,MAAZ,GAAqB,CAAC,UAAD,EAAa,MAAb,CAPtD;;AAQE;AACA8O,iBAAiB,iBATnB;AAAA,IAUEC,gBAAgB,0BAVlB;AAAA,IAU8CC,cAAc,wBAV5D;;AAYA;AACA5c,OAAO8G,QAAP,GAAkBA,QAAlB;AACA9G,OAAO4N,SAAP,GAAmBA,SAAnB;AACA;;AAEA,SAASiP,QAAT,CAAkBlW,GAAlB,EAAuB;AACrB,SAAO,CAACA,GAAD,GAAOA,GAAP,GACLR,SAASQ,GAAT,IAAgBH,OAAO8H,IAAP,CAAY3H,GAAZ,EAAiBzI,MAAjB,CAAwB,UAAC4e,OAAD,EAAU1Q,GAAV,EAAkB;AACxD0Q,YAAQ1Q,GAAR,IAAeyQ,SAASlW,IAAIyF,GAAJ,CAAT,CAAf;AACA,WAAO0Q,OAAP;AACD,GAHe,EAGb,EAHa,CAAhB,GAIAtc,MAAMC,OAAN,CAAckG,GAAd,IAAqBA,IAAIpI,GAAJ,CAAQse,QAAR,CAArB,GAAyClW,GAL3C;AAMD;;AAED,SAASoW,UAAT,CAAoBC,CAApB,EAAuBC,CAAvB,EAA0B;AACxB,MAAIC,cAAJ;AAAA,MAAWC,cAAX;AACA,SAAO,QAAOH,CAAP,yCAAOA,CAAP,eAAoBC,CAApB,yCAAoBA,CAApB,MACL,CAACC,QAAQ/W,SAAS6W,CAAT,IAAc,KAAd,GAAsBxc,MAAMC,OAAN,CAAcuc,CAAd,IAAmB,OAAnB,GAA6B,EAA5D,OACG7W,SAAS8W,CAAT,IAAc,KAAd,GAAsBzc,MAAMC,OAAN,CAAcwc,CAAd,IAAmB,OAAnB,GAA6B,EADtD,CADK,KAIHC,UAAU,KAAV,GACEH,WAAYI,QAAQ3W,OAAO8H,IAAP,CAAY0O,CAAZ,EAAeI,IAAf,EAApB,EAA4C5W,OAAO8H,IAAP,CAAY2O,CAAZ,EAAeG,IAAf,EAA5C,KACED,MAAM/c,IAAN,CAAW;AAAA,WAAQ2c,WAAWC,EAAEzO,IAAF,CAAX,EAAoB0O,EAAE1O,IAAF,CAApB,CAAR;AAAA,GAAX,CAFJ,GAGA2O,UAAU,OAAV,GACEF,EAAEzb,MAAF,KAAa0b,EAAE1b,MAAf,IAAyByb,EAAE5c,IAAF,CAAO,UAACid,IAAD,EAAO5b,CAAP;AAAA,WAAasb,WAAWM,IAAX,EAAiBJ,EAAExb,CAAF,CAAjB,CAAb;AAAA,GAAP,CAD3B,GAEAub,MAAMC,CATH,CAAP;AAWD;;AAED;;;;AAIA,SAASpV,SAAT,CAAmB5G,OAAnB,EAA4B;AAC1B,SAAO,CAAC,EAAEA,WACRA,QAAQ6G,QAAR,KAAqBC,KAAKC,YADlB;AAER;AACA,SAAO/G,QAAQgH,qBAAf,KAAyC,UAHjC,IAIR,EAAEhH,QAAQiH,uBAAR,CAAgCxJ,QAAhC,IAA4CqJ,KAAKI,8BAAnD,CAJM,CAAR;AAKD;AACDnI,OAAO6H,SAAP,GAAmBA,SAAnB,C,CAA8B;;AAE9B;;;;;;;;;;;;;AAaA;;;;AAIA,SAASyV,SAAT,CAAmB3O,IAAnB,EAAyB;AACvB,MAAI,CAACxI,SAASwI,IAAT,CAAL,EAAqB;AAAE,WAAO,IAAP;AAAc;AACrC,MAAIlD,cAAJ;AACA,MAAIwC,SAAUxC,QAAQkD,KAAKC,IAAvB,KAAiCX,SAAUxC,QAAQkD,KAAK4O,CAAvB,CAArC,EAAiE;AAC/D5O,SAAKC,IAAL,GAAYD,KAAK4O,CAAL,GAAS9R,KAArB;AACD,GAFD,MAEO;AAAE,WAAO,IAAP;AAAc;AACvB,MAAIwC,SAAUxC,QAAQkD,KAAKE,GAAvB,KAAgCZ,SAAUxC,QAAQkD,KAAK6O,CAAvB,CAApC,EAAgE;AAC9D7O,SAAKE,GAAL,GAAWF,KAAK6O,CAAL,GAAS/R,KAApB;AACD,GAFD,MAEO;AAAE,WAAO,IAAP;AAAc;;AAEvB,MAAIwC,SAASU,KAAKK,KAAd,KAAwBL,KAAKK,KAAL,IAAc,CAA1C,EAA6C;AAC3CL,SAAKG,KAAL,GAAaH,KAAKC,IAAL,GAAYD,KAAKK,KAA9B;AACD,GAFD,MAEO,IAAIf,SAASU,KAAKG,KAAd,KAAwBH,KAAKG,KAAL,IAAcH,KAAKC,IAA/C,EAAqD;AAC1DD,SAAKK,KAAL,GAAaL,KAAKG,KAAL,GAAaH,KAAKC,IAA/B;AACD,GAFM,MAEA;AAAE,WAAO,IAAP;AAAc;AACvB,MAAIX,SAASU,KAAKM,MAAd,KAAyBN,KAAKM,MAAL,IAAe,CAA5C,EAA+C;AAC7CN,SAAKI,MAAL,GAAcJ,KAAKE,GAAL,GAAWF,KAAKM,MAA9B;AACD,GAFD,MAEO,IAAIhB,SAASU,KAAKI,MAAd,KAAyBJ,KAAKI,MAAL,IAAeJ,KAAKE,GAAjD,EAAsD;AAC3DF,SAAKM,MAAL,GAAcN,KAAKI,MAAL,GAAcJ,KAAKE,GAAjC;AACD,GAFM,MAEA;AAAE,WAAO,IAAP;AAAc;AACvB,SAAOF,IAAP;AACD;AACD3O,OAAOsd,SAAP,GAAmBA,SAAnB,C,CAA8B;;AAE9B;;;;;AAKA,SAASG,YAAT,CAAsBhS,KAAtB,EAA6B;;AAE3B;AACA,WAASiS,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,QAAM/H,UAAU,eAAeC,IAAf,CAAoB8H,QAApB,CAAhB;AACA,QAAIlS,cAAJ;AAAA,QAAWmS,gBAAX;AACA,WAAOhI,WAAW3H,SAAUxC,QAAQ4E,WAAWuF,QAAQ,CAAR,CAAX,CAAlB,CAAX,GACL,EAACnK,OAAO,CAACmS,UAAU,CAAC,EAAEhI,QAAQ,CAAR,KAAcnK,KAAhB,CAAZ,IAAsCA,QAAQ,GAA9C,GAAoDA,KAA5D,EAAmEmS,SAASA,OAA5E,EADK,GACkF,IADzF,CAHgC,CAI+D;AAChG;;AAED,SAAO3P,SAASxC,KAAT,IAAkB,EAACA,OAAOA,KAAR,EAAemS,SAAS,KAAxB,EAAlB,GACL,OAAOnS,KAAP,KAAiB,QAAjB,GAA4BiS,eAAejS,MAAMtM,OAAN,CAAc,KAAd,EAAqB,EAArB,CAAf,CAA5B,GAAuE,IADzE;AAED;AACDa,OAAOyd,YAAP,GAAsBA,YAAtB,C,CAAoC;;AAEpC,SAASI,mBAAT,CAA6BC,OAA7B,EAAsC;AACpC,SAAOA,QAAQF,OAAR,GAAqBE,QAAQrS,KAAR,GAAgB,GAArC,SAA8CqS,QAAQrS,KAA7D;AACD;AACDzL,OAAO6d,mBAAP,GAA6BA,mBAA7B,C,CAAkD;;AAElD,SAASE,cAAT,CAAwBD,OAAxB,EAAiCE,UAAjC,EAA6CC,QAA7C,EAAuD;AACrD,SAAO,OAAOH,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GACLE,aAAaF,QAAQrS,KAAR,IAAiBqS,QAAQF,OAAR,GAAkBK,QAAlB,GAA6B,CAA9C,CADf;AAED;;AAED;;;;;AAKA;;;;AAIA,SAASC,WAAT,CAAqBvP,IAArB,EAA2B;AACzB,MAAI,CAACxI,SAASwI,IAAT,CAAL,EAAqB;AAAE,WAAO,IAAP;AAAc;AACrC,MAAImP,gBAAJ;AACA,MAAI,CAACA,UAAUL,aAAa9O,KAAKC,IAAlB,CAAX,MAAwCkP,UAAUL,aAAa9O,KAAK4O,CAAlB,CAAlD,CAAJ,EAA6E;AAC3E5O,SAAKC,IAAL,GAAYD,KAAK4O,CAAL,GAASO,OAArB;AACD,GAFD,MAEO;AAAE,WAAO,IAAP;AAAc;AACvB,MAAI,CAACA,UAAUL,aAAa9O,KAAKE,GAAlB,CAAX,MAAuCiP,UAAUL,aAAa9O,KAAK6O,CAAlB,CAAjD,CAAJ,EAA4E;AAC1E7O,SAAKE,GAAL,GAAWF,KAAK6O,CAAL,GAASM,OAApB;AACD,GAFD,MAEO;AAAE,WAAO,IAAP;AAAc;;AAEvB,MAAI,CAACA,UAAUL,aAAa9O,KAAKK,KAAlB,CAAX,KAAwC8O,QAAQrS,KAAR,IAAiB,CAA7D,EAAgE;AAC9DkD,SAAKK,KAAL,GAAa8O,OAAb;AACA,WAAOnP,KAAKG,KAAZ;AACD,GAHD,MAGO,IAAKgP,UAAUL,aAAa9O,KAAKG,KAAlB,CAAf,EAA0C;AAC/CH,SAAKG,KAAL,GAAagP,OAAb;AACA,WAAOnP,KAAKK,KAAZ;AACD,GAHM,MAGA;AAAE,WAAO,IAAP;AAAc;AACvB,MAAI,CAAC8O,UAAUL,aAAa9O,KAAKM,MAAlB,CAAX,KAAyC6O,QAAQrS,KAAR,IAAiB,CAA9D,EAAiE;AAC/DkD,SAAKM,MAAL,GAAc6O,OAAd;AACA,WAAOnP,KAAKI,MAAZ;AACD,GAHD,MAGO,IAAK+O,UAAUL,aAAa9O,KAAKI,MAAlB,CAAf,EAA2C;AAChDJ,SAAKI,MAAL,GAAc+O,OAAd;AACA,WAAOnP,KAAKM,MAAZ;AACD,GAHM,MAGA;AAAE,WAAO,IAAP;AAAc;AACvB,SAAON,IAAP;AACD;AACD3O,OAAOke,WAAP,GAAqBA,WAArB,C,CAAkC;;AAElC,SAASC,mBAAT,CAA6BC,MAA7B,EAAqC;AACnC,SAAO5X,OAAO8H,IAAP,CAAY8P,MAAZ,EAAoBlgB,MAApB,CAA2B,UAACyI,GAAD,EAAM4H,IAAN,EAAe;AAC/C5H,QAAI4H,IAAJ,IAAYsP,oBAAoBO,OAAO7P,IAAP,CAApB,CAAZ;AACA,WAAO5H,GAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID;AACD3G,OAAOme,mBAAP,GAA6BA,mBAA7B,C,CAAkD;;AAElD;AACA,SAASE,aAAT,CAAuBD,MAAvB,EAA+BE,QAA/B,EAAyC;AACvC,MAAMC,YAAY,EAAC3P,MAAM,GAAP,EAAYE,OAAO,GAAnB,EAAwByO,GAAG,GAA3B,EAAgCvO,OAAO,GAAvC;AACdH,SAAK,GADS,EACJE,QAAQ,GADJ,EACSyO,GAAG,GADZ,EACiBvO,QAAQ,GADzB,EAAlB;AAAA,MAEEuP,eAAe,EAACjB,GAAGe,SAAS1P,IAAb,EAAmB4O,GAAGc,SAASzP,GAA/B,EAFjB;AAAA,MAGE4P,aAAa,EAAClB,GAAGe,SAAStP,KAAb,EAAoBwO,GAAGc,SAASrP,MAAhC,EAHf;AAIA,SAAOqO,UAAU9W,OAAO8H,IAAP,CAAY8P,MAAZ,EAAoBlgB,MAApB,CAA2B,UAACyQ,IAAD,EAAOJ,IAAP,EAAgB;AAC1DI,SAAKJ,IAAL,IAAawP,eAAeK,OAAO7P,IAAP,CAAf,EACXA,SAAS,OAAT,IAAoBA,SAAS,QAA7B,GAAwC,CAAxC,GAA4CiQ,aAAaD,UAAUhQ,IAAV,CAAb,CADjC,EAEXkQ,WAAWF,UAAUhQ,IAAV,CAAX,CAFW,CAAb;AAGA,WAAOI,IAAP;AACD,GALgB,EAKd,EALc,CAAV,CAAP;AAMD;AACD3O,OAAOqe,aAAP,GAAuBA,aAAvB,C,CAAsC;;AAEtC;;;;;AAKA,SAAS5P,OAAT,CAAiBxN,OAAjB,EAA0Byd,aAA1B,EAAyC;AACvC,MAAMhQ,OAAOzN,QAAQgH,qBAAR,EAAb;AAAA,MACE0G,OAAO,EAACC,MAAMF,KAAKE,IAAZ,EAAkBC,KAAKH,KAAKG,GAA5B,EAAiCG,OAAON,KAAKM,KAA7C,EAAoDC,QAAQP,KAAKO,MAAjE,EADT;AAEAN,OAAKC,IAAL,IAAa5O,OAAOkP,WAApB;AACAP,OAAKE,GAAL,IAAY7O,OAAOmP,WAAnB;AACA,MAAIuP,aAAJ,EAAmB;AACjB,QAAM9f,QAAQoB,OAAO2M,gBAAP,CAAwB1L,OAAxB,EAAiC,EAAjC,CAAd;AAAA,QACE0d,YAAYtO,WAAWzR,MAAMggB,cAAjB,KAAoC,CADlD;AAAA,QAEEC,cAAcxO,WAAWzR,MAAMkgB,gBAAjB,KAAsC,CAFtD;AAAA,QAGEC,eAAe1O,WAAWzR,MAAMogB,iBAAjB,KAAuC,CAHxD;AAAA,QAIEC,aAAa5O,WAAWzR,MAAMsgB,eAAjB,KAAqC,CAJpD;AAKAvQ,SAAKC,IAAL,IAAaqQ,UAAb;AACAtQ,SAAKE,GAAL,IAAY8P,SAAZ;AACAhQ,SAAKK,KAAL,IAAciQ,aAAaJ,WAA3B;AACAlQ,SAAKM,MAAL,IAAe0P,YAAYI,YAA3B;AACD;AACD,SAAOzB,UAAU3O,IAAV,CAAP;AACD;AACD3O,OAAOyO,OAAP,GAAiBA,OAAjB,C,CAA0B;;AAE1B;;;;;;AAMA,SAAS0Q,QAAT,CAAkBle,OAAlB,EAA2Bme,UAA3B,EAAuC;AACrC,MAAMxgB,QAAQqC,QAAQrC,KAAtB;AACAA,QAAMygB,uBAAN,GAAgC,aAAhC;;AAEA;AACA,MAAMC,mBAAmB,oBAAUrf,OAAV,CAAkB,WAAlB,CAAzB;AAAA,MACEsf,YAAYvf,OAAO2M,gBAAP,CAAwB1L,OAAxB,EAAiC,EAAjC,EAAqCqe,gBAArC,CADd;AAEA,MAAI,CAACC,SAAD,IAAcA,cAAc,MAAhC,EAAwC;AACtC3gB,UAAM0gB,gBAAN,IAA0B,qBAA1B;AACD;;AAED,MAAIF,cAAc/C,gBAAlB,EAAoC;AAAEzd,UAAMyd,gBAAN,IAA0B,eAA1B;AAA4C;AAClF,SAAOpb,OAAP;AACD;;AAED,SAASue,kBAAT,CAA4Bve,OAA5B,EAAqCwe,SAArC,EAAgD;AAC9C,MAAIvD,2BAA2B,IAA/B,EAAqC;AACnC,QAAIM,kCAAkC,KAAtC,EAA6C;AAC3CN,gCAA0B,oBAAU5b,QAAV,CAAmB,QAAnB,EAA6Bkc,6BAA7B,CAA1B;AACD;AACD;AACA,QAAIN,2BAA2B,IAA/B,EAAqC;AAAEA,gCAA0B,KAA1B;AAAkC;AAC1E;AACD;AACAjb,UAAQrC,KAAR,CAAc8gB,MAAd,GAAuBxD,4BAA4B,KAA5B,GAAoCuD,SAApC,GAAgDvD,uBAAvE;AACD;;AAED,SAASyD,iBAAT,CAA2B1e,OAA3B,EAAoC;AAClC,MAAIkb,0BAA0B,IAA9B,EAAoC;AAClC,QAAIM,iCAAiC,KAArC,EAA4C;AAC1CN,+BAAyB,oBAAU7b,QAAV,CAAmB,QAAnB,EAA6Bmc,4BAA7B,CAAzB;AACD;AACD;AACA,QAAIN,0BAA0B,IAA9B,EAAoC;AAAEA,+BAAyB,KAAzB;AAAiC;AACxE;AACD,MAAIA,2BAA2B,KAA/B,EAAsC;AAAElb,YAAQrC,KAAR,CAAc8gB,MAAd,GAAuBvD,sBAAvB;AAAgD;AACzF;;AAGD;;;;;;AAMA,SAASyD,aAAT,CAAuBvX,KAAvB,EAA8BO,QAA9B,EAAwC;AACtC,MAAMiX,cAAcxX,MAAMwX,WAA1B;AACA,MAAIjX,SAASgG,IAAT,KAAkBiR,YAAYjR,IAA9B,IAAsChG,SAASiG,GAAT,KAAiBgR,YAAYhR,GAAvE,EAA4E;AAC1E,QAAMwG,SAAShN,MAAMyX,UAArB;AACAzX,UAAM0X,YAAN,CAAmB1D,gBAAnB,oBACezT,SAASgG,IAAT,GAAgByG,OAAOzG,IADtC,cACiDhG,SAASiG,GAAT,GAAewG,OAAOxG,GADvE;AAEA,WAAO,IAAP;AACD;AACD,SAAO,KAAP;AACD;;AAID;;;;;;;AAOA,SAASmR,IAAT,CAAc3X,KAAd,EAAqBO,QAArB,EAA+BqX,OAA/B,EAAwC;AACtC,MAAMJ,cAAcxX,MAAMwX,WAA1B;;AAEA,WAASK,GAAT,GAAe;AACb,QAAI7X,MAAM8X,OAAN,IAAiB9X,MAAM+X,OAA3B,EAAoC;AAAE;AACpCxX,eAASgG,IAAT,GAAgBiR,YAAYjR,IAA5B;AACD,KAFD,MAEO,IAAIhG,SAASgG,IAAT,GAAgBvG,MAAM8X,OAA1B,EAAmC;AACxCvX,eAASgG,IAAT,GAAgBvG,MAAM8X,OAAtB;AACD,KAFM,MAEA,IAAIvX,SAASgG,IAAT,GAAgBvG,MAAM+X,OAA1B,EAAmC;AACxCxX,eAASgG,IAAT,GAAgBvG,MAAM+X,OAAtB;AACD;AACD,QAAI/X,MAAMgY,MAAN,IAAgBhY,MAAMiY,MAA1B,EAAkC;AAAE;AAClC1X,eAASiG,GAAT,GAAegR,YAAYhR,GAA3B;AACD,KAFD,MAEO,IAAIjG,SAASiG,GAAT,GAAexG,MAAMgY,MAAzB,EAAiC;AACtCzX,eAASiG,GAAT,GAAexG,MAAMgY,MAArB;AACD,KAFM,MAEA,IAAIzX,SAASiG,GAAT,GAAexG,MAAMiY,MAAzB,EAAiC;AACtC1X,eAASiG,GAAT,GAAexG,MAAMiY,MAArB;AACD;AACF;;AAEDJ;AACA,MAAID,OAAJ,EAAa;AACX,QAAIA,QAAQrX,QAAR,MAAsB,KAA1B,EAAiC;AAAE,aAAO,KAAP;AAAe;AAClDsX,UAFW,CAEJ;AACR;;AAED,MAAMK,QAAQlY,MAAMmY,OAAN,CAAcnY,KAAd,EAAqBO,QAArB,CAAd;AACA,MAAI2X,KAAJ,EAAW;AAAE;AACXlY,UAAMwX,WAAN,GAAoBvC,UAAU,EAAC1O,MAAMhG,SAASgG,IAAhB,EAAsBC,KAAKjG,SAASiG,GAApC;AAC5BG,aAAO6Q,YAAY7Q,KADS,EACFC,QAAQ4Q,YAAY5Q,MADlB,EAAV,CAApB;AAED;AACD,SAAOsR,KAAP;AACD;;AAED;;;;;AAKA,SAASE,aAAT,CAAuBpY,KAAvB,EAA8B;AAC5B,MAAMpH,UAAUoH,MAAMpH,OAAtB;AAAA,MACE8e,eAAe1X,MAAM0X,YADvB;AAAA,MAEEW,cAAcjS,QAAQxN,OAAR,CAFhB;AAAA,MAEkC;AAChC0f,kBAAgB,CAAC,SAAD,EAAY,WAAZ,EAAyB,cAAzB,EAAyC,OAAzC,EAAkD,QAAlD,CAHlB;AAIAA,gBAAcC,OAAd,CAAsBvE,gBAAtB;;AAEA,MAAI,CAAChU,MAAMwY,QAAX,EAAqB;AACnBxY,UAAMwY,QAAN,GAAiBF,cAAcziB,MAAd,CAAqB,UAAC2iB,QAAD,EAAWtS,IAAX,EAAoB;AACxDsS,eAAStS,IAAT,IAAiBwR,aAAaxR,IAAb,KAAsB,EAAvC;AACA,aAAOsS,QAAP;AACD,KAHgB,EAGd,EAHc,CAAjB;AAIAxY,UAAMyY,SAAN,GAAkB,EAAlB;AACD,GAND,MAMO;AACLH,kBAAcrc,OAAd,CAAsB,gBAAQ;AAC5B;AACA,UAAI+D,MAAMyY,SAAN,CAAgBvS,IAAhB,KAAyB,IAAzB,IAAiCwR,aAAaxR,IAAb,MAAuBlG,MAAMyY,SAAN,CAAgBvS,IAAhB,CAA5D,EAAmF;AACjFwR,qBAAaxR,IAAb,IAAqBlG,MAAMwY,QAAN,CAAetS,IAAf,CAArB;AACD;AACF,KALD;AAMD;;AAED,MAAMwS,UAAUtS,QAAQxN,OAAR,CAAhB;AAAA,MACEiW,WAAWlX,OAAO2M,gBAAP,CAAwB1L,OAAxB,EAAiC,EAAjC,CADb;AAEA;AACA,MAAIiW,SAAStK,OAAT,KAAqB,QAAzB,EAAmC;AACjCmT,iBAAanT,OAAb,GAAuB,cAAvB;AACA,KAAC,KAAD,EAAQ,QAAR,EAAkBtI,OAAlB,CAA0B,mBAAW;AACnC,UAAM2L,UAAUI,WAAW6G,qBAAmB8J,OAAnB,CAAX,CAAhB;AACA;AACA;AACAjB,8BAAsBiB,OAAtB,IAAmC/Q,gBAAcA,OAAd,UAA4B,GAA/D;AACD,KALD;AAMD;AACD8P,eAAa1D,gBAAb,IAAiC,iBAAjC;AACA;AACA,MAAI4E,UAAUxS,QAAQxN,OAAR,CAAd;AACA,MAAMoU,SAAShN,MAAMyX,UAAN,GACb,EAAClR,MAAMqS,QAAQrS,IAAR,GAAe,CAACqS,QAAQrS,IAAxB,GAA+B,CAAtC,EAAyCC,KAAKoS,QAAQpS,GAAR,GAAc,CAACoS,QAAQpS,GAAvB,GAA6B,CAA3E,EADF,CArC4B,CAsCqD;;AAEjF;AACAkR,eAAa1D,gBAAb,oBACeqE,YAAY9R,IAAZ,GAAmByG,OAAOzG,IADzC,cACoD8R,YAAY7R,GAAZ,GAAkBwG,OAAOxG,GAD7E;AAEA;AACA,GAAC,OAAD,EAAU,QAAV,EAAoBvK,OAApB,CAA4B,gBAAQ;AAClC,QAAI2c,QAAQ1S,IAAR,MAAkBwS,QAAQxS,IAAR,CAAtB,EAAqC;AACnC;AACAwR,mBAAaxR,IAAb,IAAqBwS,QAAQxS,IAAR,IAAgB,IAArC;AACA0S,gBAAUxS,QAAQxN,OAAR,CAAV;AACA,UAAIggB,QAAQ1S,IAAR,MAAkBwS,QAAQxS,IAAR,CAAtB,EAAqC;AAAE;AACrCwR,qBAAaxR,IAAb,IAAqBwS,QAAQxS,IAAR,KAAiB0S,QAAQ1S,IAAR,IAAgBwS,QAAQxS,IAAR,CAAjC,IAAkD,IAAvE;AACD;AACF;AACDlG,UAAMyY,SAAN,CAAgBvS,IAAhB,IAAwBwR,aAAaxR,IAAb,CAAxB;AACD,GAVD;AAWD;;AAID;;;;;AAKA,SAAS2S,QAAT,CAAkB7Y,KAAlB,EAAyB;AACvBA,QAAM8Y,OAAN,CAAc9Y,KAAd;;AAEA,MAAM+Y,UAAU3S,QAAQ/P,SAASsH,eAAjB,CAAhB;AAAA,MACE6Z,cAAcxX,MAAMwX,WAAN,GAAoBpR,QAAQpG,MAAMpH,OAAd,CADpC;AAAA,MAEEogB,kBAAkBhZ,MAAMgZ,eAAN,GAChBhZ,MAAMiZ,iBAAN,GAA2BjD,cAAchW,MAAMI,OAAN,CAAc8Y,WAA5B,EAAyCH,OAAzC,KAAqDA,OAAhF,GACE3S,QAAQpG,MAAMI,OAAN,CAAc8Y,WAAtB,EAAmC,IAAnC,CAJN;AAKAlZ,QAAM8X,OAAN,GAAgBkB,gBAAgBzS,IAAhC;AACAvG,QAAM+X,OAAN,GAAgBiB,gBAAgBvS,KAAhB,GAAwB+Q,YAAY7Q,KAApD;AACA3G,QAAMgY,MAAN,GAAegB,gBAAgBxS,GAA/B;AACAxG,QAAMiY,MAAN,GAAee,gBAAgBtS,MAAhB,GAAyB8Q,YAAY5Q,MAApD;AACA;AACA+Q,OAAK3X,KAAL,EAAY,EAACuG,MAAMiR,YAAYjR,IAAnB,EAAyBC,KAAKgR,YAAYhR,GAA1C,EAAZ;;AAEA7O,SAAOwhB,YAAP,GAAsB,IAAtB,CAfuB,CAeK;AAC7B;;AAED,SAASC,OAAT,CAAiBpZ,KAAjB,EAAwB;AACtBmX,qBAAmBnX,MAAMI,OAAN,CAAc4C,MAAjC,EAAyChD,MAAMoX,SAA/C;AACA3N,OAAKlT,KAAL,CAAW8gB,MAAX,GAAoBtD,qBAApB;;AAEA,MAAI/T,MAAMI,OAAN,CAAciZ,MAAd,KAAyB,KAA7B,EAAoC;AAAErZ,UAAM0X,YAAN,CAAmB2B,MAAnB,GAA4BrZ,MAAMsZ,SAAlC;AAA8C;AACpF,MAAIrF,iBAAJ,EAAuB;AAAExK,SAAKlT,KAAL,CAAW0d,iBAAX,IAAgCC,yBAAhC;AAA4D;AACrF,MAAMva,YAAY,0BAAWqG,MAAMpH,OAAjB,CAAlB;AACA,MAAI2b,WAAJ,EAAiB;AAAE5a,cAAUR,MAAV,CAAiBob,WAAjB;AAAgC;AACnD,MAAID,aAAJ,EAAmB;AAAE3a,cAAUR,MAAV,CAAiBmb,aAAjB;AAAkC;;AAEvDZ,eAAa,IAAb;AACA,MAAI1T,MAAMuZ,SAAV,EAAqB;AAAEvZ,UAAMuZ,SAAN;AAAoB;AAC5C;;AAED,SAASC,SAAT,CAAmBxZ,KAAnB,EAA0B7D,KAA1B,EAAiC;AAC/B,MAAI6D,MAAMM,QAAV,EAAoB;AAAE;AAAS;AAC/B,MAAIoT,UAAJ,EAAgB;AAAE0F,YAAQ1F,UAAR;AAAsB,GAFT,CAEU;;AAEzC4D,oBAAkBtX,MAAMI,OAAN,CAAc4C,MAAhC;AACAyG,OAAKlT,KAAL,CAAW8gB,MAAX,GAAoBvD,0BAA0B;AAC5Cnc,SAAO2M,gBAAP,CAAwBtE,MAAMI,OAAN,CAAc4C,MAAtC,EAA8C,EAA9C,EAAkDqU,MADpD;;AAGA,MAAIrX,MAAMI,OAAN,CAAciZ,MAAd,KAAyB,KAA7B,EAAoC;AAAErZ,UAAM0X,YAAN,CAAmB2B,MAAnB,GAA4BrZ,MAAMI,OAAN,CAAciZ,MAA1C;AAAmD;AACzF,MAAIpF,iBAAJ,EAAuB;AAAExK,SAAKlT,KAAL,CAAW0d,iBAAX,IAAgC,MAAhC;AAAyC;AAClE,MAAIK,aAAJ,EAAmB;AAAE,8BAAWtU,MAAMpH,OAAjB,EAA0BE,GAA1B,CAA8Bwb,aAA9B;AAA+C;;AAEpEZ,eAAa1T,KAAb;AACA2T,aAAW,KAAX;AACAC,kBAAgB,EAACrN,MAAMvG,MAAMwX,WAAN,CAAkBjR,IAAlB,GAAyBpK,MAAMsd,KAAtC,EAA6CjT,KAAKxG,MAAMwX,WAAN,CAAkBhR,GAAlB,GAAwBrK,MAAMud,KAAhF,EAAhB;AACD;;AAED;;;;;AAKA,SAASnX,WAAT,CAAoBvC,KAApB,EAA2BwC,UAA3B,EAAuC;AACrC,MAAMpC,UAAUJ,MAAMI,OAAtB;AACA,MAAIuZ,sBAAJ;;AAEA;AACA,MAAInX,WAAW0W,WAAf,EAA4B;AAC1B,QAAI5S,aAAJ;AACA,QAAI9G,UAAUgD,WAAW0W,WAArB,CAAJ,EAAuC;AAAE;AACvC,UAAI1W,WAAW0W,WAAX,KAA2B9Y,QAAQ8Y,WAAvC,EAAoD;AAClD;AACAlZ,cAAM4Z,cAAN,CAAqB3d,OAArB,CAA6B,mBAAW;AACtCrD,kBAAQ8J,mBAAR,CAA4B,QAA5B,EAAsC1C,MAAM6Z,YAA5C,EAA0D,KAA1D;AACD,SAFD;AAGA7Z,cAAM4Z,cAAN,GAAuB,EAAvB;AACAjiB,eAAO+K,mBAAP,CAA2B,QAA3B,EAAqC1C,MAAM6Z,YAA3C,EAAyD,KAAzD;AACA;AACA,YAAIjhB,UAAU4J,WAAW0W,WAAzB;AAAA,YAAsCY,qBAAtC;AACA,eAAOlhB,WAAWA,YAAY6Q,IAA9B,EAAoC;AAClC,cAAI7Q,QAAQ6G,QAAR,KAAqBC,KAAKC,YAA9B,EAA4C;AAC1C,gBAAMkP,WAAWlX,OAAO2M,gBAAP,CAAwB1L,OAAxB,EAAiC,EAAjC,CAAjB;AACA;AACA,gBAAI,EAAEA,mBAAmBmhB,UAArB,MACAlL,SAAStC,QAAT,KAAsB,SAAtB,IAAmCsC,SAASE,SAAT,KAAuB,SAA1D,IACAF,SAASG,SAAT,KAAuB,SAFvB,CAEiC;AAFjC,aAAJ,EAGO;AACLpW,sBAAQgK,gBAAR,CAAyB,QAAzB,EAAmC5C,MAAM6Z,YAAzC,EAAuD,KAAvD;AACA7Z,oBAAM4Z,cAAN,CAAqB5jB,IAArB,CAA0B4C,OAA1B;AACD;AACD;AACA,gBAAIiW,SAAStO,QAAT,KAAsB,OAA1B,EAAmC;AAAEuZ,6BAAe,IAAf;AAAsB;AAC5D;AACDlhB,oBAAUA,QAAQwG,UAAlB;AACD;AACD,YAAI0a,YAAJ,EAAkB;AAChBniB,iBAAOiL,gBAAP,CAAwB,QAAxB,EAAkC5C,MAAM6Z,YAAxC,EAAsD,KAAtD;AACD;;AAEDzZ,gBAAQ8Y,WAAR,GAAsB1W,WAAW0W,WAAjC;AACAlZ,cAAMiZ,iBAAN,GAA0B,KAA1B;AACAU,wBAAgB,IAAhB;AACD;AACF,KAlCD,MAkCO,IAAI,CAACrT,OAAOuP,YAAYrB,SAAShS,WAAW0W,WAApB,CAAZ,CAAR,KAA0D;AACjExE,eAAWpO,IAAX,EAAiBlG,QAAQ8Y,WAAzB,CADG,EACoC;AACzC9Y,cAAQ8Y,WAAR,GAAsB5S,IAAtB;AACAtG,YAAMiZ,iBAAN,GAA0B,IAA1B;AACAU,sBAAgB,IAAhB;AACD;AACF;;AAGD,MAAIA,aAAJ,EAAmB;AAAEd,aAAS7Y,KAAT;AAAkB;;AAEvC;AACA,WAASga,SAAT,CAAmB7d,KAAnB,EAA0B;AAAEA,UAAM6H,cAAN;AAAyB;;AAErD;AACA,MAAIxE,UAAUgD,WAAWQ,MAArB,KAAgCR,WAAWQ,MAAX,KAAsB5C,QAAQ4C,MAAlE,EAA0E;AACxE,QAAI5C,QAAQ4C,MAAZ,EAAoB;AAAE;AACpB5C,cAAQ4C,MAAR,CAAezM,KAAf,CAAqB8gB,MAArB,GAA8BrX,MAAMoX,SAApC;AACA,UAAInD,iBAAJ,EAAuB;AAAE7T,gBAAQ4C,MAAR,CAAezM,KAAf,CAAqB0d,iBAArB,IAA0CjU,MAAMia,aAAhD;AAAgE;AACzF7Z,cAAQ4C,MAAR,CAAeN,mBAAf,CAAmC,WAAnC,EAAgDsX,SAAhD,EAA2D,KAA3D;AACA5Z,cAAQ4C,MAAR,CAAeN,mBAAf,CAAmC,WAAnC,EAAgD1C,MAAMka,eAAtD,EAAuE,KAAvE;AACD;AACD,QAAMlX,SAAS5C,QAAQ4C,MAAR,GAAiBR,WAAWQ,MAA3C;AACAhD,UAAMoX,SAAN,GAAkBpU,OAAOzM,KAAP,CAAa8gB,MAA/B;AACAF,uBAAmBnU,MAAnB,EAA2BhD,MAAMoX,SAAjC;AACA,QAAInD,iBAAJ,EAAuB;AACrBjU,YAAMia,aAAN,GAAsBjX,OAAOzM,KAAP,CAAa0d,iBAAb,CAAtB;AACAjR,aAAOzM,KAAP,CAAa0d,iBAAb,IAAkC,MAAlC;AACD;AACDjR,WAAOJ,gBAAP,CAAwB,WAAxB,EAAqCoX,SAArC,EAAgD,KAAhD;AACAhX,WAAOJ,gBAAP,CAAwB,WAAxB,EAAqC5C,MAAMka,eAA3C,EAA4D,KAA5D;AACD;;AAED;AACA,MAAItU,SAASpD,WAAW6W,MAApB,KAA+B7W,WAAW6W,MAAX,KAAsB,KAAzD,EAAgE;AAC9DjZ,YAAQiZ,MAAR,GAAiB7W,WAAW6W,MAA5B;AACA,QAAIrZ,UAAU0T,UAAd,EAA0B;AACxB1T,YAAM0X,YAAN,CAAmB2B,MAAnB,GAA4BjZ,QAAQiZ,MAAR,KAAmB,KAAnB,GAA2BrZ,MAAMsZ,SAAjC,GAA6ClZ,QAAQiZ,MAAjF;AACD;AACF;;AAED;AACA,MAAM9Y,WAAW,EAACgG,MAAMvG,MAAMwX,WAAN,CAAkBjR,IAAzB,EAA+BC,KAAKxG,MAAMwX,WAAN,CAAkBhR,GAAtD,EAAjB;AACA,MAAI2T,kBAAJ;AACA,MAAIvU,SAASpD,WAAW+D,IAApB,KAA6B/D,WAAW+D,IAAX,KAAoBhG,SAASgG,IAA9D,EAAoE;AAClEhG,aAASgG,IAAT,GAAgB/D,WAAW+D,IAA3B;AACA4T,gBAAY,IAAZ;AACD;AACD,MAAIvU,SAASpD,WAAWgE,GAApB,KAA4BhE,WAAWgE,GAAX,KAAmBjG,SAASiG,GAA5D,EAAiE;AAC/DjG,aAASiG,GAAT,GAAehE,WAAWgE,GAA1B;AACA2T,gBAAY,IAAZ;AACD;AACD,MAAIA,SAAJ,EAAe;AAAExC,SAAK3X,KAAL,EAAYO,QAAZ;AAAwB;;AAEzC;AACA,GAAC,QAAD,EAAW,QAAX,EAAqB,aAArB,EAAoC,WAApC,EAAiDtE,OAAjD,CAAyD,kBAAU;AACjE,QAAI,OAAOuG,WAAWrB,MAAX,CAAP,KAA8B,UAAlC,EAA8C;AAC5Cf,cAAQe,MAAR,IAAkBqB,WAAWrB,MAAX,CAAlB;AACAnB,YAAMmB,MAAN,IAAgBf,QAAQe,MAAR,EAAgBiZ,IAAhB,CAAqBpa,MAAMlG,GAA3B,CAAhB;AACD,KAHD,MAGO,IAAI0I,WAAWvE,cAAX,CAA0BkD,MAA1B,KAAqCqB,WAAWrB,MAAX,KAAsB,IAA/D,EAAqE;AAC1Ef,cAAQe,MAAR,IAAkBnB,MAAMmB,MAAN,IAAgB,KAAK,CAAvC;AACD;AACF,GAPD;AAQD;;IAEKkZ,c;AACJ;;;;;AAKA,0BAAYzhB,OAAZ,EAAqBwH,OAArB,EAA8B;AAAA;;AAC5B,QAAMJ,QAAQ;AACZlG,WAAK,IADO;AAEZsG,eAAS,EAAE;AACTiZ,gBAAQ5F,MADD,CACQ;AADR,OAFG;AAKZnT,gBAAU;AALE,KAAd;;AAQAnC,WAAOgF,cAAP,CAAsB,IAAtB,EAA4B,KAA5B,EAAmC,EAACC,OAAO,EAAEzE,KAAV,EAAnC;AACAqB,UAAMC,GAAN,GAAY,KAAKA,GAAjB;AACAxB,aAAS,KAAKwB,GAAd,IAAqBD,KAArB;AACAA,UAAMsa,aAAN,GAAsBniB,MAAM8B,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAtB,CAZ4B,CAYiC;;AAE7D,QAAI,CAACoF,UAAU5G,OAAV,CAAD,IAAuBA,YAAY6Q,IAAvC,EAA6C;AAAE,YAAM,IAAI7I,KAAJ,CAAU,+BAAV,CAAN;AAAmD;AAClG,QAAI,CAACR,OAAL,EAAc;AACZA,gBAAU,EAAV;AACD,KAFD,MAEO,IAAI,CAACtC,SAASsC,OAAT,CAAL,EAAwB;AAC7B,YAAM,IAAIQ,KAAJ,CAAU,kBAAV,CAAN;AACD;;AAED,QAAImW,aAAa,IAAjB;AACE,QAAMwD,oBAAoB,oBAAU3iB,OAAV,CAAkB,YAAlB,CAA1B;AACA,QAAI2iB,iBAAJ,EAAuB;AAAExD,mBAAa,KAAb;AAAqB;;AAE9C,QAAI,CAAC3W,QAAQoa,OAAT,IAAoBxG,gBAAxB,EAA0C;AAAE;AAC1C,UAAIuG,iBAAJ,EAAuB;AAAE3hB,gBAAQrC,KAAR,CAAcgkB,iBAAd,IAAmC,WAAnC;AAAiD;AAC1Eva,YAAM8Y,OAAN,GAAgBV,aAAhB;AACApY,YAAMmY,OAAN,GAAgBZ,aAAhB;AAED,KALD,MAKO;AAAE;AACP,YAAM,IAAI3W,KAAJ,CAAU,+BAAV,CAAN;AACD;;AAEHZ,UAAMpH,OAAN,GAAgBke,SAASle,OAAT,EAAkBme,UAAlB,CAAhB;AACA/W,UAAM0X,YAAN,GAAqB9e,QAAQrC,KAA7B;AACAyJ,UAAMsZ,SAAN,GAAkBtZ,MAAM0X,YAAN,CAAmB2B,MAArC;AACA,QAAIhF,cAAJ,EAAoB;AAAE,gCAAWzb,OAAX,EAAoBE,GAApB,CAAwBub,cAAxB;AAA0C;AAChE;AACArU,UAAMka,eAAN,GAAwB,iBAAS;AAAEV,gBAAUxZ,KAAV,EAAiB7D,KAAjB;AAA0B,KAA7D;AACA6D,UAAM6Z,YAAN,GAAqB,oBAAU/gB,GAAV,CAAc,YAAM;AAAE+f,eAAS7Y,KAAT;AAAkB,KAAxC,CAArB;AACAA,UAAM4Z,cAAN,GAAuB,EAAvB;;AAEA;AACA,QAAI,CAACxZ,QAAQ8Y,WAAb,EAA0B;AACxB,UAAI/Z,eAAJ;AACAiB,cAAQ8Y,WAAR,GAAsB,CAAC/Z,SAASvG,QAAQwG,UAAlB,KAAiCI,UAAUL,MAAV,CAAjC,GAAqDA,MAArD,GAA8DsK,IAApF;AACD;AACD,QAAI,CAACrJ,QAAQ4C,MAAb,EAAqB;AAAE5C,cAAQ4C,MAAR,GAAiBpK,OAAjB;AAA2B;;AAElD2J,gBAAWvC,KAAX,EAAkBI,OAAlB;AACD;;AAED;;;;;;;;+BAIWA,O,EAAS;AAClB,UAAItC,SAASsC,OAAT,CAAJ,EAAuB;AACrBmC,oBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+BG,OAA/B;AACD;AACD,aAAO,IAAP;AACD;;;+BAEU;AACTyY,eAASpa,SAAS,KAAKwB,GAAd,CAAT;AACA,aAAO,IAAP;AACD;;;wBAEc;AACb,aAAOxB,SAAS,KAAKwB,GAAd,EAAmBK,QAA1B;AACD,K;sBACY8C,K,EAAO;AAClB,UAAMpD,QAAQvB,SAAS,KAAKwB,GAAd,CAAd;AACA,UAAI,CAACmD,QAAQ,CAAC,CAACA,KAAX,MAAsBpD,MAAMM,QAAhC,EAA0C;AACxCN,cAAMM,QAAN,GAAiB8C,KAAjB;AACA,YAAIpD,MAAMM,QAAV,EAAoB;AAClB,cAAIN,UAAU0T,UAAd,EAA0B;AAAE0F,oBAAQpZ,KAAR;AAAiB;AAC7CA,gBAAMI,OAAN,CAAc4C,MAAd,CAAqBzM,KAArB,CAA2B8gB,MAA3B,GAAoCrX,MAAMoX,SAA1C;AACA,cAAInD,iBAAJ,EAAuB;AAAEjU,kBAAMI,OAAN,CAAc4C,MAAd,CAAqBzM,KAArB,CAA2B0d,iBAA3B,IAAgDjU,MAAMia,aAAtD;AAAsE;AAC/F,cAAI5F,cAAJ,EAAoB;AAAE,sCAAWrU,MAAMpH,OAAjB,EAA0BO,MAA1B,CAAiCkb,cAAjC;AAAmD;AAC1E,SALD,MAKO;AACL8C,6BAAmBnX,MAAMI,OAAN,CAAc4C,MAAjC,EAAyChD,MAAMoX,SAA/C;AACA,cAAInD,iBAAJ,EAAuB;AAAEjU,kBAAMI,OAAN,CAAc4C,MAAd,CAAqBzM,KAArB,CAA2B0d,iBAA3B,IAAgD,MAAhD;AAAyD;AAClF,cAAII,cAAJ,EAAoB;AAAE,sCAAWrU,MAAMpH,OAAjB,EAA0BE,GAA1B,CAA8Bub,cAA9B;AAAgD;AACvE;AACF;AACF;;;wBAEa;AACZ,aAAO5V,SAAS,KAAKwB,GAAd,EAAmBrH,OAA1B;AACD;;;wBAEU;AACT,aAAO4b,SAAS/V,SAAS,KAAKwB,GAAd,EAAmBuX,WAA5B,CAAP;AACD;;;wBAEU;AAAE,aAAO/Y,SAAS,KAAKwB,GAAd,EAAmBuX,WAAnB,CAA+BjR,IAAtC;AAA6C,K;sBACjDnD,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACsG,MAAMnD,KAAP,EAA/B;AAAgD;;;wBAExD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBuX,WAAnB,CAA+BhR,GAAtC;AAA4C,K;sBAChDpD,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACuG,KAAKpD,KAAN,EAA/B;AAA+C;;;wBAE9C;AAChB,UAAMpD,QAAQvB,SAAS,KAAKwB,GAAd,CAAd;AACA,aAAOD,MAAMiZ,iBAAN,GACLnD,oBAAoB9V,MAAMI,OAAN,CAAc8Y,WAAlC,CADK,GAC4ClZ,MAAMI,OAAN,CAAc8Y,WADjE;AAED,K;sBACe9V,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACiZ,aAAa9V,KAAd,EAA/B;AAAuD;;;wBAGnE;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2B4C,MAAlC;AAA2C,K;sBAC/CI,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAAC+C,QAAQI,KAAT,EAA/B;AAAkD;;;wBAEzD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BiZ,MAAlC;AAA2C,K;sBAC/CjW,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACoZ,QAAQjW,KAAT,EAA/B;AAAkD;;;wBAEzD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2Bqa,MAAlC;AAA2C,K;sBAC/CrX,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACwa,QAAQrX,KAAT,EAA/B;AAAkD;;;wBAEzD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2Bsa,MAAlC;AAA2C,K;sBAC/CtX,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACya,QAAQtX,KAAT,EAA/B;AAAkD;;;wBAEpD;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2Bua,WAAlC;AAAgD,K;sBACpDvX,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAAC0a,aAAavX,KAAd,EAA/B;AAAuD;;;wBAEhE;AAAE,aAAO3E,SAAS,KAAKwB,GAAd,EAAmBG,OAAnB,CAA2BmZ,SAAlC;AAA8C,K;sBAClDnW,K,EAAO;AAAEb,kBAAW9D,SAAS,KAAKwB,GAAd,CAAX,EAA+B,EAACsZ,WAAWnW,KAAZ,EAA/B;AAAqD;;;wBAE/C;AAC3B,aAAO+Q,6BAAP;AACD,K;sBAC0B/Q,K,EAAO;AAChC,UAAI+Q,kCAAkC/Q,KAAtC,EAA6C;AAC3C+Q,wCAAgC/Q,KAAhC;AACAyQ,kCAA0B,IAA1B,CAF2C,CAEX;AAChC1V,eAAO8H,IAAP,CAAYxH,QAAZ,EAAsBxC,OAAtB,CAA8B,cAAM;AAClC,cAAM+D,QAAQvB,SAASoF,EAAT,CAAd;AACA,cAAI7D,MAAMM,QAAN,IAAkBN,UAAU0T,UAAV,IAAwBI,2BAA2B,KAAzE,EAAgF;AAAE;AAAS;AAC3FqD,6BAAmBnX,MAAMI,OAAN,CAAc4C,MAAjC,EAAyChD,MAAMoX,SAA/C;AACA,cAAIpX,UAAU0T,UAAd,EAA0B;AAAE;AAC1BjK,iBAAKlT,KAAL,CAAW8gB,MAAX,GAAoBtD,qBAApB;AACAtK,iBAAKlT,KAAL,CAAW8gB,MAAX,GAAoB1f,OAAO2M,gBAAP,CAAwBtE,MAAMI,OAAN,CAAc4C,MAAtC,EAA8C,EAA9C,EAAkDqU,MAAtE;AACD;AACF,SARD;AASD;AACF;;;wBAE2B;AAC1B,aAAOjD,4BAAP;AACD,K;sBACyBhR,K,EAAO;AAC/B,UAAIgR,iCAAiChR,KAArC,EAA4C;AAC1CgR,uCAA+BhR,KAA/B;AACA0Q,iCAAyB,IAAzB,CAF0C,CAEX;AAC/B,YAAIJ,UAAJ,EAAgB;AACd4D,4BAAkB5D,WAAWtT,OAAX,CAAmB4C,MAArC;AACA,cAAI8Q,2BAA2B,KAA/B,EAAsC;AACpCqD,+BAAmBzD,WAAWtT,OAAX,CAAmB4C,MAAtC,EAA8C0Q,WAAW0D,SAAzD,EADoC,CACiC;AACrE3N,iBAAKlT,KAAL,CAAW8gB,MAAX,GAAoBtD,qBAApB;AACD;AACDtK,eAAKlT,KAAL,CAAW8gB,MAAX,GAAoBvD,0BAA0B;AAC5Cnc,iBAAO2M,gBAAP,CAAwBoP,WAAWtT,OAAX,CAAmB4C,MAA3C,EAAmD,EAAnD,EAAuDqU,MADzD;AAED;AACF;AACF;;;wBAE2B;AAC1B,aAAOhD,cAAP;AACD,K;sBACyBjR,K,EAAO;AAC/BA,cAAQA,QAASA,QAAQ,EAAjB,GAAuB,KAAK,CAApC;AACA,UAAIA,UAAUiR,cAAd,EAA8B;AAC5BlW,eAAO8H,IAAP,CAAYxH,QAAZ,EAAsBxC,OAAtB,CAA8B,cAAM;AAClC,cAAM+D,QAAQvB,SAASoF,EAAT,CAAd;AACA,cAAI,CAAC7D,MAAMM,QAAX,EAAqB;AACnB,gBAAM3G,YAAY,0BAAWqG,MAAMpH,OAAjB,CAAlB;AACA,gBAAIyb,cAAJ,EAAoB;AAAE1a,wBAAUR,MAAV,CAAiBkb,cAAjB;AAAmC;AACzD,gBAAIjR,KAAJ,EAAW;AAAEzJ,wBAAUb,GAAV,CAAcsK,KAAd;AAAuB;AACrC;AACF,SAPD;AAQAiR,yBAAiBjR,KAAjB;AACD;AACF;;;wBAE0B;AACzB,aAAOkR,aAAP;AACD,K;sBACwBlR,K,EAAO;AAC9BA,cAAQA,QAASA,QAAQ,EAAjB,GAAuB,KAAK,CAApC;AACA,UAAIA,UAAUkR,aAAd,EAA6B;AAC3B,YAAIZ,UAAJ,EAAgB;AACd,cAAM/Z,YAAY,0BAAW+Z,WAAW9a,OAAtB,CAAlB;AACA,cAAI0b,aAAJ,EAAmB;AAAE3a,sBAAUR,MAAV,CAAiBmb,aAAjB;AAAkC;AACvD,cAAIlR,KAAJ,EAAW;AAAEzJ,sBAAUb,GAAV,CAAcsK,KAAd;AAAuB;AACrC;AACDkR,wBAAgBlR,KAAhB;AACD;AACF;;;wBAEwB;AACvB,aAAOmR,WAAP;AACD,K;sBACsBnR,K,EAAO;AAC5BA,cAAQA,QAASA,QAAQ,EAAjB,GAAuB,KAAK,CAApC;AACA,UAAIA,UAAUmR,WAAd,EAA2B;AACzB,YAAIb,cAAcC,QAAlB,EAA4B;AAC1B,cAAMha,YAAY,0BAAW+Z,WAAW9a,OAAtB,CAAlB;AACA,cAAI2b,WAAJ,EAAiB;AAAE5a,sBAAUR,MAAV,CAAiBob,WAAjB;AAAgC;AACnD,cAAInR,KAAJ,EAAW;AAAEzJ,sBAAUb,GAAV,CAAcsK,KAAd;AAAuB;AACrC;AACDmR,sBAAcnR,KAAd;AACD;AACF;;;;;;AAGH/M,SAASuM,gBAAT,CAA0B,WAA1B,EAAuC,oBAAU9J,GAAV,CAAc,iBAAS;AAC5D,MAAI4a,cACAiE,KAAKjE,UAAL,EAAiB;AACfnN,UAAMpK,MAAMsd,KAAN,GAAc7F,cAAcrN,IADnB;AAEfC,SAAKrK,MAAMud,KAAN,GAAc9F,cAAcpN;AAFlB,GAAjB,EAIAkN,WAAW+G,MAJX,CADJ,EAKwB;;AAEtB,QAAI,CAAC9G,QAAL,EAAe;AACbA,iBAAW,IAAX;AACA,UAAIY,WAAJ,EAAiB;AAAE,kCAAWb,WAAW9a,OAAtB,EAA+BE,GAA/B,CAAmCyb,WAAnC;AAAkD;AACrE,UAAIb,WAAWiH,WAAf,EAA4B;AAAEjH,mBAAWiH,WAAX;AAA2B;AAC1D;AACD,QAAIjH,WAAWgH,MAAf,EAAuB;AAAEhH,iBAAWgH,MAAX;AAAsB;AAChD;AACF,CAfsC,CAAvC,EAeI,KAfJ;;AAiBArkB,SAASuM,gBAAT,CAA0B,SAA1B,EAAqC,YAAM;AAAE;AAC3C,MAAI8Q,UAAJ,EAAgB;AAAE0F,YAAQ1F,UAAR;AAAsB;AACzC,CAFD,EAEG,KAFH;;AAIA;AAAA,MAEWkH,OAFX,GAEE,SAASA,OAAT,GAAmB;AACjB5G,uBAAmB,oBAAUpc,OAAV,CAAkB,WAAlB,CAAnB;AACAmc,4BAAwBtK,KAAKlT,KAAL,CAAW8gB,MAAnC;AACA,QAAKpD,oBAAoB,oBAAUrc,OAAV,CAAkB,YAAlB,CAAzB,EAA2D;AACzDsc,kCAA4BzK,KAAKlT,KAAL,CAAW0d,iBAAX,CAA5B;AACD;;AAED;AACAtc,WAAOiL,gBAAP,CAAwB,QAAxB,EAAkC,oBAAU9J,GAAV,CAAc,YAAM;AACpD,UAAI6X,QAAJ,EAAc;AACZxI,gBAAQoC,GAAR,CAAY,6CAAZ,EADY,CACgD;AAC5D;AACD;AACDoG,iBAAW,IAAX;AACAxS,aAAO8H,IAAP,CAAYxH,QAAZ,EAAsBxC,OAAtB,CAA8B,cAAM;AAClC,YAAIwC,SAASoF,EAAT,EAAaiV,OAAjB,EAA0B;AAAE;AAC1BD,mBAASpa,SAASoF,EAAT,CAAT;AACD;AACD;AAHA,aAIK;AAAEsE,oBAAQoC,GAAR,CAAY,6BAAZ,EAA4CpC,QAAQoC,GAAR,CAAY9L,SAASoF,EAAT,CAAZ;AAA4B,WAL7C,CAK8C;AACjF,OAND;AAOA8M,iBAAW,KAAX;AACD,KAdiC,CAAlC,EAcI,IAdJ;AAeD,GAzBH;;AACE,MAAIA,WAAW,KAAf;;;AA0BA,MAAKlH,OAAOpT,SAASoT,IAArB,EAA4B;AAC1BmR;AACD,GAFD,MAEO;AACLvkB,aAASuM,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD6G,aAAOpT,SAASoT,IAAhB;AACAmR;AACD,KAHD,EAGG,KAHH;AAID;AACF;;AAEDP,eAAexJ,KAAf,GAAuB,IAAvB;;kBAEewJ,c","file":"plain-modal.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 43cf02a0dde138494673","/*\n * CSSPrefix\n * https://github.com/anseki/cssprefix\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nfunction ucf(text) { return text.substr(0, 1).toUpperCase() + text.substr(1); }\n\nconst PREFIXES = ['webkit', 'ms', 'moz', 'o'],\n  NAME_PREFIXES = PREFIXES.reduce((prefixes, prefix) => {\n    prefixes.push(prefix);\n    prefixes.push(ucf(prefix));\n    return prefixes;\n  }, []),\n  VALUE_PREFIXES = PREFIXES.map(prefix => `-${prefix}-`),\n\n  /**\n   * Get sample CSSStyleDeclaration.\n   * @returns {CSSStyleDeclaration}\n   */\n  getDeclaration = (() => {\n    let declaration;\n    return () => (declaration = declaration || document.createElement('div').style);\n  })(),\n\n  /**\n   * Normalize name.\n   * @param {} propName - A name that is normalized.\n   * @returns {string} A normalized name.\n   */\n  normalizeName = (() => {\n    const rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),\n      reUc = /[A-Z]/;\n    return propName => (propName = (propName + '').replace(/\\s/g, '')\n      .replace(/-([\\da-z])/gi, (str, p1) => p1.toUpperCase()) // camelCase\n      // 'ms' and 'Ms' are found by rePrefixedName 'i' option\n      .replace(rePrefixedName, (str, p1) => reUc.test(p1) ? p1.toLowerCase() : str) // Remove prefix\n    ).toLowerCase() === 'float' ? 'cssFloat' : propName; // For old CSSOM\n  })(),\n\n  /**\n   * Normalize value.\n   * @param {} propValue - A value that is normalized.\n   * @returns {string} A normalized value.\n   */\n  normalizeValue = (() => {\n    const rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');\n    return propValue => (propValue + '').replace(/\\s/g, '').replace(rePrefixedValue, '');\n  })(),\n\n  /**\n   * Polyfill for `CSS.supports`.\n   * @param {string} propName - A name.\n   * @param {string} propValue - A value.\n   * @returns {boolean} `true` if given pair is accepted.\n   */\n  cssSupports = (() => {\n    // return window.CSS && window.CSS.supports || ((propName, propValue) => {\n    // `CSS.supports` doesn't find prefixed property.\n    return ((propName, propValue) => {\n      const declaration = getDeclaration();\n      // In some browsers, `declaration[prop] = value` updates any property.\n      propName = propName.replace(/[A-Z]/g, str => `-${str.toLowerCase()}`); // kebab-case\n      declaration.setProperty(propName, propValue);\n      return declaration.getPropertyValue(propName) === propValue;\n    });\n  })(),\n\n  propNames = {}, propValues = {}; // Cache\n\n// [DEBUG]\nwindow.normalizeName = normalizeName;\nwindow.normalizeValue = normalizeValue;\nwindow.cssSupports = cssSupports;\n// [/DEBUG]\n\nfunction getName(propName) {\n  propName = normalizeName(propName);\n  if (propName && propNames[propName] == null) {\n    window.getNameDone = 'get'; // [DEBUG/]\n    const declaration = getDeclaration();\n\n    if (declaration[propName] != null) { // Original\n      propNames[propName] = propName;\n\n    } else { // Try with prefixes\n      const ucfName = ucf(propName);\n      if (!NAME_PREFIXES.some(prefix => {\n        const prefixed = prefix + ucfName;\n        if (declaration[prefixed] != null) {\n          propNames[propName] = prefixed;\n          return true;\n        }\n        return false;\n      })) {\n        propNames[propName] = false;\n      }\n    }\n\n  }\n  return propNames[propName] || void 0;\n}\n\nfunction getValue(propName, propValue) {\n  let res;\n\n  if (!(propName = getName(propName))) { return res; } // Invalid property\n\n  propValues[propName] = propValues[propName] || {};\n  (Array.isArray(propValue) ? propValue : [propValue]).some(propValue => {\n    propValue = normalizeValue(propValue);\n    (window.getValueDone = window.getValueDone || []).push(propValue); // [DEBUG/]\n\n    if (propValues[propName][propValue] != null) { // Cache\n      if (propValues[propName][propValue] !== false) {\n        res = propValues[propName][propValue];\n        return true;\n      } else {\n        return false; // Continue to next value\n      }\n    }\n    window.getValueDone.push('get'); // [DEBUG/]\n\n    if (cssSupports(propName, propValue)) { // Original\n      res = propValues[propName][propValue] = propValue;\n      return true;\n    }\n\n    if (VALUE_PREFIXES.some(prefix => { // Try with prefixes\n      const prefixed = prefix + propValue;\n      if (cssSupports(propName, prefixed)) {\n        res = propValues[propName][propValue] = prefixed;\n        return true;\n      }\n      return false;\n    })) {\n      return true;\n    }\n\n    propValues[propName][propValue] = false;\n    return false; // Continue to next value\n  });\n\n  return typeof res === 'string' ? res : void 0; // It might be empty string.\n}\n\nconst CSSPrefix = {\n  getName: getName,\n  getValue: getValue\n};\n\nexport default CSSPrefix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/cssprefix/src/cssprefix.js","/*\n * mClassList\n * https://github.com/anseki/m-class-list\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nfunction normalize(token) { return (token + '').trim(); } // Not `||`\nfunction applyList(list, element) { element.setAttribute('class', list.join(' ')); }\n\nfunction add(list, element, tokens) {\n  if (tokens.filter(token => {\n    if (!(token = normalize(token)) || list.indexOf(token) !== -1) { return false; }\n    list.push(token);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction remove(list, element, tokens) {\n  if (tokens.filter(token => {\n    let i;\n    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) { return false; }\n    list.splice(i, 1);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction toggle(list, element, token, force) {\n  const i = list.indexOf((token = normalize(token)));\n  if (i !== -1) {\n    if (force) { return true; }\n    list.splice(i, 1);\n    applyList(list, element);\n    return false;\n  } else {\n    if (force === false) { return false; }\n    list.push(token);\n    applyList(list, element);\n    return true;\n  }\n}\n\nfunction replace(list, element, token, newToken) {\n  let i;\n  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) ||\n    token === newToken || (i = list.indexOf(token)) === -1) { return; }\n  list.splice(i, 1);\n  if (list.indexOf(newToken) === -1) { list.push(newToken); }\n  applyList(list, element);\n}\n\nfunction mClassList(element) {\n  return !mClassList.ignoreNative && element.classList || (() => {\n    const list = (element.getAttribute('class') || '').trim().split(/\\s+/).filter(token => !!token),\n      ins = {\n        length: list.length,\n        item: i => list[i],\n        contains: token => list.indexOf(normalize(token)) !== -1,\n        add: function() {\n          add(list, element, Array.prototype.slice.call(arguments));\n          return mClassList.methodChain ? ins : void 0;\n        },\n        remove: function() {\n          remove(list, element, Array.prototype.slice.call(arguments));\n          return mClassList.methodChain ? ins : void 0;\n        },\n        toggle: (token, force) => toggle(list, element, token, force),\n        replace: (token, newToken) => {\n          replace(list, element, token, newToken);\n          return mClassList.methodChain ? ins : void 0;\n        }\n      };\n    return ins;\n  })();\n}\n\nmClassList.methodChain = true;\n\nexport default mClassList;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/m-class-list/src/m-class-list.js","/*\n * AnimEvent\n * https://github.com/anseki/anim-event\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nconst\n  MSPF = 1000 / 60, // ms/frame (FPS: 60)\n  KEEP_LOOP = 500,\n\n  /**\n   * @typedef {Object} task\n   * @property {Event} event\n   * @property {function} listener\n   */\n\n  /** @type {task[]} */\n  tasks = [];\n\nlet\n  requestAnim = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    (callback => setTimeout(callback, MSPF)),\n  cancelAnim = window.cancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    (requestID => clearTimeout(requestID)),\n\n  requestID, lastFrameTime = Date.now();\n\n// [DEBUG]\nconst requestAnimSave = requestAnim, cancelAnimSave = cancelAnim;\nwindow.AnimEventByTimer = byTimer => {\n  if (byTimer) {\n    requestAnim = callback => setTimeout(callback, MSPF);\n    cancelAnim = requestID => clearTimeout(requestID);\n  } else {\n    requestAnim = requestAnimSave;\n    cancelAnim = cancelAnimSave;\n  }\n};\n// [/DEBUG]\n\nfunction step() {\n  let called, next;\n\n  if (requestID) {\n    cancelAnim.call(window, requestID);\n    requestID = null;\n  }\n\n  tasks.forEach(task => {\n    if (task.event) {\n      task.listener(task.event);\n      task.event = null;\n      called = true;\n    }\n  });\n\n  if (called) {\n    lastFrameTime = Date.now();\n    next = true;\n  } else if (Date.now() - lastFrameTime < KEEP_LOOP) { // Go on for a while\n    next = true;\n  }\n  if (next) { requestID = requestAnim.call(window, step); }\n}\n\nfunction indexOfTasks(listener) {\n  let index = -1;\n  tasks.some((task, i) => {\n    if (task.listener === listener) {\n      index = i;\n      return true;\n    }\n    return false;\n  });\n  return index;\n}\n\nconst AnimEvent = {\n  /**\n   * @param {function} listener - An event listener.\n   * @returns {(function|null)} A wrapped event listener.\n   */\n  add: function(listener) {\n    let task;\n    if (indexOfTasks(listener) === -1) {\n      tasks.push((task = {listener: listener}));\n      return event => {\n        task.event = event;\n        if (!requestID) { step(); }\n      };\n    } else {\n      return null;\n    }\n  },\n\n  remove: function(listener) {\n    let iRemove;\n    if ((iRemove = indexOfTasks(listener)) > -1) {\n      tasks.splice(iRemove, 1);\n      if (!tasks.length && requestID) {\n        cancelAnim.call(window, requestID);\n        requestID = null;\n      }\n    }\n  }\n};\n\nexport default AnimEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/anim-event/src/anim-event.js","/*\n * PlainModal\n * https://anseki.github.io/plain-modal/\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport mClassList from 'm-class-list';\nimport PlainOverlay from 'plain-overlay';\nimport CSS_TEXT from './default.scss';\n// [DRAG]\nimport PlainDraggable from 'plain-draggable';\n// [/DRAG]\nmClassList.ignoreNative = true;\n\nconst\n  APP_ID = 'plainmodal',\n  STYLE_ELEMENT_ID = `${APP_ID}-style`,\n  STYLE_CLASS = APP_ID,\n  STYLE_CLASS_CONTENT = `${APP_ID}-content`,\n  STYLE_CLASS_OVERLAY = `${APP_ID}-overlay`,\n  STYLE_CLASS_OVERLAY_HIDE = `${STYLE_CLASS_OVERLAY}-hide`,\n  STYLE_CLASS_OVERLAY_FORCE = `${STYLE_CLASS_OVERLAY}-force`,\n\n  STATE_CLOSED = 0, STATE_OPENING = 1, STATE_OPENED = 2, STATE_CLOSING = 3,\n  STATE_INACTIVATING = 4, STATE_INACTIVATED = 5, STATE_ACTIVATING = 6,\n  DURATION = 200, // COPY from PlainOverlay\n\n  IS_TRIDENT = !!document.uniqueID,\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Element} elmContent - Content element.\n   * @property {Element} elmOverlay - Overlay element. (Not PlainOverlay)\n   * @property {PlainOverlay} plainOverlay - PlainOverlay instance.\n   * @property {PlainDraggable} plainDraggable - PlainDraggable instance.\n   * @property {number} state - Current state.\n   * @property {Object} options - Options.\n   * @property {props} parentProps - props that is effected with current props.\n   * @property {{plainOverlay: boolean, option: boolean}} effectFinished - The effect finished.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {},\n\n  /**\n   * A `props` list, it have a `state` other than `STATE_CLOSED`.\n   * A `props` is pushed to the end of this array, `shownProps[shownProps.length - 1]` can be active.\n   * @type {Array.<props>}\n   */\n  shownProps = [];\n\nlet insId = 0,\n  openCloseEffectProps, // A `props` that is running the \"open/close\" effect now.\n  closeByEscKey = true, closeByOverlay = true;\n\n// [DEBUG]\nwindow.insProps = insProps;\nwindow.shownProps = shownProps;\n// [/DEBUG]\n\n// [DEBUG]\nconst traceLog = [];\nconst STATE_TEXT = {};\nSTATE_TEXT[STATE_CLOSED] = 'STATE_CLOSED';\nSTATE_TEXT[STATE_OPENING] = 'STATE_OPENING';\nSTATE_TEXT[STATE_OPENED] = 'STATE_OPENED';\nSTATE_TEXT[STATE_CLOSING] = 'STATE_CLOSING';\nSTATE_TEXT[STATE_INACTIVATING] = 'STATE_INACTIVATING';\nSTATE_TEXT[STATE_INACTIVATED] = 'STATE_INACTIVATED';\nSTATE_TEXT[STATE_ACTIVATING] = 'STATE_ACTIVATING';\n// [/DEBUG]\n\nfunction forceReflow(target) {\n  // Trident and Blink bug (reflow like `offsetWidth` can't update)\n  setTimeout(() => {\n    const parent = target.parentNode, next = target.nextSibling;\n    // It has to be removed first for Blink.\n    parent.insertBefore(parent.removeChild(target), next);\n  }, 0);\n}\n\n/**\n * @param {Element} element - A target element.\n * @returns {boolean} `true` if connected element.\n */\nfunction isElement(element) {\n  return !!(element &&\n    element.nodeType === Node.ELEMENT_NODE &&\n    // element instanceof HTMLElement &&\n    typeof element.getBoundingClientRect === 'function' &&\n    !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));\n}\n\n// [DRAG]\nfunction switchDraggable(props) {\n  // [DEBUG]\n  traceLog.push('<switchDraggable>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  // [/DEBUG]\n  if (props.plainDraggable) {\n    // [DEBUG]\n    traceLog.push(\n      `plainDraggable.disabled:${!(props.options.dragHandle && props.state === STATE_OPENED)}`);\n    // [/DEBUG]\n    const disabled = !(props.options.dragHandle && props.state === STATE_OPENED);\n    props.plainDraggable.disabled = disabled;\n    if (!disabled) { props.plainDraggable.position(); }\n    // [DEBUG]\n  } else {\n    traceLog.push('plainDraggable:NONE');\n    // [/DEBUG]\n  }\n  traceLog.push('</switchDraggable>'); // [DEBUG/]\n}\n// [/DRAG]\n\nfunction finishOpening(props) {\n  // [DEBUG]\n  traceLog.push('<finishOpening>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  // [/DEBUG]\n  openCloseEffectProps = null;\n  props.state = STATE_OPENED;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  switchDraggable(props); // [DRAG/]\n  if (props.parentProps) {\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    props.parentProps.state = STATE_INACTIVATED;\n    traceLog.push(`parentProps.state:${STATE_TEXT[props.parentProps.state]}`); // [DEBUG/]\n  }\n  if (props.options.onOpen) { props.options.onOpen.call(props.ins); }\n  traceLog.push('</finishOpening>'); // [DEBUG/]\n}\n\nfunction finishClosing(props) {\n  // [DEBUG]\n  traceLog.push('<finishClosing>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  if (shownProps[shownProps.length - 1] !== props) { throw new Error('`shownProps` is broken.'); }\n  // [/DEBUG]\n  shownProps.pop();\n  // [DEBUG]\n  traceLog.push(\n    `shownProps:${shownProps.length ? shownProps.map(props => props._id).join(',') : 'NONE'}`);\n  // [/DEBUG]\n  openCloseEffectProps = null;\n  props.state = STATE_CLOSED;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.parentProps) {\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    props.parentProps.state = STATE_OPENED;\n    traceLog.push(`parentProps.state:${STATE_TEXT[props.parentProps.state]}`); // [DEBUG/]\n    switchDraggable(props.parentProps); // [DRAG/]\n    traceLog.push(`parentProps(UNLINK):${props.parentProps._id}`); // [DEBUG/]\n    props.parentProps = null;\n  }\n  if (props.options.onClose) { props.options.onClose.call(props.ins); }\n  traceLog.push('</finishClosing>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {string} effectKey - `plainOverlay' or 'option`\n * @returns {void}\n */\nfunction finishOpenEffect(props, effectKey) {\n  // [DEBUG]\n  traceLog.push('<finishOpenEffect>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`effectKey:${effectKey}`);\n  // [/DEBUG]\n  if (props.state !== STATE_OPENING) {\n    traceLog.push('CANCEL', '</finishOpenEffect>'); // [DEBUG/]\n    return;\n  }\n  props.effectFinished[effectKey] = true;\n  // [DEBUG]\n  traceLog.push(`effectFinished.plainOverlay:${props.effectFinished.plainOverlay}`);\n  traceLog.push(`effectFinished.option:${props.effectFinished.option}`);\n  traceLog.push(`openEffect:${props.options.openEffect ? 'YES' : 'NO'}`);\n  // [/DEBUG]\n  if (props.effectFinished.plainOverlay &&\n      (!props.options.openEffect || props.effectFinished.option)) {\n    finishOpening(props);\n  }\n  traceLog.push(`_id:${props._id}`, '</finishOpenEffect>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {string} effectKey - `plainOverlay' or 'option`\n * @returns {void}\n */\nfunction finishCloseEffect(props, effectKey) {\n  // [DEBUG]\n  traceLog.push('<finishCloseEffect>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`effectKey:${effectKey}`);\n  // [/DEBUG]\n  if (props.state !== STATE_CLOSING) {\n    traceLog.push('CANCEL', '</finishCloseEffect>'); // [DEBUG/]\n    return;\n  }\n  props.effectFinished[effectKey] = true;\n  // [DEBUG]\n  traceLog.push(`effectFinished.plainOverlay:${props.effectFinished.plainOverlay}`);\n  traceLog.push(`effectFinished.option:${props.effectFinished.option}`);\n  traceLog.push(`closeEffect:${props.options.closeEffect ? 'YES' : 'NO'}`);\n  // [/DEBUG]\n  if (props.effectFinished.plainOverlay &&\n      (!props.options.closeEffect || props.effectFinished.option)) {\n    finishClosing(props);\n  }\n  traceLog.push(`_id:${props._id}`, '</finishCloseEffect>'); // [DEBUG/]\n}\n\n/**\n * Process after preparing data and adjusting style.\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction execOpening(props, force) {\n  // [DEBUG]\n  traceLog.push('<execOpening>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`force:${!!force}`);\n  // [/DEBUG]\n  if (props.parentProps) { // inactivate parentProps\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    /*\n      Cases:\n        - STATE_OPENED or STATE_ACTIVATING, regardless of force\n        - STATE_INACTIVATING and force\n    */\n    const parentProps = props.parentProps, elmOverlay = parentProps.elmOverlay;\n    if (parentProps.state === STATE_OPENED) {\n      elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n        props.options.duration === DURATION ? '' : `${props.options.duration}ms`;\n      // [DEBUG]\n      traceLog.push('elmOverlay.duration:' +\n        (props.options.duration === DURATION ? '' : `${props.options.duration}ms`));\n      // [/DEBUG]\n    }\n    const elmOverlayClassList = mClassList(elmOverlay);\n    elmOverlayClassList.toggle(STYLE_CLASS_OVERLAY_FORCE, !!force);\n    elmOverlayClassList.add(STYLE_CLASS_OVERLAY_HIDE);\n    // [DEBUG]\n    traceLog.push(\n      `elmOverlay.CLASS_FORCE:${elmOverlayClassList.contains(STYLE_CLASS_OVERLAY_FORCE)}`);\n    traceLog.push(\n      `elmOverlay.CLASS_HIDE:${elmOverlayClassList.contains(STYLE_CLASS_OVERLAY_HIDE)}`);\n    // [/DEBUG]\n    // Update `state` regardless of force, for switchDraggable.\n    parentProps.state = STATE_INACTIVATING;\n    traceLog.push(`parentProps.state:${STATE_TEXT[props.parentProps.state]}`); // [DEBUG/]\n    switchDraggable(parentProps); // [DRAG/]\n  }\n\n  props.state = STATE_OPENING;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  props.effectFinished.plainOverlay = props.effectFinished.option = false;\n  props.plainOverlay.show(force);\n  if (props.options.openEffect) {\n    if (force) {\n      props.options.openEffect.call(props.ins);\n      finishOpenEffect(props, 'option');\n    } else {\n      props.options.openEffect.call(props.ins, props.openEffectDone);\n    }\n  }\n  traceLog.push(`_id:${props._id}`, '</execOpening>'); // [DEBUG/]\n}\n\n/**\n * Process after preparing data and adjusting style.\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @param {boolean} [sync] - `force` with sync-mode. (Skip restoring active element)\n * @returns {void}\n */\nfunction execClosing(props, force, sync) {\n  // [DEBUG]\n  traceLog.push('<execClosing>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`force:${!!force}`, `sync:${!!sync}`);\n  // [/DEBUG]\n  if (props.parentProps) { // activate parentProps\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    /*\n      Cases:\n        - STATE_INACTIVATED or STATE_INACTIVATING, regardless of `force`\n        - STATE_ACTIVATING and `force`\n    */\n    const parentProps = props.parentProps, elmOverlay = parentProps.elmOverlay;\n    if (parentProps.state === STATE_INACTIVATED) {\n      elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n        props.options.duration === DURATION ? '' : `${props.options.duration}ms`;\n      // [DEBUG]\n      traceLog.push('elmOverlay.duration:' +\n        (props.options.duration === DURATION ? '' : `${props.options.duration}ms`));\n      // [/DEBUG]\n    }\n    const elmOverlayClassList = mClassList(elmOverlay);\n    elmOverlayClassList.toggle(STYLE_CLASS_OVERLAY_FORCE, !!force);\n    elmOverlayClassList.remove(STYLE_CLASS_OVERLAY_HIDE);\n    // [DEBUG]\n    traceLog.push(\n      `elmOverlay.CLASS_FORCE:${elmOverlayClassList.contains(STYLE_CLASS_OVERLAY_FORCE)}`);\n    traceLog.push(\n      `elmOverlay.CLASS_HIDE:${elmOverlayClassList.contains(STYLE_CLASS_OVERLAY_HIDE)}`);\n    // [/DEBUG]\n    // same condition as props\n    parentProps.state = STATE_ACTIVATING;\n    traceLog.push(`parentProps.state:${STATE_TEXT[props.parentProps.state]}`); // [DEBUG/]\n  }\n\n  props.state = STATE_CLOSING;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  switchDraggable(props); // [DRAG/]\n  props.effectFinished.plainOverlay = props.effectFinished.option = false;\n  props.plainOverlay.hide(force, sync);\n  if (props.options.closeEffect) {\n    if (force) {\n      props.options.closeEffect.call(props.ins);\n      finishCloseEffect(props, 'option');\n    } else {\n      props.options.closeEffect.call(props.ins, props.closeEffectDone);\n    }\n  }\n  traceLog.push(`_id:${props._id}`, '</execClosing>'); // [DEBUG/]\n}\n\n/**\n * Finish the \"open/close\" effect immediately with sync-mode.\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction fixOpenClose(props) {\n  // [DEBUG]\n  traceLog.push('<fixOpenClose>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  // [/DEBUG]\n  if (props.state === STATE_OPENING) {\n    execOpening(props, true);\n  } else if (props.state === STATE_CLOSING) {\n    execClosing(props, true, true);\n  }\n  traceLog.push(`_id:${props._id}`, '</fixOpenClose>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction open(props, force) {\n  traceLog.push('<open>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.state !== STATE_CLOSED &&\n        props.state !== STATE_CLOSING && props.state !== STATE_OPENING ||\n      props.state === STATE_OPENING && !force ||\n      props.state !== STATE_OPENING &&\n        props.options.onBeforeOpen && props.options.onBeforeOpen.call(props.ins) === false) {\n    traceLog.push('CANCEL', '</open>'); // [DEBUG/]\n    return false;\n  }\n  /*\n    Cases:\n      - STATE_CLOSED or STATE_CLOSING, regardless of `force`\n      - STATE_OPENING and `force`\n  */\n\n  // [DEBUG]\n  traceLog.push(`openCloseEffectProps:${openCloseEffectProps ? openCloseEffectProps._id : 'NONE'}`);\n  // [/DEBUG]\n  if (props.state === STATE_CLOSED) {\n    if (openCloseEffectProps) { fixOpenClose(openCloseEffectProps); }\n    openCloseEffectProps = props;\n\n    if (shownProps.length) {\n      // [DEBUG]\n      if (shownProps.indexOf(props) !== -1) { throw new Error('`shownProps` is broken.'); }\n      // [/DEBUG]\n      props.parentProps = shownProps[shownProps.length - 1];\n      traceLog.push(`parentProps(LINK):${props.parentProps._id}`); // [DEBUG/]\n    }\n    shownProps.push(props);\n    // [DEBUG]\n    traceLog.push(\n      `shownProps:${shownProps.length ? shownProps.map(props => props._id).join(',') : 'NONE'}`);\n    // [/DEBUG]\n\n    mClassList(props.elmOverlay).add(STYLE_CLASS_OVERLAY_FORCE).remove(STYLE_CLASS_OVERLAY_HIDE);\n    // [DEBUG]\n    traceLog.push(\n      `elmOverlay.CLASS_FORCE:${mClassList(props.elmOverlay).contains(STYLE_CLASS_OVERLAY_FORCE)}`);\n    traceLog.push(\n      `elmOverlay.CLASS_HIDE:${mClassList(props.elmOverlay).contains(STYLE_CLASS_OVERLAY_HIDE)}`);\n    // [/DEBUG]\n  }\n\n  execOpening(props, force);\n  traceLog.push(`_id:${props._id}`, '</open>'); // [DEBUG/]\n  return true;\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction close(props, force) {\n  traceLog.push('<close>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.state === STATE_CLOSED ||\n      props.state === STATE_CLOSING && !force ||\n      props.state !== STATE_CLOSING &&\n        props.options.onBeforeClose && props.options.onBeforeClose.call(props.ins) === false) {\n    traceLog.push('CANCEL', '</close>'); // [DEBUG/]\n    return false;\n  }\n  /*\n    Cases:\n      - Other than STATE_CLOSED and STATE_CLOSING, regardless of `force`\n      - STATE_CLOSING and `force`\n  */\n\n  // [DEBUG]\n  traceLog.push(`openCloseEffectProps:${openCloseEffectProps ? openCloseEffectProps._id : 'NONE'}`);\n  // [/DEBUG]\n  if (openCloseEffectProps && openCloseEffectProps !== props) {\n    fixOpenClose(openCloseEffectProps);\n    openCloseEffectProps = null;\n  }\n  /*\n    Cases:\n      - STATE_OPENED, STATE_OPENING or STATE_INACTIVATED, regardless of `force`\n      - STATE_CLOSING and `force`\n  */\n  if (props.state === STATE_INACTIVATED) { // -> STATE_OPENED\n    // [DEBUG]\n    const i = shownProps.indexOf(props);\n    if (i === -1 || i === shownProps.length - 1) { throw new Error('`shownProps` is broken.'); }\n    traceLog.push(\n      `shownProps:${shownProps.length ? shownProps.map(props => props._id).join(',') : 'NONE'}`);\n    // [/DEBUG]\n    let topProps;\n    while ((topProps = shownProps[shownProps.length - 1]) !== props) {\n      // [DEBUG]\n      if (topProps.state !== STATE_OPENED) { throw new Error('`shownProps` is broken.'); }\n      traceLog.push(`topProps._id:${topProps._id}`, `topProps.state:${STATE_TEXT[topProps.state]}`);\n      // [/DEBUG]\n      execClosing(topProps, true, true);\n    }\n  }\n  /*\n    Cases:\n      - STATE_OPENED or STATE_OPENING, regardless of `force`\n      - STATE_CLOSING and `force`\n  */\n\n  if (props.state === STATE_OPENED) {\n    if (openCloseEffectProps) { throw new Error('`openCloseEffectProps` is broken.'); } // [DEBUG/]\n    openCloseEffectProps = props;\n  }\n\n  execClosing(props, force);\n  traceLog.push(`_id:${props._id}`, '</close>'); // [DEBUG/]\n  return true;\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options, plainOverlay = props.plainOverlay;\n\n  // closeButton\n  if (newOptions.hasOwnProperty('closeButton') &&\n      (newOptions.closeButton = isElement(newOptions.closeButton) ? newOptions.closeButton :\n        newOptions.closeButton == null ? void 0 : false) !== false &&\n      newOptions.closeButton !== options.closeButton) {\n    if (options.closeButton) { // Remove\n      options.closeButton.removeEventListener('click', props.handleClose, false);\n    }\n    options.closeButton = newOptions.closeButton;\n    if (options.closeButton) { // Add\n      options.closeButton.addEventListener('click', props.handleClose, false);\n    }\n  }\n\n  // duration\n  // Check by PlainOverlay\n  plainOverlay.duration = newOptions.duration;\n  options.duration = plainOverlay.duration;\n\n  // overlayBlur\n  // Check by PlainOverlay\n  plainOverlay.blur = newOptions.overlayBlur;\n  options.overlayBlur = plainOverlay.blur;\n\n  // [DRAG]\n  // dragHandle\n  if (newOptions.hasOwnProperty('dragHandle') &&\n      (newOptions.dragHandle = isElement(newOptions.dragHandle) ? newOptions.dragHandle :\n        newOptions.dragHandle == null ? void 0 : false) !== false &&\n      newOptions.dragHandle !== options.dragHandle) {\n    options.dragHandle = newOptions.dragHandle;\n    if (options.dragHandle) {\n      if (!props.plainDraggable) { props.plainDraggable = new PlainDraggable(props.elmContent); }\n      props.plainDraggable.handle = options.dragHandle;\n    }\n    switchDraggable(props);\n  }\n  // [/DRAG]\n\n  // effect functions and event listeners\n  ['openEffect', 'closeEffect', 'onOpen', 'onClose', 'onBeforeOpen', 'onBeforeClose']\n    .forEach(option => {\n      if (typeof newOptions[option] === 'function') {\n        options[option] = newOptions[option];\n      } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n        options[option] = void 0;\n      }\n    });\n}\n\nclass PlainModal {\n  /**\n   * Create a `PlainModal` instance.\n   * @param {Element} content - An element that is shown as the content of the modal window.\n   * @param {Object} [options] - Options.\n   */\n  constructor(content, options) {\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        closeButton: void 0,\n        duration: DURATION,\n        dragHandle: void 0, // [DRAG/]\n        overlayBlur: false\n      },\n      state: STATE_CLOSED,\n      effectFinished: {plainOverlay: false, option: false}\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (!content.nodeType || content.nodeType !== Node.ELEMENT_NODE ||\n        content.ownerDocument.defaultView !== window) {\n      throw new Error('This `content` is not accepted.');\n    }\n    props.elmContent = content;\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    // Setup window\n    if (!document.getElementById(STYLE_ELEMENT_ID)) {\n      const head = document.getElementsByTagName('head')[0] || document.documentElement,\n        sheet = head.insertBefore(document.createElement('style'), head.firstChild);\n      sheet.type = 'text/css';\n      sheet.id = STYLE_ELEMENT_ID;\n      sheet.textContent = CSS_TEXT;\n      if (IS_TRIDENT || IS_EDGE) { forceReflow(sheet); } // Trident bug\n\n      // for closeByEscKey\n      window.addEventListener('keydown', event => {\n        let key, topProps;\n        if (closeByEscKey &&\n            ((key = event.key.toLowerCase()) === 'escape' || key === 'esc') &&\n            (topProps = shownProps.length && shownProps[shownProps.length - 1]) &&\n            (traceLog.push('<keydown/>', 'CLOSE', `_id:${topProps._id}`), true) && // [DEBUG/]\n            close(topProps)) {\n          event.preventDefault();\n          event.stopImmediatePropagation(); // preventDefault stops other listeners, maybe.\n          event.stopPropagation();\n        }\n      }, true);\n    }\n\n    mClassList(content).add(STYLE_CLASS_CONTENT);\n    // Overlay\n    props.plainOverlay = new PlainOverlay({\n      face: content,\n      onShow: () => { finishOpenEffect(props, 'plainOverlay'); },\n      onHide: () => { finishCloseEffect(props, 'plainOverlay'); }\n    });\n    // The `content` is now contained into PlainOverlay, and update `display`.\n    if (window.getComputedStyle(content, '').display === 'none') {\n      content.style.display = 'block';\n    }\n    // Trident can not get parent of SVG by parentElement.\n    const elmPlainOverlayBody = content.parentNode; // elmOverlayBody of PlainOverlay\n    mClassList(elmPlainOverlayBody.parentNode).add(STYLE_CLASS); // elmOverlay of PlainOverlay\n\n    // elmOverlay (own overlay)\n    const elmOverlay =\n      props.elmOverlay = elmPlainOverlayBody.appendChild(document.createElement('div'));\n    elmOverlay.className = STYLE_CLASS_OVERLAY;\n    // for closeByOverlay\n    elmOverlay.addEventListener('click', event => {\n      if (event.target === elmOverlay && closeByOverlay) {\n        traceLog.push('<overlayClick/>', 'CLOSE', `_id:${props._id}`); // [DEBUG/]\n        close(props);\n      }\n    }, true);\n\n    // Prepare removable event listeners for each instance.\n    props.handleClose = () => { close(props); };\n    // Callback functions for additional effects, prepare these to allow to be used as listener.\n    props.openEffectDone = () => { finishOpenEffect(props, 'option'); };\n    props.closeEffectDone = () => { finishCloseEffect(props, 'option'); };\n    props.effectDone = () => {\n      traceLog.push('<effectDone/>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n      if (props.state === STATE_OPENING) {\n        finishOpenEffect(props, 'option');\n      } else if (props.state === STATE_CLOSING) {\n        finishCloseEffect(props, 'option');\n      }\n    };\n\n    setOptions(props, options);\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainModal} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Open the modal window.\n   * @param {boolean} [force] - Show it immediately without effect.\n   * @param {Object} [options] - New options.\n   * @returns {PlainModal} Current instance itself.\n   */\n  open(force, options) {\n    if (arguments.length < 2 && typeof force !== 'boolean') {\n      options = force;\n      force = false;\n    }\n\n    this.setOptions(options);\n    open(insProps[this._id], force);\n    return this;\n  }\n\n  /**\n   * Close the modal window.\n   * @param {boolean} [force] - Close it immediately without effect.\n   * @returns {PlainModal} Current instance itself.\n   */\n  close(force) {\n    close(insProps[this._id], force);\n    return this;\n  }\n\n  get state() { return insProps[this._id].state; }\n\n  get closeButton() { return insProps[this._id].options.closeButton; }\n  set closeButton(value) { setOptions(insProps[this._id], {closeButton: value}); }\n\n  get duration() { return insProps[this._id].options.duration; }\n  set duration(value) { setOptions(insProps[this._id], {duration: value}); }\n\n  get overlayBlur() { return insProps[this._id].options.overlayBlur; }\n  set overlayBlur(value) { setOptions(insProps[this._id], {overlayBlur: value}); }\n\n  // [DRAG]\n  get dragHandle() { return insProps[this._id].options.dragHandle; }\n  set dragHandle(value) { setOptions(insProps[this._id], {dragHandle: value}); }\n  // [/DRAG]\n\n  get openEffect() { return insProps[this._id].options.openEffect; }\n  set openEffect(value) { setOptions(insProps[this._id], {openEffect: value}); }\n\n  get closeEffect() { return insProps[this._id].options.closeEffect; }\n  set closeEffect(value) { setOptions(insProps[this._id], {closeEffect: value}); }\n\n  get effectDone() { return insProps[this._id].effectDone; }\n\n  get onOpen() { return insProps[this._id].options.onOpen; }\n  set onOpen(value) { setOptions(insProps[this._id], {onOpen: value}); }\n\n  get onClose() { return insProps[this._id].options.onClose; }\n  set onClose(value) { setOptions(insProps[this._id], {onClose: value}); }\n\n  get onBeforeOpen() { return insProps[this._id].options.onBeforeOpen; }\n  set onBeforeOpen(value) { setOptions(insProps[this._id], {onBeforeOpen: value}); }\n\n  get onBeforeClose() { return insProps[this._id].options.onBeforeClose; }\n  set onBeforeClose(value) { setOptions(insProps[this._id], {onBeforeClose: value}); }\n\n  static get closeByEscKey() { return closeByEscKey; }\n  static set closeByEscKey(value) { if (typeof value === 'boolean') { closeByEscKey = value; } }\n\n  static get closeByOverlay() { return closeByOverlay; }\n  static set closeByOverlay(value) { if (typeof value === 'boolean') { closeByOverlay = value; } }\n\n  static get STATE_CLOSED() { return STATE_CLOSED; }\n  static get STATE_OPENING() { return STATE_OPENING; }\n  static get STATE_OPENED() { return STATE_OPENED; }\n  static get STATE_CLOSING() { return STATE_CLOSING; }\n  static get STATE_INACTIVATING() { return STATE_INACTIVATING; }\n  static get STATE_INACTIVATED() { return STATE_INACTIVATED; }\n  static get STATE_ACTIVATING() { return STATE_ACTIVATING; }\n}\n\n/* [DRAG/]\nPlainModal.limit = true;\n[DRAG/] */\n\n// [DEBUG]\nPlainModal.traceLog = traceLog;\nPlainModal.STATE_TEXT = STATE_TEXT;\n// [/DEBUG]\n\nexport default PlainModal;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plain-modal.js","/*\n * PlainOverlay\n * https://anseki.github.io/plain-overlay/\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport AnimEvent from 'anim-event';\nimport mClassList from 'm-class-list';\nimport TimedTransition from 'timed-transition';\nimport CSS_TEXT from './default.scss';\nmClassList.ignoreNative = true;\n\nconst\n  APP_ID = 'plainoverlay',\n  STYLE_ELEMENT_ID = `${APP_ID}-style`,\n  STYLE_CLASS = APP_ID,\n  STYLE_CLASS_DOC = `${APP_ID}-doc`,\n  STYLE_CLASS_SHOW = `${APP_ID}-show`,\n  STYLE_CLASS_HIDE = `${APP_ID}-hide`,\n  STYLE_CLASS_FORCE = `${APP_ID}-force`,\n  STYLE_CLASS_BODY = `${APP_ID}-body`,\n  FACE_DEFS_ELEMENT_ID = `${APP_ID}-builtin-face-defs`,\n\n  STATE_HIDDEN = 0, STATE_SHOWING = 1, STATE_SHOWN = 2, STATE_HIDING = 3,\n  // DURATION = 2500, // COPY: default.scss\n  DURATION = 200, // COPY: default.scss\n  TOLERANCE = 0.5,\n\n  IS_TRIDENT = !!document.uniqueID,\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n  IS_WEBKIT = !window.chrome && 'WebkitAppearance' in document.documentElement.style, // [DEBUG/]\n  IS_BLINK = !!(window.chrome && window.chrome.webstore),\n  IS_GECKO = 'MozAppearance' in document.documentElement.style, // [DEBUG/]\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n  isFinite = Number.isFinite || (value => typeof value === 'number' && window.isFinite(value)),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Element} elmTarget - Target element.\n   * @property {Element} elmTargetBody - Target body element.\n   * @property {Element} elmOverlay - Overlay element.\n   * @property {Element} elmOverlayBody - Overlay body element.\n   * @property {boolean} isDoc - `true` if target is document.\n   * @property {Window} window - Window that conatins target element.\n   * @property {HTMLDocument} document - Document that conatins target element.\n   * @property {TimedTransition} transition - TimedTransition instance.\n   * @property {number} state - Current state.\n   * @property {Object} options - Options.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {};\n\nlet insId = 0;\n\n// [DEBUG]\nconst traceLog = [];\nconst STATE_TEXT = {};\nSTATE_TEXT[STATE_HIDDEN] = 'STATE_HIDDEN';\nSTATE_TEXT[STATE_SHOWING] = 'STATE_SHOWING';\nSTATE_TEXT[STATE_SHOWN] = 'STATE_SHOWN';\nSTATE_TEXT[STATE_HIDING] = 'STATE_HIDING';\n// [/DEBUG]\n\nfunction forceReflow(target) {\n  // Trident and Blink bug (reflow like `offsetWidth` can't update)\n  setTimeout(() => {\n    const parent = target.parentNode, next = target.nextSibling;\n    // It has to be removed first for Blink.\n    parent.insertBefore(parent.removeChild(target), next);\n  }, 0);\n}\nwindow.forceReflow = forceReflow; // [DEBUG/]\n\n/**\n * Set style properties while saving current properties.\n * @param {Element} element - Target element.\n * @param {Object} styleProps - New style properties.\n * @param {(Object|null)} savedStyleProps - Current style properties holder.\n * @param {Array} [propNames] - Names of target properties.\n * @returns {Element} Target element itself.\n */\nfunction setStyle(element, styleProps, savedStyleProps, propNames) {\n  const style = element.style;\n  (propNames || Object.keys(styleProps)).forEach(prop => {\n    if (styleProps[prop] != null) {\n      if (savedStyleProps && savedStyleProps[prop] == null) {\n        savedStyleProps[prop] = style[prop];\n      }\n      style[prop] = styleProps[prop];\n      styleProps[prop] = null;\n    }\n  });\n  return element;\n}\n\n/**\n * Restore saved style properties.\n * @param {Element} element - Target element.\n * @param {Object} savedStyleProps - Saved style properties.\n * @param {Array} [propNames] - Names of properties that is restored.\n * @returns {Element} Target element itself.\n */\nfunction restoreStyle(element, savedStyleProps, propNames) {\n  return setStyle(element, savedStyleProps, null, propNames);\n}\n\n/**\n * An object that simulates `DOMRect` to indicate a bounding-box.\n * @typedef {Object} BBox\n * @property {(number|null)} left - document coordinate\n * @property {(number|null)} top - document coordinate\n * @property {(number|null)} right - document coordinate\n * @property {(number|null)} bottom - document coordinate\n * @property {(number|null)} width\n * @property {(number|null)} height\n */\n\n/**\n * Get an element's bounding-box that contains coordinates relative to the element's document or window.\n * @param {Element} element - Target element.\n * @param {Window} [window] - Whether it's relative to the element's window, or document.\n * @returns {(BBox|null)} A bounding-box or null when failed.\n */\nfunction getBBox(element, window) {\n  const rect = element.getBoundingClientRect(),\n    bBox = {left: rect.left, top: rect.top,\n      right: rect.right, bottom: rect.bottom, width: rect.width, height: rect.height};\n  if (window) {\n    bBox.left += window.pageXOffset;\n    bBox.right += window.pageXOffset;\n    bBox.top += window.pageYOffset;\n    bBox.bottom += window.pageYOffset;\n  }\n  return bBox;\n}\nwindow.getBBox = getBBox; // [DEBUG/]\n\nfunction scrollLeft(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(value, target.pageYOffset); }\n    return target.pageXOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollLeft = value; }\n    return target.scrollLeft;\n  }\n}\nwindow.scrollLeft = scrollLeft; // [DEBUG/]\n\nfunction scrollTop(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(target.pageXOffset, value); }\n    return target.pageYOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollTop = value; }\n    return target.scrollTop;\n  }\n}\nwindow.scrollTop = scrollTop; // [DEBUG/]\n\nfunction resizeTarget(props, width, height) {\n  const elmTargetBody = props.elmTargetBody;\n\n  let rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) < TOLERANCE &&\n      Math.abs(rect.height - height) < TOLERANCE) { return; }\n\n  const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n    boxSizing = targetBodyCmpStyle.boxSizing,\n    includeProps = boxSizing === 'border-box' ? [] :\n      boxSizing === 'padding-box' ? ['border'] : ['border', 'padding'], // content-box\n\n    PROP_NAMES = {\n      border: {\n        width: ['borderLeftWidth', 'borderRightWidth'],\n        height: ['borderTopWidth', 'borderBottomWidth']\n      },\n      padding: {\n        width: ['paddingLeft', 'paddingRight'],\n        height: ['paddingTop', 'paddingBottom']\n      }\n    },\n\n    values = ['width', 'height'].reduce((values, dir) => {\n      includeProps.forEach(part => {\n        PROP_NAMES[part][dir].forEach(propName => {\n          values[dir] -= parseFloat(targetBodyCmpStyle[propName]);\n        });\n      });\n      return values;\n    }, {width: width, height: height});\n\n  // Since the `width` and `height` might change each other, fix both.\n  setStyle(elmTargetBody, {\n    // The value might be negative number when size is too small.\n    width: values.width > 0 ? `${values.width}px` : 0,\n    height: values.height > 0 ? `${values.height}px` : 0\n  }, props.savedStyleTargetBody);\n\n  // In some browsers, getComputedStyle might return computed values that is not px instead of used values.\n  const fixStyle = {};\n  rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) >= TOLERANCE) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect width: ${rect.width}` +\n      ` (expected: ${width} passed: ${values.width})`);\n    // [/DEBUG]\n    fixStyle.width = `${values.width - (rect.width - width)}px`;\n  }\n  if (rect.height !== height) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect height: ${rect.height}` +\n      ` (expected: ${height} passed: ${values.height})`);\n    // [/DEBUG]\n    fixStyle.height = `${values.height - (rect.height - height)}px`;\n  }\n  setStyle(elmTargetBody, fixStyle, props.savedStyleTargetBody);\n}\nwindow.resizeTarget = resizeTarget; // [DEBUG/]\n\n// Trident and Edge bug, width and height are interchanged.\nfunction getDocClientWH(props) {\n  const elmTarget = props.elmTarget,\n    width = elmTarget.clientWidth, height = elmTarget.clientHeight;\n  if (IS_TRIDENT || IS_EDGE) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(props.elmTargetBody, ''),\n      wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n      direction = targetBodyCmpStyle.direction;\n    return wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'tb-lr' || wMode === 'bt-lr' ||\n        IS_EDGE && (\n          direction === 'ltr' && (wMode === 'vertical-rl' || wMode === 'vertical-lr') ||\n          direction === 'rtl' && (wMode === 'vertical-rl' || wMode === 'vertical-lr')) ?\n      {width: height, height: width} : // interchange\n      {width: width, height: height};\n  } else {\n    return {width: width, height: height};\n  }\n}\nwindow.getDocClientWH = getDocClientWH; // [DEBUG/]\n\nfunction restoreScroll(props, element) {\n  traceLog.push('<restoreScroll>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n\n  function scrollElement(element, isDoc, left, top) {\n    try {\n      scrollLeft(element, isDoc, props.window, left);\n      scrollTop(element, isDoc, props.window, top);\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  }\n\n  if (element) {\n    return props.savedElementsScroll.some(elementScroll => {\n      if (elementScroll.element === element) {\n        scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n        return true;\n      }\n      return false;\n    })\n    ? (traceLog.push('DONE:ELEMENT', `_id:${props._id}`, '</restoreScroll>'), true) : // [DEBUG/]\n      (traceLog.push('NotInTarget', `_id:${props._id}`, '</restoreScroll>'), false) // [DEBUG/]\n    ;\n  } else {\n    props.savedElementsScroll.forEach(elementScroll => {\n      scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n    });\n    traceLog.push('DONE:ALL', `_id:${props._id}`, '</restoreScroll>'); // [DEBUG/]\n    return true;\n  }\n}\n\nfunction restoreAccKeys(props) {\n  props.savedElementsAccKeys.forEach(elementAccKeys => {\n    try {\n      if (elementAccKeys.tabIndex === false) {\n        elementAccKeys.element.removeAttribute('tabindex');\n      } else if (elementAccKeys.tabIndex != null) {\n        elementAccKeys.element.tabIndex = elementAccKeys.tabIndex;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n\n    try {\n      if (elementAccKeys.accessKey) {\n        elementAccKeys.element.accessKey = elementAccKeys.accessKey;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  });\n}\nwindow.restoreAccKeys = restoreAccKeys; // [DEBUG/]\n\nfunction avoidFocus(props, element) {\n  // [DEBUG]\n  traceLog.push('<avoidFocus>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(\n    `element:${element === document ? 'document' : element.tagName || 'UNKNOWN'}` +\n    `${element.id ? `#${element.id}` : ''}`);\n  // [/DEBUG]\n  if (props.isDoc && element !== element.ownerDocument.body &&\n        !(props.elmOverlay.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY) ||\n      !props.isDoc && (element === props.elmTargetBody ||\n        props.elmTargetBody.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY)) {\n    if (element.blur) { // Trident and Edge don't support SVG#blur\n      element.blur();\n    } else {\n      element.ownerDocument.body.focus();\n    }\n    traceLog.push('DONE', `_id:${props._id}`, '</avoidFocus>'); // [DEBUG/]\n    return true;\n  }\n  traceLog.push('NotInTarget', `_id:${props._id}`, '</avoidFocus>'); // [DEBUG/]\n  return false;\n}\n\n// Selection.containsNode polyfill for Trident\nfunction selContainsNode(selection, node, partialContainment) {\n  const nodeRange = node.ownerDocument.createRange(),\n    iLen = selection.rangeCount;\n  nodeRange.selectNodeContents(node);\n  for (let i = 0; i < iLen; i++) {\n    const selRange = selection.getRangeAt(i);\n    // Edge bug (Issue #7321753); getRangeAt returns empty (collapsed) range\n    // NOTE: It can not recover when the selection has multiple ranges.\n    if (!selRange.toString().length && selection.toString().length && iLen === 1) {\n      console.log('Edge bug (Issue #7321753)'); // [DEBUG/]\n      selRange.setStart(selection.anchorNode, selection.anchorOffset);\n      selRange.setEnd(selection.focusNode, selection.focusOffset);\n      // Edge doesn't throw when end is upper than start.\n      if (selRange.toString() !== selection.toString()) {\n        selRange.setStart(selection.focusNode, selection.focusOffset);\n        selRange.setEnd(selection.anchorNode, selection.anchorOffset);\n        if (selRange.toString() !== selection.toString()) {\n          throw new Error('Edge bug (Issue #7321753); Couldn\\'t recover');\n        }\n      }\n    }\n    if (partialContainment ?\n        selRange.compareBoundaryPoints(Range.START_TO_END, nodeRange) >= 0 &&\n        selRange.compareBoundaryPoints(Range.END_TO_START, nodeRange) <= 0 :\n        selRange.compareBoundaryPoints(Range.START_TO_START, nodeRange) < 0 &&\n        selRange.compareBoundaryPoints(Range.END_TO_END, nodeRange) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\nwindow.selContainsNode = selContainsNode; // [DEBUG/]\n\n/**\n * Indicates whether the selection is part of the node or not.\n * @param {Node} node - Target node.\n * @param {Selection} selection - The parsed selection.\n * @returns {boolean} `true` if all ranges of `selection` are part of `node`.\n */\nfunction nodeContainsSel(node, selection) {\n  const nodeRange = node.ownerDocument.createRange(),\n    iLen = selection.rangeCount;\n  nodeRange.selectNode(node);\n  for (let i = 0; i < iLen; i++) {\n    const selRange = selection.getRangeAt(i);\n    if (selRange.compareBoundaryPoints(Range.START_TO_START, nodeRange) < 0 ||\n        selRange.compareBoundaryPoints(Range.END_TO_END, nodeRange) > 0) {\n      return false;\n    }\n  }\n  return true;\n}\nwindow.nodeContainsSel = nodeContainsSel; // [DEBUG/]\n\nfunction avoidSelect(props) {\n  traceLog.push('<avoidSelect>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  const selection = ('getSelection' in window ? props.window : props.document).getSelection();\n  // [DEBUG]\n  if (selection.rangeCount) {\n    let start = selection.anchorNode, end = selection.focusNode;\n    if (start && start.nodeType === Node.TEXT_NODE) { start = start.parentNode; }\n    if (end && end.nodeType === Node.TEXT_NODE) { end = end.parentNode; }\n    traceLog.push(\n      `start:${!start ? 'NONE' : start === document ? 'document' : start.tagName || 'UNKNOWN'}` +\n      `${start && start.id ? `#${start.id}` : ''}` +\n      `(${selection.anchorOffset})` +\n      `,end:${!end ? 'NONE' : end === document ? 'document' : end.tagName || 'UNKNOWN'}` +\n      `${end && end.id ? `#${end.id}` : ''}` +\n      `(${selection.focusOffset})` +\n      `,isCollapsed:${selection.isCollapsed}`\n    );\n  } else {\n    traceLog.push('NoRange');\n  }\n  // [/DEBUG]\n  if (selection.rangeCount && (props.isDoc ?\n      !nodeContainsSel(props.elmOverlayBody, selection) :\n      (selection.containsNode &&\n          (!IS_BLINK || !selection.isCollapsed) ?  // Blink bug, fails with empty string.\n        selection.containsNode(props.elmTargetBody, true) :\n        selContainsNode(selection, props.elmTargetBody, true))\n      )) {\n    try {\n      selection.removeAllRanges(); // Trident bug?, `Error:800a025e` comes sometime\n    } catch (error) { /* ignore */ }\n    props.document.body.focus();\n    // Trident bug? It seems that `focus()` makes selection again.\n    if (selection.rangeCount > 0) {\n      try {\n        selection.removeAllRanges(); // Trident bug?, `Error:800a025e` comes sometime\n      } catch (error) { /* ignore */ }\n    }\n    traceLog.push('DONE', `_id:${props._id}`, '</avoidSelect>'); // [DEBUG/]\n    return true;\n  }\n  traceLog.push('NoSelection', `_id:${props._id}`, '</avoidSelect>'); // [DEBUG/]\n  return false;\n}\n\nfunction barLeft(wMode, direction) {\n  const svgSpec = wMode === 'rl-tb' || wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'horizontal-tb' || wMode === 'vertical-rl') ||\n      direction === 'ltr' && wMode === 'vertical-rl');\n}\nwindow.barLeft = barLeft; // [DEBUG/]\n\nfunction barTop(wMode, direction) {\n  const svgSpec = wMode === 'bt-rl' || wMode === 'bt-lr' || wMode === 'lr-bt' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'vertical-lr' || wMode === 'vertical-rl'));\n}\nwindow.barTop = barTop; // [DEBUG/]\n\nfunction disableDocBars(props) {\n  const elmTarget = props.elmTarget, elmTargetBody = props.elmTargetBody,\n    targetBodyRect = elmTargetBody.getBoundingClientRect();\n\n  // Get size of each scrollbar.\n  let clientWH = getDocClientWH(props),\n    barV = -clientWH.width, barH = -clientWH.height; // elmTarget.clientWidth/clientHeight\n  setStyle(elmTarget, {overflow: 'hidden'}, props.savedStyleTarget);\n  clientWH = getDocClientWH(props);\n  barV += clientWH.width;\n  barH += clientWH.height;\n\n  if (barV || barH) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, '');\n    let propV, propH;\n    // There is no way to get absolute position of document.\n    // We need distance between the document and its window, or a method like `element.screenX`\n    // that gets absolute position of an element.\n    // For the moment, Trident and Edge make a scrollbar at the left/top side when RTL document\n    // or CJK vertical document is rendered.\n    if (IS_TRIDENT || IS_EDGE) {\n      const wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n        direction = targetBodyCmpStyle.direction;\n      if (barV) { propV = barLeft(wMode, direction) ? 'marginLeft' : 'marginRight'; }\n      if (barH) { propH = barTop(wMode, direction) ? 'marginTop' : 'marginBottom'; }\n    } else {\n      if (barV) { propV = 'marginRight'; }\n      if (barH) { propH = 'marginBottom'; }\n    }\n\n    const addStyle = {};\n    if (barV) { addStyle[propV] = `${parseFloat(targetBodyCmpStyle[propV]) + barV}px`; }\n    if (barH) { addStyle[propH] = `${parseFloat(targetBodyCmpStyle[propH]) + barH}px`; }\n    setStyle(elmTargetBody, addStyle, props.savedStyleTargetBody);\n    resizeTarget(props, targetBodyRect.width, targetBodyRect.height);\n\n    // `overflow: 'hidden'` might change scroll.\n    restoreScroll(props, elmTarget);\n    return true;\n  } else {\n    restoreStyle(elmTarget, props.savedStyleTarget, ['overflow']);\n    return false;\n  }\n}\nwindow.disableDocBars = disableDocBars; // [DEBUG/]\n\nfunction position(props, targetBodyBBox) {\n  const elmTargetBody = props.elmTargetBody,\n    targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n\n    elmOverlay = props.elmOverlay,\n    overlayCmpStyle = props.window.getComputedStyle(elmOverlay, ''),\n    overlayBBox = getBBox(elmOverlay, props.window),\n\n    borders = ['Top', 'Right', 'Bottom', 'Left'].reduce((borders, prop) => {\n      borders[prop.toLowerCase()] = parseFloat(targetBodyCmpStyle[`border${prop}Width`]);\n      return borders;\n    }, {}),\n\n    // Get distance between document and origin of `elmOverlay`.\n    offset = {left: overlayBBox.left - parseFloat(overlayCmpStyle.left),\n      top: overlayBBox.top - parseFloat(overlayCmpStyle.top)},\n\n    style = {\n      left: `${targetBodyBBox.left - offset.left + borders.left}px`,\n      top: `${targetBodyBBox.top - offset.top + borders.top}px`,\n      width: `${targetBodyBBox.width - borders.left - borders.right}px`,\n      height: `${targetBodyBBox.height - borders.top - borders.bottom}px`\n    },\n    reValue = /^([\\d\\.]+)(px|%)$/;\n\n  // border-radius\n  [\n    {prop: 'TopLeft', hBorder: 'left', vBorder: 'top'},\n    {prop: 'TopRight', hBorder: 'right', vBorder: 'top'},\n    {prop: 'BottomRight', hBorder: 'right', vBorder: 'bottom'},\n    {prop: 'BottomLeft', hBorder: 'left', vBorder: 'bottom'}\n  ].forEach(corner => {\n    const prop = CSSPrefix.getName(`border${corner.prop}Radius`),\n      values = targetBodyCmpStyle[prop].split(' ');\n    let h = values[0], v = values[1] || values[0],\n      matches = reValue.exec(h);\n    h = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.width / 100;\n    matches = reValue.exec(v);\n    v = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.height / 100;\n\n    h -= borders[corner.hBorder];\n    v -= borders[corner.vBorder];\n    if (h > 0 && v > 0) {\n      style[prop] = `${h}px ${v}px`;\n    }\n  });\n\n  setStyle(elmOverlay, style);\n  props.targetBodyBBox = targetBodyBBox;\n}\nwindow.position = position; // [DEBUG/]\n\nfunction getTargetElements(props) {\n  const elmTargetBody = props.elmTargetBody,\n    elmOverlay = props.elmOverlay,\n    targetElements = [props.elmTarget];\n  if (props.isDoc) {\n    targetElements.push(elmTargetBody);\n    Array.prototype.slice.call(elmTargetBody.childNodes).forEach(childNode => {\n      if (childNode.nodeType === Node.ELEMENT_NODE &&\n          childNode !== elmOverlay &&\n          !mClassList(childNode).contains(STYLE_CLASS) &&\n          childNode.id !== FACE_DEFS_ELEMENT_ID) {\n        targetElements.push(childNode);\n        Array.prototype.push.apply(targetElements, childNode.querySelectorAll('*'));\n      }\n    });\n  } else {\n    Array.prototype.push.apply(targetElements, elmTargetBody.querySelectorAll('*'));\n  }\n  return targetElements;\n}\n\nfunction finishShowing(props) {\n  traceLog.push('<finishShowing>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  // blur\n  props.filterElements = null;\n  if (props.options.blur !== false) {\n    const propName = CSSPrefix.getName('filter'),\n      propValue = CSSPrefix.getValue('filter', `blur(${props.options.blur}px)`);\n    if (propValue) { // undefined if no propName\n      // Array of {element: element, savedStyle: {}}\n      const filterElements = props.isDoc ?\n        Array.prototype.slice.call(props.elmTargetBody.childNodes).filter(childNode =>\n            childNode.nodeType === Node.ELEMENT_NODE &&\n            childNode !== props.elmOverlay &&\n            !mClassList(childNode).contains(STYLE_CLASS) &&\n            childNode.id !== FACE_DEFS_ELEMENT_ID)\n          .map(element => ({element: element, savedStyle: {}})) :\n        [{element: props.elmTargetBody, savedStyle: {}}];\n\n      filterElements.forEach(filterElement => {\n        const style = {}; // new object for each element.\n        style[propName] = propValue;\n        setStyle(filterElement.element, style, filterElement.savedStyle);\n      });\n      props.filterElements = filterElements;\n    }\n  }\n\n  props.state = STATE_SHOWN;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.options.onShow) { props.options.onShow.call(props.ins); }\n  traceLog.push(`_id:${props._id}`, '</finishShowing>'); // [DEBUG/]\n}\n\nfunction finishHiding(props\n    , sync\n    ) {\n  // sync-mode (`sync` is `true`): Skip restoring active element and finish all immediately.\n  traceLog.push('<finishHiding>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  traceLog.push(`sync:${!!sync}`); // [DEBUG/]\n  mClassList(props.elmOverlay).add(STYLE_CLASS_HIDE);\n\n  restoreStyle(props.elmTarget, props.savedStyleTarget);\n  restoreStyle(props.elmTargetBody, props.savedStyleTargetBody);\n  props.savedStyleTarget = {};\n  props.savedStyleTargetBody = {};\n\n  restoreAccKeys(props);\n  props.savedElementsAccKeys = [];\n\n  if (\n      !sync &&\n      props.isDoc && props.activeElement) {\n    // props.state must be STATE_HIDDEN for avoiding focus.\n    const stateSave = props.state;\n    props.state = STATE_HIDDEN;\n    traceLog.push(`[SAVE1]state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n    // the event is fired after function exited in some browsers (e.g. Trident).\n    traceLog.push('focusListener:REMOVE'); // [DEBUG/]\n    props.elmTargetBody.removeEventListener('focus', props.focusListener, true);\n    props.activeElement.focus();\n    // Don't change props.state for calling `hide(force)` before `restoreAndFinish` (async-mode)\n    props.state = stateSave;\n    traceLog.push(`[SAVE2]state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  }\n  props.activeElement = null;\n\n  // Since `focus()` might scroll, do this after `focus()` and reflow.\n  function restoreAndFinish() {\n    traceLog.push('<finishHiding.restoreAndFinish>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n    props.timerRestoreAndFinish = null;\n    props.state = STATE_HIDDEN;\n    traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n    traceLog.push('focusListener:ADD'); // [DEBUG/]\n    props.elmTargetBody.addEventListener('focus', props.focusListener, true);\n    restoreScroll(props);\n    props.savedElementsScroll = null;\n\n    if (props.options.onHide) { props.options.onHide.call(props.ins); }\n    traceLog.push(`_id:${props._id}`, '</finishHiding.restoreAndFinish>'); // [DEBUG/]\n  }\n\n  if (props.timerRestoreAndFinish) {\n    traceLog.push('ClearPrevTimer'); // [DEBUG/]\n    clearTimeout(props.timerRestoreAndFinish);\n    props.timerRestoreAndFinish = null;\n  }\n  if (sync) {\n    restoreAndFinish();\n  } else {\n    props.timerRestoreAndFinish = setTimeout(restoreAndFinish, 0);\n  }\n  traceLog.push(`_id:${props._id}`, '</finishHiding>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction show(props, force) {\n  traceLog.push('<show>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  traceLog.push(`force:${!!force}`); // [DEBUG/]\n\n  function getScroll(elements, fromDoc) {\n\n    function elementCanScroll(element, isDoc) {\n      const cmpStyle = props.window.getComputedStyle(element, ''),\n        tagName = element.nodeName.toLowerCase();\n      return (cmpStyle.overflow === 'scroll' || cmpStyle.overflow === 'auto' ||\n          cmpStyle.overflowX === 'scroll' || cmpStyle.overflowX === 'auto' ||\n          cmpStyle.overflowY === 'scroll' || cmpStyle.overflowY === 'auto') ||\n        // document with `visible` might make scrollbars.\n        isDoc && (cmpStyle.overflow === 'visible' ||\n          cmpStyle.overflowX === 'visible' || cmpStyle.overflowY === 'visible') ||\n        // `overflow` of these differs depending on browser.\n        !isDoc && (tagName === 'textarea' || tagName === 'select');\n    }\n\n    const elementsScroll = [];\n    elements.forEach((element, i) => {\n      const isDoc = fromDoc && i === 0;\n      if (elementCanScroll(element, isDoc)) {\n        elementsScroll.push({\n          element: element,\n          isDoc: isDoc,\n          left: scrollLeft(element, isDoc, props.window),\n          top: scrollTop(element, isDoc, props.window)\n        });\n      }\n    });\n    return elementsScroll;\n  }\n\n  function disableAccKeys(elements, fromDoc) {\n    const savedElementsAccKeys = [];\n    elements.forEach((element, i) => {\n      if (fromDoc && i === 0) { return; }\n\n      const elementAccKeys = {},\n        tabIndex = element.tabIndex;\n      // In Trident and Edge, `tabIndex` of all elements are `0` or something even if the element is not focusable.\n      if (tabIndex !== -1) {\n        elementAccKeys.element = element;\n        elementAccKeys.tabIndex = element.hasAttribute('tabindex') ? tabIndex : false;\n        element.tabIndex = -1;\n      }\n\n      const accessKey = element.accessKey;\n      if (accessKey) {\n        elementAccKeys.element = element;\n        elementAccKeys.accessKey = accessKey;\n        element.accessKey = '';\n      }\n\n      if (elementAccKeys.element) {\n        savedElementsAccKeys.push(elementAccKeys);\n      }\n    });\n    return savedElementsAccKeys;\n  }\n\n  if (props.state === STATE_SHOWN ||\n      props.state === STATE_SHOWING && !force ||\n      props.state !== STATE_SHOWING &&\n        props.options.onBeforeShow && props.options.onBeforeShow.call(props.ins) === false) {\n    traceLog.push('CANCEL', '</show>'); // [DEBUG/]\n    return;\n  }\n\n  if (props.state === STATE_HIDDEN) {\n    const elmOverlay = props.elmOverlay,\n      elmOverlayClassList = mClassList(elmOverlay);\n    props.document.body.appendChild(elmOverlay); // Move to last (for same z-index)\n    const targetElements = getTargetElements(props);\n    window.targetElements = targetElements; // [DEBUG/]\n\n    elmOverlayClassList.remove(STYLE_CLASS_HIDE); // Before `getBoundingClientRect` (`position`).\n    if (!props.isDoc) {\n      const elmTargetBody = props.elmTargetBody;\n      if (props.window.getComputedStyle(elmTargetBody, '').display === 'inline') {\n        setStyle(elmTargetBody, {display: 'inline-block'}, props.savedStyleTargetBody);\n      }\n      position(props, getBBox(elmTargetBody, props.window));\n    }\n\n    props.savedElementsScroll = getScroll(targetElements, props.isDoc);\n    props.disabledDocBars = false;\n    // savedElementsScroll is empty when document is disconnected.\n    if (props.isDoc && props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n      props.disabledDocBars = disableDocBars(props);\n    }\n    props.savedElementsAccKeys = disableAccKeys(targetElements, props.isDoc);\n    props.activeElement = props.document.activeElement;\n    if (props.activeElement) { avoidFocus(props, props.activeElement); }\n    avoidSelect(props);\n    elmOverlay.offsetWidth; /* force reflow */ // eslint-disable-line no-unused-expressions\n\n    if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n  }\n\n  props.transition.on(force);\n  props.state = STATE_SHOWING;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (force) {\n    finishShowing(props);\n  }\n  traceLog.push(`_id:${props._id}`, '</show>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction hide(props, force\n    , sync\n    ) {\n  // sync-mode (both `force` and `sync` are `true`)\n  traceLog.push('<hide>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  traceLog.push(`force:${!!force}`); // [DEBUG/]\n  traceLog.push(`sync:${!!sync}`); // [DEBUG/]\n  if (props.state === STATE_HIDDEN ||\n      props.state === STATE_HIDING && !force ||\n      props.state !== STATE_HIDING &&\n        props.options.onBeforeHide && props.options.onBeforeHide.call(props.ins) === false) {\n    traceLog.push('CANCEL', '</hide>'); // [DEBUG/]\n    return;\n  }\n\n  // blur\n  if (props.filterElements) {\n    props.filterElements.forEach(\n      filterElement => { restoreStyle(filterElement.element, filterElement.savedStyle); });\n    props.filterElements = null;\n  }\n\n  // In Gecko, hidden element can be activeElement.\n  const element = props.document.activeElement;\n  if (element && element !== element.ownerDocument.body &&\n      props.elmOverlay.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    if (element.blur) { // Trident and Edge don't support SVG#blur\n      element.blur();\n    } else {\n      element.ownerDocument.body.focus();\n    }\n  }\n\n  props.transition.off(force);\n  props.state = STATE_HIDING;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (force) {\n    finishHiding(props\n      , sync\n      );\n  }\n  traceLog.push(`_id:${props._id}`, '</hide>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options;\n\n  // face\n  if (newOptions.hasOwnProperty('face') &&\n      (newOptions.face == null ? void 0 : newOptions.face) !== options.face) {\n    const elmOverlayBody = props.elmOverlayBody;\n    // Clear\n    while (elmOverlayBody.firstChild) { elmOverlayBody.removeChild(elmOverlayBody.firstChild); }\n    if (newOptions.face === false) { // No face\n      options.face = false;\n    } else if (newOptions.face && newOptions.face.nodeType === Node.ELEMENT_NODE) { // Specific face\n      options.face = newOptions.face;\n      elmOverlayBody.appendChild(newOptions.face);\n    } else if (newOptions.face == null) { // Builtin face\n      options.face = void 0;\n    }\n  }\n\n  // duration\n  if (isFinite(newOptions.duration) && newOptions.duration !== options.duration) {\n    options.duration = newOptions.duration;\n    props.elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n      newOptions.duration === DURATION ? '' : `${newOptions.duration}ms`;\n    props.transition.duration = `${newOptions.duration}ms`;\n  }\n\n  // blur\n  if (isFinite(newOptions.blur) || newOptions.blur === false) {\n    options.blur = newOptions.blur;\n  }\n\n  // style\n  if (isObject(newOptions.style)) {\n    setStyle(props.elmOverlay, newOptions.style);\n  }\n\n  // Event listeners\n  ['onShow', 'onHide', 'onBeforeShow', 'onBeforeHide', 'onPosition'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n      options[option] = void 0;\n    }\n  });\n}\n\nfunction scroll(props, target, dirLeft, value) {\n  let isDoc, curValue;\n\n  if (target) {\n    const targetElements = getTargetElements(props);\n    if (targetElements.indexOf(target) === -1) { return curValue; } // return undefined\n    isDoc = target.nodeName.toLowerCase() === 'html';\n  } else {\n    target = props.elmTarget;\n    isDoc = props.isDoc;\n  }\n\n  const elementScroll = value != null && props.savedElementsScroll &&\n    (props.savedElementsScroll.find ?\n      props.savedElementsScroll.find(elementScroll => elementScroll.element === target) :\n      (elementsScroll => {\n        let found;\n        elementsScroll.some(elementScroll => {\n          if (elementScroll.element === target) {\n            found = elementScroll;\n            return true;\n          }\n          return false;\n        });\n        return found;\n      })(props.savedElementsScroll));\n\n  curValue = (dirLeft ? scrollLeft : scrollTop)(target, isDoc, props.window, value);\n  if (elementScroll) { elementScroll[dirLeft ? 'left' : 'top'] = curValue; }\n  return curValue;\n}\n\nclass PlainOverlay {\n  /**\n   * Create a `PlainOverlay` instance.\n   * @param {Element} [target] - Target element.\n   * @param {Object} [options] - Options.\n   */\n  constructor(target, options) {\n\n    /**\n     * @param {Object} [target] - Element or something that is checked.\n     * @returns {(Element|null)} Valid element or null.\n     */\n    function getTarget(target) {\n      let validElement;\n      if (!target) {\n        validElement = document.documentElement; // documentElement of current document\n      } else if (target.nodeType) {\n        if (target.nodeType === Node.DOCUMENT_NODE) {\n          validElement = target.documentElement; // documentElement of target document\n        } else if (target.nodeType === Node.ELEMENT_NODE) {\n          const nodeName = target.nodeName.toLowerCase();\n          validElement =\n            nodeName === 'body' ? target.ownerDocument.documentElement : // documentElement of target body\n            nodeName === 'iframe' || nodeName === 'frame' ?\n              target.contentDocument.documentElement : // documentElement of target frame\n            target;\n        }\n        if (!validElement) { throw new Error('This element is not accepted.'); }\n      } else if (target === target.window) {\n        validElement = target.document.documentElement; // documentElement of target window\n      }\n      return validElement;\n    }\n\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        face: false, // Initial state.\n        duration: DURATION, // Initial state.\n        blur: false // Initial state.\n      },\n      state: STATE_HIDDEN,\n      savedStyleTarget: {},\n      savedStyleTargetBody: {}\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (arguments.length === 1) {\n      if (!(props.elmTarget = getTarget(target))) {\n        if (!isObject(target)) { throw new Error('Invalid argument.'); }\n        props.elmTarget = document.documentElement; // documentElement of current document\n        options = target;\n      }\n    } else if (!(props.elmTarget = getTarget(target))) {\n      throw new Error('This target is not accepted.');\n    }\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    props.isDoc = props.elmTarget.nodeName.toLowerCase() === 'html';\n    const elmDocument = props.document = props.elmTarget.ownerDocument;\n    props.window = elmDocument.defaultView;\n    const elmTargetBody = props.elmTargetBody = props.isDoc ? elmDocument.body : props.elmTarget;\n\n    // Setup window\n    if (!elmDocument.getElementById(STYLE_ELEMENT_ID)) {\n      const head = elmDocument.getElementsByTagName('head')[0] || elmDocument.documentElement,\n        sheet = head.insertBefore(elmDocument.createElement('style'), head.firstChild);\n      sheet.type = 'text/css';\n      sheet.id = STYLE_ELEMENT_ID;\n      sheet.textContent = CSS_TEXT;\n      if (IS_TRIDENT || IS_EDGE) { forceReflow(sheet); } // Trident bug\n    }\n\n    // elmOverlay\n    const elmOverlay = props.elmOverlay = elmDocument.createElement('div'),\n      elmOverlayClassList = mClassList(elmOverlay);\n    elmOverlayClassList.add(STYLE_CLASS, STYLE_CLASS_HIDE);\n    if (props.isDoc) { elmOverlayClassList.add(STYLE_CLASS_DOC); }\n\n    // TimedTransition\n    props.transition = new TimedTransition(elmOverlay, {\n      procToOn: force => {\n        const elmOverlayClassList = mClassList(elmOverlay);\n        elmOverlayClassList.toggle(STYLE_CLASS_FORCE, !!force);\n        elmOverlayClassList.add(STYLE_CLASS_SHOW);\n      },\n      procToOff: force => {\n        const elmOverlayClassList = mClassList(elmOverlay);\n        elmOverlayClassList.toggle(STYLE_CLASS_FORCE, !!force);\n        elmOverlayClassList.remove(STYLE_CLASS_SHOW);\n      },\n      // for setting before element online\n      property: 'opacity',\n      duration: `${DURATION}ms`\n    });\n    elmOverlay.addEventListener('timedTransitionEnd', event => {\n      if (event.target === elmOverlay && event.propertyName === 'opacity') {\n        if (props.state === STATE_SHOWING) {\n          finishShowing(props);\n        } else if (props.state === STATE_HIDING) {\n          finishHiding(props);\n        }\n      }\n    }, true);\n\n    (props.isDoc ? props.window : elmTargetBody).addEventListener('scroll', event => {\n      // [DEBUG]\n      traceLog.push('<scroll-event>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n      traceLog.push(\n        `target:${event.target === document ? 'document' : event.target.tagName || 'UNKNOWN'}` +\n        `${event.target.id ? `#${event.target.id}` : ''}`);\n      // [/DEBUG]\n      const target = event.target;\n      if (props.state !== STATE_HIDDEN &&\n          restoreScroll(props,\n            props.isDoc &&\n                (target === props.window || target === props.document || target === props.elmTargetBody) ?\n              props.elmTarget : target)) {\n        traceLog.push('AVOIDED'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n      traceLog.push(`_id:${props._id}`, '</scroll-event>'); // [DEBUG/]\n    }, true);\n\n    // props.state can't control the listener\n    // because the event is fired after flow function exited in some browsers (e.g. Trident).\n    props.focusListener = event => {\n      // [DEBUG]\n      traceLog.push('<focusListener>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n      traceLog.push(\n        `target:${event.target === document ? 'document' : event.target.tagName || 'UNKNOWN'}` +\n        `${event.target.id ? `#${event.target.id}` : ''}`);\n      // [/DEBUG]\n      if (props.state !== STATE_HIDDEN && avoidFocus(props, event.target)) {\n        traceLog.push('AVOIDED'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n      traceLog.push(`_id:${props._id}`, '</focusListener>'); // [DEBUG/]\n    };\n    elmTargetBody.addEventListener('focus', props.focusListener, true);\n\n    (listener => { // simulation \"text-select\" event\n      ['keyup', 'mouseup'].forEach(type => {\n        // To listen to keydown in the target and keyup in outside, it is window, not `elmTargetBody`.\n        props.window.addEventListener(type, listener, true);\n      });\n    })(event => {\n      traceLog.push('<text-select-event>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n      if (props.state !== STATE_HIDDEN && avoidSelect(props)) {\n        traceLog.push('AVOIDED'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n      traceLog.push(`_id:${props._id}`, '</text-select-event>'); // [DEBUG/]\n    });\n\n    // Gecko bug, multiple calling (parallel) by `requestAnimationFrame`.\n    props.resizing = false;\n    props.window.addEventListener('resize', AnimEvent.add(() => {\n      if (props.resizing) {\n        console.warn('`resize` event listener is already running.'); // [DEBUG/]\n        return;\n      }\n      props.resizing = true;\n      if (props.state !== STATE_HIDDEN) {\n        if (props.isDoc) {\n          if (props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n            if (props.disabledDocBars) { // Restore DocBars\n              console.log('Restore DocBars'); // [DEBUG/]\n              restoreStyle(props.elmTarget, props.savedStyleTarget, ['overflow']);\n              restoreStyle(elmTargetBody, props.savedStyleTargetBody,\n                ['marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'width', 'height']);\n            }\n            console.log('disableDocBars'); // [DEBUG/]\n            props.disabledDocBars = disableDocBars(props);\n          }\n        } else {\n          const bBox = getBBox(elmTargetBody, props.window),\n            lastBBox = props.targetBodyBBox;\n          if (bBox.left !== lastBBox.left || bBox.top !== lastBBox.top ||\n              bBox.width !== lastBBox.width || bBox.height !== lastBBox.height) {\n            console.log('Update position'); // [DEBUG/]\n            position(props, bBox);\n          }\n        }\n        if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n      }\n      props.resizing = false;\n    }), true);\n\n    // Avoid scroll on touch device\n    elmOverlay.addEventListener('touchmove', event => {\n      if (props.state !== STATE_HIDDEN) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    // elmOverlayBody\n    (props.elmOverlayBody = elmOverlay.appendChild(elmDocument.createElement('div')))\n      .className = STYLE_CLASS_BODY;\n\n    elmDocument.body.appendChild(elmOverlay);\n\n    // Default options\n    if (!options.hasOwnProperty('face')) { options.face = null; }\n\n    setOptions(props, options);\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Show the overlay.\n   * @param {boolean} [force] - Show it immediately without effect.\n   * @param {Object} [options] - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  show(force, options) {\n    if (arguments.length < 2 && typeof force !== 'boolean') {\n      options = force;\n      force = false;\n    }\n\n    this.setOptions(options);\n    show(insProps[this._id], force);\n    return this;\n  }\n\n  /**\n   * Hide the overlay.\n   * @param {boolean} [force] - Hide it immediately without effect.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  hide(force\n      , sync\n      ) {\n    // sync-mode (both `force` and `sync` are `true`)\n    hide(insProps[this._id], force\n      , sync\n      );\n    return this;\n  }\n\n  scrollLeft(value, target) {\n    return scroll(insProps[this._id], target, true, value);\n  }\n\n  scrollTop(value, target) {\n    return scroll(insProps[this._id], target, false, value);\n  }\n\n  position() {\n    const props = insProps[this._id];\n    if (props.state !== STATE_HIDDEN) {\n      if (!props.isDoc) { position(props, getBBox(props.elmTargetBody, props.window)); }\n      if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n    }\n    return this;\n  }\n\n  get state() {\n    return insProps[this._id].state;\n  }\n\n  get style() {\n    return insProps[this._id].elmOverlay.style;\n  }\n\n  get face() { return insProps[this._id].options.face; }\n  set face(value) { setOptions(insProps[this._id], {face: value}); }\n\n  get duration() { return insProps[this._id].options.duration; }\n  set duration(value) { setOptions(insProps[this._id], {duration: value}); }\n\n  get blur() { return insProps[this._id].options.blur; }\n  set blur(value) { setOptions(insProps[this._id], {blur: value}); }\n\n  get onShow() { return insProps[this._id].options.onShow; }\n  set onShow(value) { setOptions(insProps[this._id], {onShow: value}); }\n\n  get onHide() { return insProps[this._id].options.onHide; }\n  set onHide(value) { setOptions(insProps[this._id], {onHide: value}); }\n\n  get onBeforeShow() { return insProps[this._id].options.onBeforeShow; }\n  set onBeforeShow(value) { setOptions(insProps[this._id], {onBeforeShow: value}); }\n\n  get onBeforeHide() { return insProps[this._id].options.onBeforeHide; }\n  set onBeforeHide(value) { setOptions(insProps[this._id], {onBeforeHide: value}); }\n\n  get onPosition() { return insProps[this._id].options.onPosition; }\n  set onPosition(value) { setOptions(insProps[this._id], {onPosition: value}); }\n\n  static show(target, options) {\n    return (new PlainOverlay(target, options)).show();\n  }\n\n  static get STATE_HIDDEN() { return STATE_HIDDEN; }\n  static get STATE_SHOWING() { return STATE_SHOWING; }\n  static get STATE_SHOWN() { return STATE_SHOWN; }\n  static get STATE_HIDING() { return STATE_HIDING; }\n}\n\nPlainOverlay.limit = true;\n\n// [DEBUG]\nPlainOverlay.insProps = insProps;\nPlainOverlay.traceLog = traceLog;\nPlainOverlay.STATE_TEXT = STATE_TEXT;\nPlainOverlay.IS_TRIDENT = IS_TRIDENT;\nPlainOverlay.IS_EDGE = IS_EDGE;\nPlainOverlay.IS_WEBKIT = IS_WEBKIT;\nPlainOverlay.IS_BLINK = IS_BLINK;\nPlainOverlay.IS_GECKO = IS_GECKO;\n// [/DEBUG]\n\nexport default PlainOverlay;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/plain-overlay/src/plain-overlay.js","/*\n * TimedTransition\n * https://github.com/anseki/timed-transition\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\n\nconst\n  STATE_STOPPED = 0, STATE_DELAYING = 1, STATE_PLAYING = 2,\n\n  PREFIX = 'timed',\n  EVENT_TYPE_RUN = `${PREFIX}TransitionRun`,\n  EVENT_TYPE_START = `${PREFIX}TransitionStart`,\n  EVENT_TYPE_END = `${PREFIX}TransitionEnd`,\n  EVENT_TYPE_CANCEL = `${PREFIX}TransitionCancel`,\n\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n  isFinite = Number.isFinite || (value => typeof value === 'number' && window.isFinite(value)),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Object} options - Options.\n   * @property {Element} element - Target element.\n   * @property {Window} window - Window that conatins target element.\n   * @property {number} duration - Milliseconds from `transition-duration`.\n   * @property {number} delay - Milliseconds from `transition-delay`.\n   * @property {number} state - Current state.\n   * @property {boolean} isOn - `on` was called and `off` is not called yet. It is changed by only on/off.\n   * @property {number} runTime - 0, or Date.now() when EVENT_TYPE_RUN.\n   * @property {number} startTime - 0, or Date.now() when EVENT_TYPE_START. It might not be runTime + delay.\n   * @property {number} currentPosition - A time elapsed from initial state, in milliseconds.\n   * @property {boolean} isReversing - The current playing is reversing when STATE_PLAYING.\n   * @property {number} timer - Timer ID.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {};\n\nlet insId = 0;\n\n// [DEBUG]\nconst traceLog = [];\nconst STATE_TEXT = {};\nSTATE_TEXT[STATE_STOPPED] = 'STATE_STOPPED';\nSTATE_TEXT[STATE_DELAYING] = 'STATE_DELAYING';\nSTATE_TEXT[STATE_PLAYING] = 'STATE_PLAYING';\nfunction roundTime(timeValue) { return Math.round(timeValue / 200) * 200; } // for traceLog\n// [/DEBUG]\n\n/**\n * @param {props} props - `props` of instance.\n * @param {string} type - One of EVENT_TYPE_*.\n * @returns {void}\n */\nfunction fireEvent(props, type) {\n  // [DEBUG]\n  traceLog.push('<fireEvent>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`isOn:${props.isOn}`,\n    `runTime:${roundTime(props.runTime)}`, `startTime:${roundTime(props.startTime)}`,\n    `currentPosition:${roundTime(props.currentPosition)}`);\n  traceLog.push(`type:${type}`);\n  // [/DEBUG]\n  const initTime = Math.min(Math.max(-props.delay, 0), props.duration),\n    elapsedTime = (initTime +\n      // The value for transitionend might NOT be transition-duration. (csswg.org may be wrong)\n      ((type === EVENT_TYPE_END || type === EVENT_TYPE_CANCEL) && props.startTime ?\n        Date.now() - props.startTime : 0)\n    ) / 1000;\n\n  let event;\n  try {\n    event = new props.window.TransitionEvent(type, {\n      propertyName: props.options.property,\n      pseudoElement: props.options.pseudoElement,\n      elapsedTime: elapsedTime,\n      bubbles: true,\n      cancelable: false\n    });\n    // Edge bug, can't set pseudoElement\n    if (IS_EDGE) { event.pseudoElement = props.options.pseudoElement; }\n  } catch (error) {\n    event = props.window.document.createEvent('TransitionEvent');\n    event.initTransitionEvent(type, true, false, props.options.property, elapsedTime);\n    event.pseudoElement = props.options.pseudoElement;\n  }\n  event.timedTransition = props.ins;\n  props.element.dispatchEvent(event);\n  traceLog.push('</fireEvent>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction fixCurrentPosition(props) {\n  // [DEBUG]\n  traceLog.push('<fixCurrentPosition>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`currentPosition:${roundTime(props.currentPosition)}`);\n  // [/DEBUG]\n  if (props.state !== STATE_PLAYING) {\n    traceLog.push('CANCEL', '</fixCurrentPosition>'); // [DEBUG/]\n    return;\n  }\n  const playingTime = Date.now() - props.startTime;\n  props.currentPosition = props.isOn ?\n    Math.min(props.currentPosition + playingTime, props.duration) :\n    Math.max(props.currentPosition - playingTime, 0);\n  traceLog.push(`currentPosition:${roundTime(props.currentPosition)}`); // [DEBUG/]\n  traceLog.push('</fixCurrentPosition>'); // [DEBUG/]\n}\n\n/**\n * Finish the \"on/off\" immediately by isOn.\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction finishAll(props) {\n  traceLog.push('<finishAll/>', `_id:${props._id}`, `isOn:${props.isOn}`); // [DEBUG/]\n  props.state = STATE_STOPPED;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  props.runTime = 0;\n  props.startTime = 0;\n  props.currentPosition = props.isOn ? props.duration : 0;\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction finishPlaying(props) {\n  // [DEBUG]\n  traceLog.push('<finishPlaying>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`isOn:${props.isOn}`,\n    `runTime:${roundTime(props.runTime)}`, `startTime:${roundTime(props.startTime)}`,\n    `currentPosition:${roundTime(props.currentPosition)}`);\n  // [/DEBUG]\n  if (props.state !== STATE_PLAYING) {\n    traceLog.push('CANCEL', '</finishPlaying>'); // [DEBUG/]\n    return;\n  }\n\n  props.state = STATE_STOPPED;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  fireEvent(props, EVENT_TYPE_END);\n\n  finishAll(props);\n  traceLog.push('</finishPlaying>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction finishDelaying(props) {\n  // [DEBUG]\n  traceLog.push('<finishDelaying>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`isOn:${props.isOn}`,\n    `runTime:${roundTime(props.runTime)}`, `startTime:${roundTime(props.startTime)}`,\n    `currentPosition:${roundTime(props.currentPosition)}`);\n  // [/DEBUG]\n  if (props.state !== STATE_DELAYING) {\n    traceLog.push('CANCEL', '</finishDelaying>'); // [DEBUG/]\n    return;\n  }\n\n  props.state = STATE_PLAYING;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  props.startTime = Date.now();\n  props.isReversing = !props.isOn;\n  fireEvent(props, EVENT_TYPE_START);\n\n  const durationLeft = props.isOn ? props.duration - props.currentPosition : props.currentPosition;\n  traceLog.push(`durationLeft:${roundTime(durationLeft)}`); // [DEBUG/]\n  if (durationLeft > 0) {\n    props.timer = setTimeout(() => { finishPlaying(props); }, durationLeft);\n  } else {\n    finishPlaying(props);\n  }\n  traceLog.push('</finishDelaying>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction abort(props) {\n  traceLog.push('<abort>', `_id:${props._id}`, `isOn:${props.isOn}`); // [DEBUG/]\n  clearTimeout(props.timer);\n  if (props.state === STATE_STOPPED) {\n    traceLog.push('CANCEL', '</abort>'); // [DEBUG/]\n    return;\n  }\n\n  props.state = STATE_STOPPED;\n  traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  fireEvent(props, EVENT_TYPE_CANCEL);\n  traceLog.push('</abort>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip transition.\n * @returns {void}\n */\nfunction on(props, force) {\n  // [DEBUG]\n  traceLog.push('<on>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`force:${!!force}`);\n  traceLog.push(`isOn:${props.isOn}`,\n    `runTime:${roundTime(props.runTime)}`, `startTime:${roundTime(props.startTime)}`,\n    `currentPosition:${roundTime(props.currentPosition)}`);\n  // [/DEBUG]\n  if (props.isOn && props.state === STATE_STOPPED ||\n      props.isOn && props.state !== STATE_STOPPED && !force) {\n    traceLog.push('CANCEL', '</on>'); // [DEBUG/]\n    return;\n  }\n  /*\n    Cases:\n      - Done `off` or playing to `off`, regardless of `force`\n      - Playing to `on` and `force`\n  */\n\n  if (props.options.procToOn) { props.options.procToOn.call(props.ins, !!force); }\n\n  if (force || !props.isOn && props.state === STATE_DELAYING ||\n      -props.delay > props.duration) { // The delay must have not changed before turning over.\n    // [DEBUG]\n    traceLog.push(`STOP(${\n      force ? 'force' :\n      !props.isOn && props.state === STATE_DELAYING ? 'DELAYING' :\n      'over-duration'})`);\n    // [/DEBUG]\n    abort(props);\n    props.isOn = true;\n    finishAll(props);\n\n  } else {\n    fixCurrentPosition(props);\n    abort(props);\n\n    props.state = STATE_DELAYING;\n    traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n    props.isOn = true;\n    props.runTime = Date.now();\n    props.startTime = 0;\n    fireEvent(props, EVENT_TYPE_RUN);\n\n    if (props.delay > 0) {\n      props.timer = setTimeout(() => { finishDelaying(props); }, props.delay);\n    } else {\n      if (props.delay < 0) { // Move the position to the right.\n        props.currentPosition = Math.min(props.currentPosition - props.delay, props.duration);\n      }\n      finishDelaying(props);\n    }\n  }\n  traceLog.push('</on>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip transition.\n * @returns {void}\n */\nfunction off(props, force) {\n  // [DEBUG]\n  traceLog.push('<off>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`);\n  traceLog.push(`force:${!!force}`);\n  traceLog.push(`isOn:${props.isOn}`,\n    `runTime:${roundTime(props.runTime)}`, `startTime:${roundTime(props.startTime)}`,\n    `currentPosition:${roundTime(props.currentPosition)}`);\n  // [/DEBUG]\n  if (!props.isOn && props.state === STATE_STOPPED ||\n      !props.isOn && props.state !== STATE_STOPPED && !force) {\n    traceLog.push('CANCEL', '</off>'); // [DEBUG/]\n    return;\n  }\n  /*\n    Cases:\n      - Done `on` or playing to `on`, regardless of `force`\n      - Playing to `off` and `force`\n  */\n\n  if (props.options.procToOff) { props.options.procToOff.call(props.ins, !!force); }\n\n  if (force || props.isOn && props.state === STATE_DELAYING ||\n      -props.delay > props.duration) { // The delay must have not changed before turning over.\n    // [DEBUG]\n    traceLog.push(`STOP(${\n      force ? 'force' :\n      props.isOn && props.state === STATE_DELAYING ? 'DELAYING' :\n      'over-duration'})`);\n    // [/DEBUG]\n    abort(props);\n    props.isOn = false;\n    finishAll(props);\n\n  } else {\n    fixCurrentPosition(props);\n    abort(props);\n\n    props.state = STATE_DELAYING;\n    traceLog.push(`state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n    props.isOn = false;\n    props.runTime = Date.now();\n    props.startTime = 0;\n    fireEvent(props, EVENT_TYPE_RUN);\n\n    if (props.delay > 0) {\n      props.timer = setTimeout(() => { finishDelaying(props); }, props.delay);\n    } else {\n      if (props.delay < 0) { // Move the position to the left.\n        props.currentPosition = Math.max(props.currentPosition + props.delay, 0);\n      }\n      finishDelaying(props);\n    }\n  }\n  traceLog.push('</off>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options;\n\n  function parseAsCss(option) {\n    const optionValue = typeof newOptions[option] === 'number' ? // From CSS\n      (props.window.getComputedStyle(props.element, '')[\n          CSSPrefix.getName(`transition-${option}`)] || '')\n        .split(',')[newOptions[option]] :\n      newOptions[option];\n    // [DEBUG]\n    props.lastParseAsCss[option] = typeof optionValue === 'string' ? optionValue.trim() : null;\n    // [/DEBUG]\n    return typeof optionValue === 'string' ? optionValue.trim() : null;\n  }\n\n  // pseudoElement\n  if (typeof newOptions.pseudoElement === 'string') {\n    options.pseudoElement = newOptions.pseudoElement;\n  }\n\n  // property\n  {\n    const value = parseAsCss('property');\n    if (typeof value === 'string' && value !== 'all' && value !== 'none') {\n      options.property = value;\n    }\n  }\n\n  // duration, delay\n  ['duration', 'delay'].forEach(option => {\n    const value = parseAsCss(option);\n    if (typeof value === 'string') {\n      let matches, timeValue;\n      if (/^[0\\.]+$/.test(value)) { // This is invalid for CSS.\n        options[option] = '0s';\n        props[option] = 0;\n      } else if ((matches = /^(.+?)(m)?s$/.exec(value)) &&\n          isFinite((timeValue = parseFloat(matches[1]))) &&\n          (option !== 'duration' || timeValue >= 0)) {\n        options[option] = `${timeValue}${matches[2] || ''}s`;\n        props[option] = timeValue * (matches[2] ? 1 : 1000);\n      }\n    }\n  });\n\n  // procToOn, procToOff\n  ['procToOn', 'procToOff'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n      options[option] = void 0;\n    }\n  });\n}\n\nclass TimedTransition {\n  /**\n   * Create a `TimedTransition` instance.\n   * @param {Element} element - Target element.\n   * @param {Object} [options] - Options.\n   * @param {boolean} [initOn] - Initial `on`.\n   */\n  constructor(element, options, initOn) {\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        pseudoElement: '',\n        property: ''\n      },\n      duration: 0,\n      delay: 0,\n      isOn: !!initOn\n    };\n    props.lastParseAsCss = {}; // [DEBUG/]\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (!element.nodeType || element.nodeType !== Node.ELEMENT_NODE) {\n      throw new Error('This `element` is not accepted.');\n    }\n    props.element = element;\n    props.window = element.ownerDocument.defaultView;\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    // Default options\n    if (!options.hasOwnProperty('property')) { options.property = 0; }\n    if (!options.hasOwnProperty('duration')) { options.duration = 0; }\n    if (!options.hasOwnProperty('delay')) { options.delay = 0; }\n\n    setOptions(props, options);\n    finishAll(props);\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {TimedTransition} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Set `on`.\n   * @param {boolean} [force] - Set `on` it immediately without transition.\n   * @param {Object} [options] - New options.\n   * @returns {TimedTransition} Current instance itself.\n   */\n  on(force, options) {\n    if (arguments.length < 2 && typeof force !== 'boolean') {\n      options = force;\n      force = false;\n    }\n\n    this.setOptions(options);\n    on(insProps[this._id], force);\n    return this;\n  }\n\n  /**\n   * Set 'off'.\n   * @param {boolean} [force] - Set `off` it immediately without transition.\n   * @returns {TimedTransition} Current instance itself.\n   */\n  off(force) {\n    off(insProps[this._id], force);\n    return this;\n  }\n\n  get state() { return insProps[this._id].state; }\n\n  get element() { return insProps[this._id].element; }\n\n  get isReversing() { return insProps[this._id].isReversing; }\n\n  get pseudoElement() { return insProps[this._id].options.pseudoElement; }\n  set pseudoElement(value) { setOptions(insProps[this._id], {pseudoElement: value}); }\n\n  get property() { return insProps[this._id].options.property; }\n  set property(value) { setOptions(insProps[this._id], {property: value}); }\n\n  get duration() { return insProps[this._id].options.duration; }\n  set duration(value) { setOptions(insProps[this._id], {duration: value}); }\n\n  get delay() { return insProps[this._id].options.delay; }\n  set delay(value) { setOptions(insProps[this._id], {delay: value}); }\n\n  get procToOn() { return insProps[this._id].options.procToOn; }\n  set procToOn(value) { setOptions(insProps[this._id], {procToOn: value}); }\n\n  get procToOff() { return insProps[this._id].options.procToOff; }\n  set procToOff(value) { setOptions(insProps[this._id], {procToOff: value}); }\n\n  static get STATE_STOPPED() { return STATE_STOPPED; }\n  static get STATE_DELAYING() { return STATE_DELAYING; }\n  static get STATE_PLAYING() { return STATE_PLAYING; }\n}\n\n// [DEBUG]\nTimedTransition.insProps = insProps;\nTimedTransition.traceLog = traceLog;\nTimedTransition.STATE_TEXT = STATE_TEXT;\nTimedTransition.roundTime = roundTime;\n// [/DEBUG]\n\nexport default TimedTransition;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/timed-transition/src/timed-transition.js","module.exports = \".plainoverlay{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainoverlay{position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,0.6);cursor:wait;z-index:9000;-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:200ms;-moz-transition-duration:200ms;-o-transition-duration:200ms;transition-duration:200ms;-webkit-transition-timing-function:linear;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;transition-timing-function:linear;opacity:0}.plainoverlay.plainoverlay-show{opacity:1}.plainoverlay.plainoverlay-force{-webkit-transition-property:none;-moz-transition-property:none;-o-transition-property:none;transition-property:none}.plainoverlay.plainoverlay-hide{display:none}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/plain-overlay/src/default.scss\n// module id = 6\n// module chunks = 0","module.exports = \".plainmodal .plainmodal-overlay{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainmodal.plainoverlay{background-color:transparent;cursor:auto}.plainmodal .plainmodal-content{z-index:9000}.plainmodal .plainmodal-overlay{width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(136,136,136,0.6);-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:200ms;-moz-transition-duration:200ms;-o-transition-duration:200ms;transition-duration:200ms;-webkit-transition-timing-function:linear;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;transition-timing-function:linear;opacity:1}.plainmodal .plainmodal-overlay.plainmodal-overlay-hide{opacity:0}.plainmodal .plainmodal-overlay.plainmodal-overlay-force{-webkit-transition-property:none;-moz-transition-property:none;-o-transition-property:none;transition-property:none}\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/default.scss\n// module id = 7\n// module chunks = 0","/*\n * PlainDraggable\n * https://anseki.github.io/plain-draggable/\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport AnimEvent from 'anim-event';\nimport mClassList from 'm-class-list';\nmClassList.ignoreNative = true;\n\nconst\n  ZINDEX = 9000,\n\n  IS_WEBKIT = !window.chrome && 'WebkitAppearance' in document.documentElement.style,\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n  isFinite = Number.isFinite || (value => typeof value === 'number' && window.isFinite(value)),\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {};\n\nlet insId = 0,\n  activeItem, hasMoved, pointerOffset, body,\n  // CSS property/value\n  cssValueDraggableCursor, cssValueDraggingCursor, cssOrgValueBodyCursor,\n  cssPropTransform, cssPropUserSelect, cssOrgValueBodyUserSelect,\n  // Try to set `cursor` property.\n  cssWantedValueDraggableCursor = IS_WEBKIT ? ['all-scroll', 'move'] : ['grab', 'all-scroll', 'move'],\n  cssWantedValueDraggingCursor = IS_WEBKIT ? 'move' : ['grabbing', 'move'],\n  // class\n  draggableClass = 'plain-draggable',\n  draggingClass = 'plain-draggable-dragging', movingClass = 'plain-draggable-moving';\n\n// [DEBUG]\nwindow.insProps = insProps;\nwindow.IS_WEBKIT = IS_WEBKIT;\n// [/DEBUG]\n\nfunction copyTree(obj) {\n  return !obj ? obj :\n    isObject(obj) ? Object.keys(obj).reduce((copyObj, key) => {\n      copyObj[key] = copyTree(obj[key]);\n      return copyObj;\n    }, {}) :\n    Array.isArray(obj) ? obj.map(copyTree) : obj;\n}\n\nfunction hasChanged(a, b) {\n  let typeA, keysA;\n  return typeof a !== typeof b ||\n    (typeA = isObject(a) ? 'obj' : Array.isArray(a) ? 'array' : '') !==\n      (isObject(b) ? 'obj' : Array.isArray(b) ? 'array' : '') ||\n    (\n      typeA === 'obj' ?\n        hasChanged((keysA = Object.keys(a).sort()), Object.keys(b).sort()) ||\n          keysA.some(prop => hasChanged(a[prop], b[prop])) :\n      typeA === 'array' ?\n        a.length !== b.length || a.some((aVal, i) => hasChanged(aVal, b[i])) :\n      a !== b\n    );\n}\n\n/**\n * @param {Element} element - A target element.\n * @returns {boolean} `true` if connected element.\n */\nfunction isElement(element) {\n  return !!(element &&\n    element.nodeType === Node.ELEMENT_NODE &&\n    // element instanceof HTMLElement &&\n    typeof element.getBoundingClientRect === 'function' &&\n    !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));\n}\nwindow.isElement = isElement; // [DEBUG/]\n\n/**\n * An object that simulates `DOMRect` to indicate a bounding-box.\n * @typedef {Object} BBox\n * @property {(number|null)} left - document coordinate\n * @property {(number|null)} top - document coordinate\n * @property {(number|null)} right - document coordinate\n * @property {(number|null)} bottom - document coordinate\n * @property {(number|null)} x - Substitutes for left\n * @property {(number|null)} y - Substitutes for top\n * @property {(number|null)} width\n * @property {(number|null)} height\n */\n\n/**\n * @param {Object} bBox - A target object.\n * @returns {(BBox|null)} A normalized `BBox`, or null if `bBox` is invalid.\n */\nfunction validBBox(bBox) {\n  if (!isObject(bBox)) { return null; }\n  let value;\n  if (isFinite((value = bBox.left)) || isFinite((value = bBox.x))) {\n    bBox.left = bBox.x = value;\n  } else { return null; }\n  if (isFinite((value = bBox.top)) || isFinite((value = bBox.y))) {\n    bBox.top = bBox.y = value;\n  } else { return null; }\n\n  if (isFinite(bBox.width) && bBox.width >= 0) {\n    bBox.right = bBox.left + bBox.width;\n  } else if (isFinite(bBox.right) && bBox.right >= bBox.left) {\n    bBox.width = bBox.right - bBox.left;\n  } else { return null; }\n  if (isFinite(bBox.height) && bBox.height >= 0) {\n    bBox.bottom = bBox.top + bBox.height;\n  } else if (isFinite(bBox.bottom) && bBox.bottom >= bBox.top) {\n    bBox.height = bBox.bottom - bBox.top;\n  } else { return null; }\n  return bBox;\n}\nwindow.validBBox = validBBox; // [DEBUG/]\n\n/**\n * A value that is Pixels or Ratio\n * @typedef {{value: number, isRatio: boolean}} PPValue\n */\n\nfunction validPPValue(value) {\n\n  // Get PPValue from string (all `/s` were already removed)\n  function string2PPValue(inString) {\n    const matches = /^(.+?)(\\%)?$/.exec(inString);\n    let value, isRatio;\n    return matches && isFinite((value = parseFloat(matches[1]))) ?\n      {value: (isRatio = !!(matches[2] && value)) ? value / 100 : value, isRatio: isRatio} : null; // 0% -> 0\n  }\n\n  return isFinite(value) ? {value: value, isRatio: false} :\n    typeof value === 'string' ? string2PPValue(value.replace(/\\s/g, '')) : null;\n}\nwindow.validPPValue = validPPValue; // [DEBUG/]\n\nfunction ppValue2OptionValue(ppValue) {\n  return ppValue.isRatio ? `${ppValue.value * 100}%` : ppValue.value;\n}\nwindow.ppValue2OptionValue = ppValue2OptionValue; // [DEBUG/]\n\nfunction resolvePPValue(ppValue, baseOrigin, baseSize) {\n  return typeof ppValue === 'number' ? ppValue :\n    baseOrigin + ppValue.value * (ppValue.isRatio ? baseSize : 1);\n}\n\n/**\n * An object that simulates BBox but properties are PPValue.\n * @typedef {Object} PPBBox\n */\n\n/**\n * @param {Object} bBox - A target object.\n * @returns {(PPBBox|null)} A normalized `PPBBox`, or null if `bBox` is invalid.\n */\nfunction validPPBBox(bBox) {\n  if (!isObject(bBox)) { return null; }\n  let ppValue;\n  if ((ppValue = validPPValue(bBox.left)) || (ppValue = validPPValue(bBox.x))) {\n    bBox.left = bBox.x = ppValue;\n  } else { return null; }\n  if ((ppValue = validPPValue(bBox.top)) || (ppValue = validPPValue(bBox.y))) {\n    bBox.top = bBox.y = ppValue;\n  } else { return null; }\n\n  if ((ppValue = validPPValue(bBox.width)) && ppValue.value >= 0) {\n    bBox.width = ppValue;\n    delete bBox.right;\n  } else if ((ppValue = validPPValue(bBox.right))) {\n    bBox.right = ppValue;\n    delete bBox.width;\n  } else { return null; }\n  if ((ppValue = validPPValue(bBox.height)) && ppValue.value >= 0) {\n    bBox.height = ppValue;\n    delete bBox.bottom;\n  } else if ((ppValue = validPPValue(bBox.bottom))) {\n    bBox.bottom = ppValue;\n    delete bBox.height;\n  } else { return null; }\n  return bBox;\n}\nwindow.validPPBBox = validPPBBox; // [DEBUG/]\n\nfunction ppBBox2OptionObject(ppBBox) {\n  return Object.keys(ppBBox).reduce((obj, prop) => {\n    obj[prop] = ppValue2OptionValue(ppBBox[prop]);\n    return obj;\n  }, {});\n}\nwindow.ppBBox2OptionObject = ppBBox2OptionObject; // [DEBUG/]\n\n// PPBBox -> BBox\nfunction resolvePPBBox(ppBBox, baseBBox) {\n  const prop2Axis = {left: 'x', right: 'x', x: 'x', width: 'x',\n      top: 'y', bottom: 'y', y: 'y', height: 'y'},\n    baseOriginXY = {x: baseBBox.left, y: baseBBox.top},\n    baseSizeXY = {x: baseBBox.width, y: baseBBox.height};\n  return validBBox(Object.keys(ppBBox).reduce((bBox, prop) => {\n    bBox[prop] = resolvePPValue(ppBBox[prop],\n      prop === 'width' || prop === 'height' ? 0 : baseOriginXY[prop2Axis[prop]],\n      baseSizeXY[prop2Axis[prop]]);\n    return bBox;\n  }, {}));\n}\nwindow.resolvePPBBox = resolvePPBBox; // [DEBUG/]\n\n/**\n * @param {Element} element - A target element.\n * @param {?boolean} getPaddingBox - Get padding-box instead of border-box as bounding-box.\n * @returns {BBox} A bounding-box of `element`.\n */\nfunction getBBox(element, getPaddingBox) {\n  const rect = element.getBoundingClientRect(),\n    bBox = {left: rect.left, top: rect.top, width: rect.width, height: rect.height};\n  bBox.left += window.pageXOffset;\n  bBox.top += window.pageYOffset;\n  if (getPaddingBox) {\n    const style = window.getComputedStyle(element, ''),\n      borderTop = parseFloat(style.borderTopWidth) || 0,\n      borderRight = parseFloat(style.borderRightWidth) || 0,\n      borderBottom = parseFloat(style.borderBottomWidth) || 0,\n      borderLeft = parseFloat(style.borderLeftWidth) || 0;\n    bBox.left += borderLeft;\n    bBox.top += borderTop;\n    bBox.width -= borderLeft + borderRight;\n    bBox.height -= borderTop + borderBottom;\n  }\n  return validBBox(bBox);\n}\nwindow.getBBox = getBBox; // [DEBUG/]\n\n/**\n * Optimize an element for animation.\n * @param {Element} element - A target element.\n * @param {?boolean} gpuTrigger - Initialize for SVGElement if `true`.\n * @returns {Element} A target element.\n */\nfunction initAnim(element, gpuTrigger) {\n  const style = element.style;\n  style.webkitTapHighlightColor = 'transparent';\n\n  // Only when it has no shadow\n  const cssPropBoxShadow = CSSPrefix.getName('boxShadow'),\n    boxShadow = window.getComputedStyle(element, '')[cssPropBoxShadow];\n  if (!boxShadow || boxShadow === 'none') {\n    style[cssPropBoxShadow] = '0 0 1px transparent';\n  }\n\n  if (gpuTrigger && cssPropTransform) { style[cssPropTransform] = 'translateZ(0)'; }\n  return element;\n}\n\nfunction setDraggableCursor(element, orgCursor) {\n  if (cssValueDraggableCursor == null) {\n    if (cssWantedValueDraggableCursor !== false) {\n      cssValueDraggableCursor = CSSPrefix.getValue('cursor', cssWantedValueDraggableCursor);\n    }\n    // The wanted value was denied, or changing is not wanted.\n    if (cssValueDraggableCursor == null) { cssValueDraggableCursor = false; }\n  }\n  // Update it to change a state even if cssValueDraggableCursor is false.\n  element.style.cursor = cssValueDraggableCursor === false ? orgCursor : cssValueDraggableCursor;\n}\n\nfunction setDraggingCursor(element) {\n  if (cssValueDraggingCursor == null) {\n    if (cssWantedValueDraggingCursor !== false) {\n      cssValueDraggingCursor = CSSPrefix.getValue('cursor', cssWantedValueDraggingCursor);\n    }\n    // The wanted value was denied, or changing is not wanted.\n    if (cssValueDraggingCursor == null) { cssValueDraggingCursor = false; }\n  }\n  if (cssValueDraggingCursor !== false) { element.style.cursor = cssValueDraggingCursor; }\n}\n\n\n/**\n * Move by `translate`.\n * @param {props} props - `props` of instance.\n * @param {{left: number, top: number}} position - New position.\n * @returns {boolean} `true` if it was moved.\n */\nfunction moveTranslate(props, position) {\n  const elementBBox = props.elementBBox;\n  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {\n    const offset = props.htmlOffset;\n    props.elementStyle[cssPropTransform] =\n      `translate(${position.left + offset.left}px, ${position.top + offset.top}px)`;\n    return true;\n  }\n  return false;\n}\n\n\n\n/**\n * Set `props.element` position.\n * @param {props} props - `props` of instance.\n * @param {{left: number, top: number}} position - New position.\n * @param {function} [cbCheck] - Callback that is called with valid position, cancel moving if it returns `false`.\n * @returns {boolean} `true` if it was moved.\n */\nfunction move(props, position, cbCheck) {\n  const elementBBox = props.elementBBox;\n\n  function fix() {\n    if (props.minLeft >= props.maxLeft) { // Disabled\n      position.left = elementBBox.left;\n    } else if (position.left < props.minLeft) {\n      position.left = props.minLeft;\n    } else if (position.left > props.maxLeft) {\n      position.left = props.maxLeft;\n    }\n    if (props.minTop >= props.maxTop) { // Disabled\n      position.top = elementBBox.top;\n    } else if (position.top < props.minTop) {\n      position.top = props.minTop;\n    } else if (position.top > props.maxTop) {\n      position.top = props.maxTop;\n    }\n  }\n\n  fix();\n  if (cbCheck) {\n    if (cbCheck(position) === false) { return false; }\n    fix(); // Again\n  }\n\n  const moved = props.moveElm(props, position);\n  if (moved) { // Update elementBBox\n    props.elementBBox = validBBox({left: position.left, top: position.top,\n      width: elementBBox.width, height: elementBBox.height});\n  }\n  return moved;\n}\n\n/**\n * Initialize HTMLElement for `translate`, and get `offset` that is used by `moveTranslate`.\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction initTranslate(props) {\n  const element = props.element,\n    elementStyle = props.elementStyle,\n    curPosition = getBBox(element), // Get BBox before change style.\n    RESTORE_PROPS = ['display', 'marginTop', 'marginBottom', 'width', 'height'];\n  RESTORE_PROPS.unshift(cssPropTransform);\n\n  if (!props.orgStyle) {\n    props.orgStyle = RESTORE_PROPS.reduce((orgStyle, prop) => {\n      orgStyle[prop] = elementStyle[prop] || '';\n      return orgStyle;\n    }, {});\n    props.lastStyle = {};\n  } else {\n    RESTORE_PROPS.forEach(prop => {\n      // Skip this if it seems user changed it. (it can't check perfectly.)\n      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {\n        elementStyle[prop] = props.orgStyle[prop];\n      }\n    });\n  }\n\n  const orgSize = getBBox(element),\n    cmpStyle = window.getComputedStyle(element, '');\n  // https://www.w3.org/TR/css-transforms-1/#transformable-element\n  if (cmpStyle.display === 'inline') {\n    elementStyle.display = 'inline-block';\n    ['Top', 'Bottom'].forEach(dirProp => {\n      const padding = parseFloat(cmpStyle[`padding${dirProp}`]);\n      // paddingTop/Bottom make padding but don't make space -> negative margin in inline-block\n      // marginTop/Bottom don't work in inline element -> `0` in inline-block\n      elementStyle[`margin${dirProp}`] = padding ? `-${padding}px` : '0';\n    });\n  }\n  elementStyle[cssPropTransform] = 'translate(0, 0)';\n  // Get document offset.\n  let newBBox = getBBox(element);\n  const offset = props.htmlOffset =\n    {left: newBBox.left ? -newBBox.left : 0, top: newBBox.top ? -newBBox.top : 0}; // avoid `-0`\n\n  // Restore position\n  elementStyle[cssPropTransform] =\n    `translate(${curPosition.left + offset.left}px, ${curPosition.top + offset.top}px)`;\n  // Restore size\n  ['width', 'height'].forEach(prop => {\n    if (newBBox[prop] !== orgSize[prop]) {\n      // Ignore `box-sizing`\n      elementStyle[prop] = orgSize[prop] + 'px';\n      newBBox = getBBox(element);\n      if (newBBox[prop] !== orgSize[prop]) { // Retry\n        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';\n      }\n    }\n    props.lastStyle[prop] = elementStyle[prop];\n  });\n}\n\n\n\n/**\n * Set `elementBBox`, `containmentBBox`, `min/max``Left/Top` and `snapTargets`.\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction initBBox(props) {\n  props.initElm(props);\n\n  const docBBox = getBBox(document.documentElement),\n    elementBBox = props.elementBBox = getBBox(props.element),\n    containmentBBox = props.containmentBBox =\n      props.containmentIsBBox ? (resolvePPBBox(props.options.containment, docBBox) || docBBox) :\n        getBBox(props.options.containment, true);\n  props.minLeft = containmentBBox.left;\n  props.maxLeft = containmentBBox.right - elementBBox.width;\n  props.minTop = containmentBBox.top;\n  props.maxTop = containmentBBox.bottom - elementBBox.height;\n  // Adjust position\n  move(props, {left: elementBBox.left, top: elementBBox.top});\n\n  window.initBBoxDone = true; // [DEBUG/]\n}\n\nfunction dragEnd(props) {\n  setDraggableCursor(props.options.handle, props.orgCursor);\n  body.style.cursor = cssOrgValueBodyCursor;\n\n  if (props.options.zIndex !== false) { props.elementStyle.zIndex = props.orgZIndex; }\n  if (cssPropUserSelect) { body.style[cssPropUserSelect] = cssOrgValueBodyUserSelect; }\n  const classList = mClassList(props.element);\n  if (movingClass) { classList.remove(movingClass); }\n  if (draggingClass) { classList.remove(draggingClass); }\n\n  activeItem = null;\n  if (props.onDragEnd) { props.onDragEnd(); }\n}\n\nfunction mousedown(props, event) {\n  if (props.disabled) { return; }\n  if (activeItem) { dragEnd(activeItem); } // activeItem is normally null by `mouseup`.\n\n  setDraggingCursor(props.options.handle);\n  body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`\n    window.getComputedStyle(props.options.handle, '').cursor;\n\n  if (props.options.zIndex !== false) { props.elementStyle.zIndex = props.options.zIndex; }\n  if (cssPropUserSelect) { body.style[cssPropUserSelect] = 'none'; }\n  if (draggingClass) { mClassList(props.element).add(draggingClass); }\n\n  activeItem = props;\n  hasMoved = false;\n  pointerOffset = {left: props.elementBBox.left - event.pageX, top: props.elementBBox.top - event.pageY};\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options;\n  let needsInitBBox;\n\n  // containment\n  if (newOptions.containment) {\n    let bBox;\n    if (isElement(newOptions.containment)) { // Specific element\n      if (newOptions.containment !== options.containment) {\n        // Restore\n        props.scrollElements.forEach(element => {\n          element.removeEventListener('scroll', props.handleScroll, false);\n        });\n        props.scrollElements = [];\n        window.removeEventListener('scroll', props.handleScroll, false);\n        // Parse tree\n        let element = newOptions.containment, fixedElement;\n        while (element && element !== body) {\n          if (element.nodeType === Node.ELEMENT_NODE) {\n            const cmpStyle = window.getComputedStyle(element, '');\n            // Scrollable element\n            if (!(element instanceof SVGElement) && (\n                cmpStyle.overflow !== 'visible' || cmpStyle.overflowX !== 'visible' ||\n                cmpStyle.overflowY !== 'visible' // `hidden` also is scrollable.\n                )) {\n              element.addEventListener('scroll', props.handleScroll, false);\n              props.scrollElements.push(element);\n            }\n            // Element that is re-positioned (document based) when window scrolled.\n            if (cmpStyle.position === 'fixed') { fixedElement = true; }\n          }\n          element = element.parentNode;\n        }\n        if (fixedElement) {\n          window.addEventListener('scroll', props.handleScroll, false);\n        }\n\n        options.containment = newOptions.containment;\n        props.containmentIsBBox = false;\n        needsInitBBox = true;\n      }\n    } else if ((bBox = validPPBBox(copyTree(newOptions.containment))) && // bBox\n        hasChanged(bBox, options.containment)) {\n      options.containment = bBox;\n      props.containmentIsBBox = true;\n      needsInitBBox = true;\n    }\n  }\n\n\n  if (needsInitBBox) { initBBox(props); }\n\n  // Gecko, Trident pick drag-event of some elements such as img, a, etc.\n  function dragstart(event) { event.preventDefault(); }\n\n  // handle\n  if (isElement(newOptions.handle) && newOptions.handle !== options.handle) {\n    if (options.handle) { // Restore\n      options.handle.style.cursor = props.orgCursor;\n      if (cssPropUserSelect) { options.handle.style[cssPropUserSelect] = props.orgUserSelect; }\n      options.handle.removeEventListener('dragstart', dragstart, false);\n      options.handle.removeEventListener('mousedown', props.handleMousedown, false);\n    }\n    const handle = options.handle = newOptions.handle;\n    props.orgCursor = handle.style.cursor;\n    setDraggableCursor(handle, props.orgCursor);\n    if (cssPropUserSelect) {\n      props.orgUserSelect = handle.style[cssPropUserSelect];\n      handle.style[cssPropUserSelect] = 'none';\n    }\n    handle.addEventListener('dragstart', dragstart, false);\n    handle.addEventListener('mousedown', props.handleMousedown, false);\n  }\n\n  // zIndex\n  if (isFinite(newOptions.zIndex) || newOptions.zIndex === false) {\n    options.zIndex = newOptions.zIndex;\n    if (props === activeItem) {\n      props.elementStyle.zIndex = options.zIndex === false ? props.orgZIndex : options.zIndex;\n    }\n  }\n\n  // left/top\n  const position = {left: props.elementBBox.left, top: props.elementBBox.top};\n  let needsMove;\n  if (isFinite(newOptions.left) && newOptions.left !== position.left) {\n    position.left = newOptions.left;\n    needsMove = true;\n  }\n  if (isFinite(newOptions.top) && newOptions.top !== position.top) {\n    position.top = newOptions.top;\n    needsMove = true;\n  }\n  if (needsMove) { move(props, position); }\n\n  // Event listeners\n  ['onDrag', 'onMove', 'onMoveStart', 'onDragEnd'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n      props[option] = options[option].bind(props.ins);\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n      options[option] = props[option] = void 0;\n    }\n  });\n}\n\nclass PlainDraggable {\n  /**\n   * Create a `PlainDraggable` instance.\n   * @param {Element} element - Target element.\n   * @param {Object} [options] - Options.\n   */\n  constructor(element, options) {\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        zIndex: ZINDEX // Initial state.\n      },\n      disabled: false\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n    props.initArguments = Array.prototype.slice.call(arguments); // [DEBUG/]\n\n    if (!isElement(element) || element === body) { throw new Error('This element is not accepted.'); }\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    let gpuTrigger = true;\n      const cssPropWillChange = CSSPrefix.getName('willChange');\n      if (cssPropWillChange) { gpuTrigger = false; }\n\n      if (!options.leftTop && cssPropTransform) { // translate\n        if (cssPropWillChange) { element.style[cssPropWillChange] = 'transform'; }\n        props.initElm = initTranslate;\n        props.moveElm = moveTranslate;\n\n      } else { // left and top\n        throw new Error('`transform` is not supported.');\n      }\n\n    props.element = initAnim(element, gpuTrigger);\n    props.elementStyle = element.style;\n    props.orgZIndex = props.elementStyle.zIndex;\n    if (draggableClass) { mClassList(element).add(draggableClass); }\n    // Prepare removable event listeners for each instance.\n    props.handleMousedown = event => { mousedown(props, event); };\n    props.handleScroll = AnimEvent.add(() => { initBBox(props); });\n    props.scrollElements = [];\n\n    // Default options\n    if (!options.containment) {\n      let parent;\n      options.containment = (parent = element.parentNode) && isElement(parent) ? parent : body;\n    }\n    if (!options.handle) { options.handle = element; }\n\n    setOptions(props, options);\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainDraggable} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  position() {\n    initBBox(insProps[this._id]);\n    return this;\n  }\n\n  get disabled() {\n    return insProps[this._id].disabled;\n  }\n  set disabled(value) {\n    const props = insProps[this._id];\n    if ((value = !!value) !== props.disabled) {\n      props.disabled = value;\n      if (props.disabled) {\n        if (props === activeItem) { dragEnd(props); }\n        props.options.handle.style.cursor = props.orgCursor;\n        if (cssPropUserSelect) { props.options.handle.style[cssPropUserSelect] = props.orgUserSelect; }\n        if (draggableClass) { mClassList(props.element).remove(draggableClass); }\n      } else {\n        setDraggableCursor(props.options.handle, props.orgCursor);\n        if (cssPropUserSelect) { props.options.handle.style[cssPropUserSelect] = 'none'; }\n        if (draggableClass) { mClassList(props.element).add(draggableClass); }\n      }\n    }\n  }\n\n  get element() {\n    return insProps[this._id].element;\n  }\n\n  get rect() {\n    return copyTree(insProps[this._id].elementBBox);\n  }\n\n  get left() { return insProps[this._id].elementBBox.left; }\n  set left(value) { setOptions(insProps[this._id], {left: value}); }\n\n  get top() { return insProps[this._id].elementBBox.top; }\n  set top(value) { setOptions(insProps[this._id], {top: value}); }\n\n  get containment() {\n    const props = insProps[this._id];\n    return props.containmentIsBBox ?\n      ppBBox2OptionObject(props.options.containment) : props.options.containment;\n  }\n  set containment(value) { setOptions(insProps[this._id], {containment: value}); }\n\n\n  get handle() { return insProps[this._id].options.handle; }\n  set handle(value) { setOptions(insProps[this._id], {handle: value}); }\n\n  get zIndex() { return insProps[this._id].options.zIndex; }\n  set zIndex(value) { setOptions(insProps[this._id], {zIndex: value}); }\n\n  get onDrag() { return insProps[this._id].options.onDrag; }\n  set onDrag(value) { setOptions(insProps[this._id], {onDrag: value}); }\n\n  get onMove() { return insProps[this._id].options.onMove; }\n  set onMove(value) { setOptions(insProps[this._id], {onMove: value}); }\n\n  get onMoveStart() { return insProps[this._id].options.onMoveStart; }\n  set onMoveStart(value) { setOptions(insProps[this._id], {onMoveStart: value}); }\n\n  get onDragEnd() { return insProps[this._id].options.onDragEnd; }\n  set onDragEnd(value) { setOptions(insProps[this._id], {onDragEnd: value}); }\n\n  static get draggableCursor() {\n    return cssWantedValueDraggableCursor;\n  }\n  static set draggableCursor(value) {\n    if (cssWantedValueDraggableCursor !== value) {\n      cssWantedValueDraggableCursor = value;\n      cssValueDraggableCursor = null; // Reset\n      Object.keys(insProps).forEach(id => {\n        const props = insProps[id];\n        if (props.disabled || props === activeItem && cssValueDraggingCursor !== false) { return; }\n        setDraggableCursor(props.options.handle, props.orgCursor);\n        if (props === activeItem) { // Since cssValueDraggingCursor is `false`, copy cursor again.\n          body.style.cursor = cssOrgValueBodyCursor;\n          body.style.cursor = window.getComputedStyle(props.options.handle, '').cursor;\n        }\n      });\n    }\n  }\n\n  static get draggingCursor() {\n    return cssWantedValueDraggingCursor;\n  }\n  static set draggingCursor(value) {\n    if (cssWantedValueDraggingCursor !== value) {\n      cssWantedValueDraggingCursor = value;\n      cssValueDraggingCursor = null; // Reset\n      if (activeItem) {\n        setDraggingCursor(activeItem.options.handle);\n        if (cssValueDraggingCursor === false) {\n          setDraggableCursor(activeItem.options.handle, activeItem.orgCursor); // draggableCursor\n          body.style.cursor = cssOrgValueBodyCursor;\n        }\n        body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`\n          window.getComputedStyle(activeItem.options.handle, '').cursor;\n      }\n    }\n  }\n\n  static get draggableClass() {\n    return draggableClass;\n  }\n  static set draggableClass(value) {\n    value = value ? (value + '') : void 0;\n    if (value !== draggableClass) {\n      Object.keys(insProps).forEach(id => {\n        const props = insProps[id];\n        if (!props.disabled) {\n          const classList = mClassList(props.element);\n          if (draggableClass) { classList.remove(draggableClass); }\n          if (value) { classList.add(value); }\n        }\n      });\n      draggableClass = value;\n    }\n  }\n\n  static get draggingClass() {\n    return draggingClass;\n  }\n  static set draggingClass(value) {\n    value = value ? (value + '') : void 0;\n    if (value !== draggingClass) {\n      if (activeItem) {\n        const classList = mClassList(activeItem.element);\n        if (draggingClass) { classList.remove(draggingClass); }\n        if (value) { classList.add(value); }\n      }\n      draggingClass = value;\n    }\n  }\n\n  static get movingClass() {\n    return movingClass;\n  }\n  static set movingClass(value) {\n    value = value ? (value + '') : void 0;\n    if (value !== movingClass) {\n      if (activeItem && hasMoved) {\n        const classList = mClassList(activeItem.element);\n        if (movingClass) { classList.remove(movingClass); }\n        if (value) { classList.add(value); }\n      }\n      movingClass = value;\n    }\n  }\n}\n\ndocument.addEventListener('mousemove', AnimEvent.add(event => {\n  if (activeItem &&\n      move(activeItem, {\n        left: event.pageX + pointerOffset.left,\n        top: event.pageY + pointerOffset.top\n      },\n      activeItem.onDrag)) {\n\n    if (!hasMoved) {\n      hasMoved = true;\n      if (movingClass) { mClassList(activeItem.element).add(movingClass); }\n      if (activeItem.onMoveStart) { activeItem.onMoveStart(); }\n    }\n    if (activeItem.onMove) { activeItem.onMove(); }\n  }\n}), false);\n\ndocument.addEventListener('mouseup', () => { // It might occur outside body.\n  if (activeItem) { dragEnd(activeItem); }\n}, false);\n\n{\n  let resizing = false;\n  function initDoc() {\n    cssPropTransform = CSSPrefix.getName('transform');\n    cssOrgValueBodyCursor = body.style.cursor;\n    if ((cssPropUserSelect = CSSPrefix.getName('userSelect'))) {\n      cssOrgValueBodyUserSelect = body.style[cssPropUserSelect];\n    }\n\n    // Gecko bug, multiple calling (parallel) by `requestAnimationFrame`.\n    window.addEventListener('resize', AnimEvent.add(() => {\n      if (resizing) {\n        console.log('`resize` event listener is already running.'); // [DEBUG/]\n        return;\n      }\n      resizing = true;\n      Object.keys(insProps).forEach(id => {\n        if (insProps[id].initElm) { // Easy checking for instance without errors.\n          initBBox(insProps[id]);\n        }\n        // eslint-disable-next-line brace-style\n        else { console.log('instance may have an error:'); console.log(insProps[id]); } // [DEBUG/]\n      });\n      resizing = false;\n    }), true);\n  }\n\n  if ((body = document.body)) {\n    initDoc();\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      body = document.body;\n      initDoc();\n    }, false);\n  }\n}\n\nPlainDraggable.limit = true;\n\nexport default PlainDraggable;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/plain-draggable/src/plain-draggable.js"],"sourceRoot":""}