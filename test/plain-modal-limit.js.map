{"version":3,"sources":["webpack:///webpack/bootstrap 766aa8e84ce2fcdd3de4","webpack:///./node_modules/cssprefix/src/cssprefix.js","webpack:///./node_modules/m-class-list/src/m-class-list.js","webpack:///./src/plain-modal.js","webpack:///./node_modules/plain-overlay/src/plain-overlay.js","webpack:///./node_modules/anim-event/src/anim-event.js","webpack:///./node_modules/plain-overlay/src/default.scss","webpack:///./src/default.scss"],"names":["ucf","text","substr","toUpperCase","PREFIXES","NAME_PREFIXES","reduce","prefixes","prefix","push","VALUE_PREFIXES","map","getDeclaration","declaration","document","createElement","style","normalizeName","rePrefixedName","RegExp","join","reUc","propName","replace","str","p1","test","toLowerCase","normalizeValue","rePrefixedValue","propValue","cssSupports","setProperty","getPropertyValue","propNames","propValues","window","getName","getNameDone","ucfName","some","prefixed","getValue","res","Array","isArray","getValueDone","CSSPrefix","normalize","token","trim","applyList","list","element","setAttribute","add","tokens","filter","indexOf","length","remove","i","splice","toggle","force","newToken","mClassList","ignoreNative","classList","getAttribute","split","ins","item","contains","prototype","slice","call","arguments","methodChain","APP_ID","STYLE_ELEMENT_ID","STYLE_CLASS","STYLE_CLASS_CONTENT","STYLE_CLASS_OVERLAY","STYLE_CLASS_OVERLAY_HIDE","STYLE_CLASS_OVERLAY_FORCE","STATE_CLOSED","STATE_OPENING","STATE_OPENED","STATE_CLOSING","STATE_INACTIVATING","STATE_INACTIVATED","STATE_ACTIVATING","DURATION","IS_TRIDENT","uniqueID","IS_EDGE","documentElement","navigator","msPointerEnabled","isObject","toString","fnToString","hasOwnProperty","objFnString","Object","proto","constr","obj","getPrototypeOf","constructor","insProps","shownProps","insId","openCloseEffectProps","escKey","traceLog","STATE_TEXT","forceReflow","target","setTimeout","parent","parentNode","next","nextSibling","insertBefore","removeChild","isElement","nodeType","Node","ELEMENT_NODE","getBoundingClientRect","compareDocumentPosition","DOCUMENT_POSITION_DISCONNECTED","finishOpening","props","_id","state","switchDraggable","parentProps","options","onOpen","finishClosing","Error","pop","onClose","execOpening","elmOverlay","duration","plainOverlay","show","execClosing","sync","hide","fixOpenClose","open","onBeforeOpen","close","onBeforeClose","topProps","setOptions","newOptions","closeButton","removeEventListener","handleClose","addEventListener","blur","overlayBlur","forEach","option","PlainModal","content","dragHandle","defineProperty","value","ownerDocument","defaultView","elmContent","getElementById","head","getElementsByTagName","sheet","firstChild","type","id","textContent","face","onShow","onHide","elmPlainOverlayBody","parentElement","appendChild","className","limit","STYLE_CLASS_DOC","STYLE_CLASS_SHOW","STYLE_CLASS_HIDE","STYLE_CLASS_FORCE","STYLE_CLASS_BODY","FACE_DEFS_ELEMENT_ID","STATE_HIDDEN","STATE_SHOWING","STATE_SHOWN","STATE_HIDING","TOLERANCE","IS_WEBKIT","chrome","IS_BLINK","webstore","IS_GECKO","isFinite","Number","setStyle","styleProps","savedStyleProps","keys","prop","restoreStyle","getBBox","rect","bBox","left","top","right","bottom","width","height","pageXOffset","pageYOffset","scrollLeft","isDoc","scrollTo","scrollTop","resizeTarget","elmTargetBody","Math","abs","targetBodyCmpStyle","getComputedStyle","boxSizing","includeProps","PROP_NAMES","border","padding","values","dir","part","parseFloat","savedStyleTargetBody","fixStyle","console","warn","getDocClientWH","elmTarget","clientWidth","clientHeight","wMode","writingMode","direction","restoreScroll","scrollElement","error","log","savedElementsScroll","elementScroll","restoreAccKeys","savedElementsAccKeys","elementAccKeys","tabIndex","removeAttribute","accessKey","avoidFocus","body","DOCUMENT_POSITION_CONTAINED_BY","focus","selContainsNode","selection","node","partialContainment","nodeRange","createRange","iLen","rangeCount","selectNodeContents","selRange","getRangeAt","setStart","anchorNode","anchorOffset","setEnd","focusNode","focusOffset","compareBoundaryPoints","Range","START_TO_END","END_TO_START","START_TO_START","END_TO_END","nodeContainsSel","selectNode","avoidSelect","getSelection","elmOverlayBody","containsNode","removeAllRanges","barLeft","svgSpec","barTop","disableDocBars","targetBodyRect","clientWH","barV","barH","overflow","savedStyleTarget","propV","propH","addStyle","position","targetBodyBBox","overlayCmpStyle","overlayBBox","borders","offset","reValue","hBorder","vBorder","corner","h","v","matches","exec","getTargetElements","targetElements","childNodes","childNode","apply","querySelectorAll","finishShowing","filterElements","savedStyle","filterElement","finishHiding","activeElement","restoreAndFinish","getScroll","elements","fromDoc","elementCanScroll","cmpStyle","tagName","nodeName","overflowX","overflowY","elementsScroll","disableAccKeys","hasAttribute","onBeforeShow","elmOverlayClassList","display","disabledDocBars","offsetWidth","onPosition","onBeforeHide","scroll","dirLeft","curValue","find","found","PlainOverlay","getTarget","validElement","DOCUMENT_NODE","contentDocument","elmDocument","listener","event","propertyName","preventDefault","stopImmediatePropagation","resizing","lastBBox","MSPF","KEEP_LOOP","tasks","requestAnim","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","cancelAnim","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","requestID","lastFrameTime","Date","now","requestAnimSave","cancelAnimSave","AnimEventByTimer","byTimer","step","called","task","indexOfTasks","index","AnimEvent","iRemove"],"mappings":"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","file":"plain-modal-limit.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 766aa8e84ce2fcdd3de4","/*\n * CSSPrefix\n * https://github.com/anseki/cssprefix\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nfunction ucf(text) { return text.substr(0, 1).toUpperCase() + text.substr(1); }\n\nconst PREFIXES = ['webkit', 'ms', 'moz', 'o'],\n  NAME_PREFIXES = PREFIXES.reduce((prefixes, prefix) => {\n    prefixes.push(prefix);\n    prefixes.push(ucf(prefix));\n    return prefixes;\n  }, []),\n  VALUE_PREFIXES = PREFIXES.map(prefix => `-${prefix}-`),\n\n  /**\n   * Get sample CSSStyleDeclaration.\n   * @returns {CSSStyleDeclaration}\n   */\n  getDeclaration = (() => {\n    let declaration;\n    return () => (declaration = declaration || document.createElement('div').style);\n  })(),\n\n  /**\n   * Normalize name.\n   * @param {} propName - A name that is normalized.\n   * @returns {string} - A normalized name.\n   */\n  normalizeName = (() => {\n    const rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),\n      reUc = /[A-Z]/;\n    return propName => (propName = (propName + '').replace(/\\s/g, '')\n      .replace(/-([\\da-z])/gi, (str, p1) => p1.toUpperCase()) // camelCase\n      // 'ms' and 'Ms' are found by rePrefixedName 'i' option\n      .replace(rePrefixedName, (str, p1) => reUc.test(p1) ? p1.toLowerCase() : str) // Remove prefix\n    ).toLowerCase() === 'float' ? 'cssFloat' : propName; // For old CSSOM\n  })(),\n\n  /**\n   * Normalize value.\n   * @param {} propValue - A value that is normalized.\n   * @returns {string} - A normalized value.\n   */\n  normalizeValue = (() => {\n    const rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');\n    return propValue => (propValue + '').replace(/\\s/g, '').replace(rePrefixedValue, '');\n  })(),\n\n  /**\n   * Polyfill for `CSS.supports`.\n   * @param {string} propName - A name.\n   * @param {string} propValue - A value.\n   * @returns {boolean} - `true` if given pair is accepted.\n   */\n  cssSupports = (() => {\n    // return window.CSS && window.CSS.supports || ((propName, propValue) => {\n    // `CSS.supports` doesn't find prefixed property.\n    return ((propName, propValue) => {\n      const declaration = getDeclaration();\n      // In some browsers, `declaration[prop] = value` updates any property.\n      propName = propName.replace(/[A-Z]/g, str => `-${str.toLowerCase()}`); // kebab-case\n      declaration.setProperty(propName, propValue);\n      return declaration.getPropertyValue(propName) === propValue;\n    });\n  })(),\n\n  propNames = {}, propValues = {}; // Cache\n\n// [DEBUG]\nwindow.normalizeName = normalizeName;\nwindow.normalizeValue = normalizeValue;\nwindow.cssSupports = cssSupports;\n// [/DEBUG]\n\nfunction getName(propName) {\n  propName = normalizeName(propName);\n  if (propName && propNames[propName] == null) {\n    window.getNameDone = 'get'; // [DEBUG/]\n    const declaration = getDeclaration();\n\n    if (declaration[propName] != null) { // Original\n      propNames[propName] = propName;\n\n    } else { // Try with prefixes\n      const ucfName = ucf(propName);\n      if (!NAME_PREFIXES.some(prefix => {\n        const prefixed = prefix + ucfName;\n        if (declaration[prefixed] != null) {\n          propNames[propName] = prefixed;\n          return true;\n        }\n        return false;\n      })) {\n        propNames[propName] = false;\n      }\n    }\n\n  }\n  return propNames[propName] || void 0;\n}\n\nfunction getValue(propName, propValue) {\n  let res;\n\n  if (!(propName = getName(propName))) { return res; } // Invalid property\n\n  propValues[propName] = propValues[propName] || {};\n  (Array.isArray(propValue) ? propValue : [propValue]).some(propValue => {\n    propValue = normalizeValue(propValue);\n    (window.getValueDone = window.getValueDone || []).push(propValue); // [DEBUG/]\n\n    if (propValues[propName][propValue] != null) { // Cache\n      if (propValues[propName][propValue] !== false) {\n        res = propValues[propName][propValue];\n        return true;\n      } else {\n        return false; // Continue to next value\n      }\n    }\n    window.getValueDone.push('get'); // [DEBUG/]\n\n    if (cssSupports(propName, propValue)) { // Original\n      res = propValues[propName][propValue] = propValue;\n      return true;\n    }\n\n    if (VALUE_PREFIXES.some(prefix => { // Try with prefixes\n      const prefixed = prefix + propValue;\n      if (cssSupports(propName, prefixed)) {\n        res = propValues[propName][propValue] = prefixed;\n        return true;\n      }\n      return false;\n    })) {\n      return true;\n    }\n\n    propValues[propName][propValue] = false;\n    return false; // Continue to next value\n  });\n\n  return typeof res === 'string' ? res : void 0; // It might be empty string.\n}\n\nconst CSSPrefix = {\n  getName: getName,\n  getValue: getValue\n};\n\nexport default CSSPrefix;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/cssprefix/src/cssprefix.js","/*\n * mClassList\n * https://github.com/anseki/m-class-list\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nfunction normalize(token) { return (token + '').trim(); } // Not `||`\nfunction applyList(list, element) { element.setAttribute('class', list.join(' ')); }\n\nfunction add(list, element, tokens) {\n  if (tokens.filter(token => {\n    if (!(token = normalize(token)) || list.indexOf(token) !== -1) { return false; }\n    list.push(token);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction remove(list, element, tokens) {\n  if (tokens.filter(token => {\n    let i;\n    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) { return false; }\n    list.splice(i, 1);\n    return true;\n  }).length) {\n    applyList(list, element);\n  }\n}\n\nfunction toggle(list, element, token, force) {\n  const i = list.indexOf((token = normalize(token)));\n  if (i !== -1) {\n    if (force) { return true; }\n    list.splice(i, 1);\n    applyList(list, element);\n    return false;\n  } else {\n    if (force === false) { return false; }\n    list.push(token);\n    applyList(list, element);\n    return true;\n  }\n}\n\nfunction replace(list, element, token, newToken) {\n  let i;\n  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) ||\n    token === newToken || (i = list.indexOf(token)) === -1) { return; }\n  list.splice(i, 1);\n  if (list.indexOf(newToken) === -1) { list.push(newToken); }\n  applyList(list, element);\n}\n\nfunction mClassList(element) {\n  return !mClassList.ignoreNative && element.classList || (() => {\n    const list = (element.getAttribute('class') || '').trim().split(/\\s+/).filter(token => !!token),\n      ins = {\n        length: list.length,\n        item: i => list[i],\n        contains: token => list.indexOf(normalize(token)) !== -1,\n        add: function() {\n          add(list, element, Array.prototype.slice.call(arguments));\n          return mClassList.methodChain ? ins : void 0;\n        },\n        remove: function() {\n          remove(list, element, Array.prototype.slice.call(arguments));\n          return mClassList.methodChain ? ins : void 0;\n        },\n        toggle: (token, force) => toggle(list, element, token, force),\n        replace: (token, newToken) => {\n          replace(list, element, token, newToken);\n          return mClassList.methodChain ? ins : void 0;\n        }\n      };\n    return ins;\n  })();\n}\nmClassList.methodChain = true;\n\nexport default mClassList;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/m-class-list/src/m-class-list.js","/*\n * PlainModal\n * https://anseki.github.io/plain-modal/\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport mClassList from 'm-class-list';\nimport PlainOverlay from 'plain-overlay';\nimport CSS_TEXT from './default.scss';\nmClassList.ignoreNative = true;\n\nconst\n  APP_ID = 'plainmodal',\n  STYLE_ELEMENT_ID = `${APP_ID}-style`,\n  STYLE_CLASS = APP_ID,\n  STYLE_CLASS_CONTENT = `${APP_ID}-content`,\n  STYLE_CLASS_OVERLAY = `${APP_ID}-overlay`,\n  STYLE_CLASS_OVERLAY_HIDE = `${STYLE_CLASS_OVERLAY}-hide`,\n  STYLE_CLASS_OVERLAY_FORCE = `${STYLE_CLASS_OVERLAY}-force`,\n\n  STATE_CLOSED = 0, STATE_OPENING = 1, STATE_OPENED = 2, STATE_CLOSING = 3,\n  STATE_INACTIVATING = 4, STATE_INACTIVATED = 5, STATE_ACTIVATING = 6,\n  DURATION = 200, // COPY from PlainOverlay\n\n  IS_TRIDENT = !!document.uniqueID,\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Element} elmContent - Content element.\n   * @property {Element} elmOverlay - Overlay element. (Not PlainOverlay)\n   * @property {PlainOverlay} plainOverlay - PlainOverlay instance.\n   * @property {PlainDraggable} plainDraggable - PlainDraggable instance.\n   * @property {number} state - Current state.\n   * @property {Object} options - Options.\n   * @property {props} parentProps - props that is effected with current props.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {},\n\n  /**\n   * A `props` list, it have a `state` other than `STATE_CLOSED`.\n   * A `props` is pushed to the end of this array, `shownProps[shownProps.length - 1]` can be active.\n   * @type {Array.<props>}\n   */\n  shownProps = [];\n\nlet insId = 0,\n  openCloseEffectProps, // A `props` that is running the \"open/close\" effect now.\n  escKey = true;\n\n// [DEBUG]\nwindow.insProps = insProps;\n// [/DEBUG]\n\n// [DEBUG]\nconst traceLog = [];\nconst STATE_TEXT = {};\nSTATE_TEXT[STATE_CLOSED] = 'STATE_CLOSED';\nSTATE_TEXT[STATE_OPENING] = 'STATE_OPENING';\nSTATE_TEXT[STATE_OPENED] = 'STATE_OPENED';\nSTATE_TEXT[STATE_CLOSING] = 'STATE_CLOSING';\nSTATE_TEXT[STATE_INACTIVATING] = 'STATE_INACTIVATING';\nSTATE_TEXT[STATE_INACTIVATED] = 'STATE_INACTIVATED';\nSTATE_TEXT[STATE_ACTIVATING] = 'STATE_ACTIVATING';\n// [/DEBUG]\n\nfunction forceReflow(target) {\n  // Trident and Blink bug (reflow like `offsetWidth` can't update)\n  setTimeout(() => {\n    const parent = target.parentNode, next = target.nextSibling;\n    // It has to be removed first for Blink.\n    parent.insertBefore(parent.removeChild(target), next);\n  }, 0);\n}\n\n/**\n * @param {Element} element - A target element.\n * @returns {boolean} `true` if connected element.\n */\nfunction isElement(element) {\n  return !!(element &&\n    element.nodeType === Node.ELEMENT_NODE &&\n    // element instanceof HTMLElement &&\n    typeof element.getBoundingClientRect === 'function' &&\n    !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));\n}\n\n\nfunction finishOpening(props) {\n  traceLog.push('<finishOpening>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  openCloseEffectProps = null;\n  props.state = STATE_OPENED;\n  switchDraggable(props);\n  if (props.parentProps) {\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    props.parentProps.state = STATE_INACTIVATED;\n  }\n  if (props.options.onOpen) { props.options.onOpen.call(props.ins); }\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</finishOpening>'); // [DEBUG/]\n}\n\nfunction finishClosing(props) {\n  traceLog.push('<finishClosing>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (shownProps[shownProps.length - 1] !== props) { throw new Error('`shownProps` is broken.'); } // [DEBUG/]\n  shownProps.pop();\n  openCloseEffectProps = null;\n  props.state = STATE_CLOSED;\n  if (props.parentProps) {\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    props.parentProps.state = STATE_OPENED;\n    switchDraggable(props.parentProps);\n    props.parentProps = null;\n  }\n  if (props.options.onClose) { props.options.onClose.call(props.ins); }\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</finishClosing>'); // [DEBUG/]\n}\n\n/**\n * Process after preparing data and adjusting style.\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction execOpening(props, force) {\n  traceLog.push('<execOpening>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  traceLog.push(`force:${!!force}`); // [DEBUG/]\n  if (props.parentProps) { // inactivate parentProps\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    /*\n      Cases:\n        - STATE_OPENED or STATE_ACTIVATING, regardless of force\n        - STATE_INACTIVATING and force\n    */\n    const parentProps = props.parentProps, elmOverlay = parentProps.elmOverlay;\n    if (parentProps.state === STATE_OPENED) {\n      elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n        props.options.duration === DURATION ? '' : `${props.options.duration}ms`;\n    }\n    mClassList(elmOverlay).add(STYLE_CLASS_OVERLAY_HIDE).toggle(STYLE_CLASS_OVERLAY_FORCE, !!force);\n    // Update `state` regardless of force, for switchDraggable.\n    parentProps.state = STATE_INACTIVATING;\n    switchDraggable(parentProps);\n  }\n\n  // When `force`, `props.state` is updated immediately in\n  //    plainOverlay.onShow -> finishOpening -> STATE_OPENED\n  if (!force) { props.state = STATE_OPENING; }\n  props.plainOverlay.show(force);\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</execOpening>'); // [DEBUG/]\n}\n\n/**\n * Process after preparing data and adjusting style.\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @param {boolean} [sync] - `force` with sync-mode. (Skip restoring active element)\n * @returns {void}\n */\nfunction execClosing(props, force, sync) {\n  traceLog.push('<execClosing>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  traceLog.push(`force:${!!force}`, `sync:${!!sync}`); // [DEBUG/]\n  if (props.parentProps) { // activate parentProps\n    // [DEBUG]\n    traceLog.push(`parentProps._id:${props.parentProps._id}`,\n      `parentProps.state:${STATE_TEXT[props.parentProps.state]}`);\n    // [/DEBUG]\n    /*\n      Cases:\n        - STATE_INACTIVATED or STATE_INACTIVATING, regardless of `force`\n        - STATE_ACTIVATING and `force`\n    */\n    const parentProps = props.parentProps, elmOverlay = parentProps.elmOverlay;\n    if (parentProps.state === STATE_INACTIVATED) {\n      elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n        props.options.duration === DURATION ? '' : `${props.options.duration}ms`;\n    }\n    mClassList(elmOverlay).remove(STYLE_CLASS_OVERLAY_HIDE).toggle(STYLE_CLASS_OVERLAY_FORCE, !!force);\n    // same condition as props\n    parentProps.state = STATE_ACTIVATING;\n  }\n\n  // Even when `force`, `props.state` is updated with \"async\" (if !sync),\n  // something might run before `props.state` is updated in\n  //    (setTimeout ->) plainOverlay.onHide -> finishClosing -> STATE_CLOSED\n  props.state = STATE_CLOSING;\n  switchDraggable(props);\n  props.plainOverlay.hide(force, sync);\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</execClosing>'); // [DEBUG/]\n}\n\n/**\n * Finish the \"open/close\" effect immediately with sync-mode.\n * @param {props} props - `props` of instance.\n * @returns {void}\n */\nfunction fixOpenClose(props) {\n  traceLog.push('<fixOpenClose>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.state === STATE_OPENING) {\n    execOpening(props, true);\n  } else if (props.state === STATE_CLOSING) {\n    execClosing(props, true, true);\n  }\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</fixOpenClose>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction open(props, force) {\n  traceLog.push('<open>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.state !== STATE_CLOSED &&\n        props.state !== STATE_CLOSING && props.state !== STATE_OPENING ||\n      props.state === STATE_OPENING && !force ||\n      props.state !== STATE_OPENING &&\n        props.options.onBeforeOpen && props.options.onBeforeOpen.call(props.ins) === false) {\n    traceLog.push('cancel', '</open>'); // [DEBUG/]\n    return;\n  }\n  /*\n    Cases:\n      - STATE_CLOSED or STATE_CLOSING, regardless of `force`\n      - STATE_OPENING and `force`\n  */\n\n  if (props.state === STATE_CLOSED) {\n    traceLog.push(`openCloseEffectProps:${openCloseEffectProps ? openCloseEffectProps._id : 'NONE'}`); // [DEBUG/]\n    if (openCloseEffectProps) { fixOpenClose(openCloseEffectProps); }\n    openCloseEffectProps = props;\n\n    if (shownProps.length) {\n      if (shownProps.indexOf(props) !== -1) { throw new Error('`shownProps` is broken.'); } // [DEBUG/]\n      props.parentProps = shownProps[shownProps.length - 1];\n      traceLog.push(`parentProps:${props.parentProps._id}`); // [DEBUG/]\n    }\n    shownProps.push(props);\n\n    mClassList(props.elmOverlay).add(STYLE_CLASS_OVERLAY_FORCE).remove(STYLE_CLASS_OVERLAY_HIDE);\n  }\n\n  execOpening(props, force);\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</open>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction close(props, force) {\n  traceLog.push('<close>', `_id:${props._id}`, `state:${STATE_TEXT[props.state]}`); // [DEBUG/]\n  if (props.state === STATE_CLOSED ||\n      props.state === STATE_CLOSING && !force ||\n      props.state !== STATE_CLOSING &&\n        props.options.onBeforeClose && props.options.onBeforeClose.call(props.ins) === false) {\n    traceLog.push('cancel', '</close>'); // [DEBUG/]\n    return;\n  }\n  /*\n    Cases:\n      - Other than STATE_CLOSED and STATE_CLOSING, regardless of `force`\n      - STATE_CLOSING and `force`\n  */\n\n  traceLog.push(`openCloseEffectProps:${openCloseEffectProps ? openCloseEffectProps._id : 'NONE'}`); // [DEBUG/]\n  if (openCloseEffectProps && openCloseEffectProps !== props) {\n    fixOpenClose(openCloseEffectProps);\n    openCloseEffectProps = null;\n  }\n  /*\n    Cases:\n      - STATE_OPENED, STATE_OPENING or STATE_INACTIVATED, regardless of `force`\n      - STATE_CLOSING and `force`\n  */\n  if (props.state === STATE_INACTIVATED) { // -> STATE_OPENED\n    // [DEBUG]\n    const i = shownProps.indexOf(props);\n    if (i === -1 || i === shownProps.length - 1) { throw new Error('`shownProps` is broken.'); }\n    // [/DEBUG]\n    let topProps;\n    while ((topProps = shownProps[shownProps.length - 1]) !== props) {\n      if (topProps.state !== STATE_OPENED) { throw new Error('`shownProps` is broken.'); } // [DEBUG/]\n      // [DEBUG]\n      traceLog.push(`topProps._id:${topProps._id}`,\n        `topProps.state:${STATE_TEXT[topProps.state]}`);\n      // [/DEBUG]\n      execClosing(topProps, true, true);\n    }\n  }\n  /*\n    Cases:\n      - STATE_OPENED or STATE_OPENING, regardless of `force`\n      - STATE_CLOSING and `force`\n  */\n\n  if (props.state === STATE_OPENED) {\n    if (openCloseEffectProps) { throw new Error('`openCloseEffectProps` is broken.'); } // [DEBUG/]\n    openCloseEffectProps = props;\n  }\n\n  execClosing(props, force);\n  traceLog.push(`_id:${props._id}`, `state:${STATE_TEXT[props.state]}`, '</close>'); // [DEBUG/]\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options, plainOverlay = props.plainOverlay;\n\n  // closeButton\n  if (newOptions.hasOwnProperty('closeButton') &&\n      (newOptions.closeButton = isElement(newOptions.closeButton) ? newOptions.closeButton :\n        newOptions.closeButton == null ? void 0 : false) !== false &&\n      newOptions.closeButton !== options.closeButton) {\n    if (options.closeButton) { // Remove\n      options.closeButton.removeEventListener('click', props.handleClose, false);\n    }\n    options.closeButton = newOptions.closeButton;\n    if (options.closeButton) { // Add\n      options.closeButton.addEventListener('click', props.handleClose, false);\n    }\n  }\n\n  // duration\n  // Check by PlainOverlay\n  plainOverlay.duration = newOptions.duration;\n  options.duration = plainOverlay.duration;\n\n  // overlayBlur\n  // Check by PlainOverlay\n  plainOverlay.blur = newOptions.overlayBlur;\n  options.overlayBlur = plainOverlay.blur;\n\n\n  // Event listeners\n  ['onOpen', 'onClose', 'onBeforeOpen', 'onBeforeClose'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n      options[option] = void 0;\n    }\n  });\n}\n\nclass PlainModal {\n  /**\n   * Create a `PlainModal` instance.\n   * @param {Element} content - An element that is shown as the content of the modal window.\n   * @param {Object} [options] - Options.\n   */\n  constructor(content, options) {\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        closeButton: void 0,\n        duration: DURATION,\n        overlayBlur: false,\n        dragHandle: void 0,\n      },\n      state: STATE_CLOSED\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (!content.nodeType || content.nodeType !== Node.ELEMENT_NODE ||\n        content.ownerDocument.defaultView !== window) {\n      throw new Error('This `content` is not accepted.');\n    }\n    props.elmContent = content;\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    // Setup window\n    if (!document.getElementById(STYLE_ELEMENT_ID)) {\n      const head = document.getElementsByTagName('head')[0] || document.documentElement,\n        sheet = head.insertBefore(document.createElement('style'), head.firstChild);\n      sheet.type = 'text/css';\n      sheet.id = STYLE_ELEMENT_ID;\n      sheet.textContent = CSS_TEXT;\n      if (IS_TRIDENT || IS_EDGE) { forceReflow(sheet); } // Trident bug\n    }\n\n    mClassList(content).add(STYLE_CLASS_CONTENT);\n    // Overlay\n    props.plainOverlay = new PlainOverlay({\n      face: content,\n      onShow: function() { finishOpening(props); },\n      onHide: function() { finishClosing(props); }\n    });\n    const elmPlainOverlayBody = content.parentElement; // elmOverlayBody of PlainOverlay\n    mClassList(elmPlainOverlayBody.parentElement).add(STYLE_CLASS); // elmOverlay of PlainOverlay\n\n    // elmOverlay (own overlay)\n    (props.elmOverlay = elmPlainOverlayBody.appendChild(document.createElement('div')))\n      .className = STYLE_CLASS_OVERLAY;\n\n    // Prepare removable event listeners for each instance.\n    props.handleClose = () => { close(props); };\n\n    setOptions(props, options);\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainModal} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Open the modal window.\n   * @param {boolean} [force] - Show it immediately without effect.\n   * @param {Object} [options] - New options.\n   * @returns {PlainModal} Current instance itself.\n   */\n  open(force, options) {\n    if (arguments.length < 2 && typeof force !== 'boolean') {\n      options = force;\n      force = false;\n    }\n\n    this.setOptions(options);\n    open(insProps[this._id], force);\n    return this;\n  }\n\n  /**\n   * Close the modal window.\n   * @param {boolean} [force] - Close it immediately without effect.\n   * @returns {PlainModal} Current instance itself.\n   */\n  close(force) {\n    close(insProps[this._id], force);\n    return this;\n  }\n\n  get state() {\n    return insProps[this._id].state;\n  }\n\n  get closeButton() { return insProps[this._id].options.closeButton; }\n  set closeButton(value) { setOptions(insProps[this._id], {closeButton: value}); }\n\n  get duration() { return insProps[this._id].options.duration; }\n  set duration(value) { setOptions(insProps[this._id], {duration: value}); }\n\n  get overlayBlur() { return insProps[this._id].options.overlayBlur; }\n  set overlayBlur(value) { setOptions(insProps[this._id], {overlayBlur: value}); }\n\n\n  get onOpen() { return insProps[this._id].options.onOpen; }\n  set onOpen(value) { setOptions(insProps[this._id], {onOpen: value}); }\n\n  get onClose() { return insProps[this._id].options.onClose; }\n  set onClose(value) { setOptions(insProps[this._id], {onClose: value}); }\n\n  get onBeforeOpen() { return insProps[this._id].options.onBeforeOpen; }\n  set onBeforeOpen(value) { setOptions(insProps[this._id], {onBeforeOpen: value}); }\n\n  get onBeforeClose() { return insProps[this._id].options.onBeforeClose; }\n  set onBeforeClose(value) { setOptions(insProps[this._id], {onBeforeClose: value}); }\n\n  static get escKey() { return escKey; }\n  static set escKey(value) { if (typeof value === 'boolean') { escKey = value; } }\n\n  static get STATE_CLOSED() { return STATE_CLOSED; }\n  static get STATE_OPENING() { return STATE_OPENING; }\n  static get STATE_OPENED() { return STATE_OPENED; }\n  static get STATE_CLOSING() { return STATE_CLOSING; }\n  static get STATE_INACTIVATING() { return STATE_INACTIVATING; }\n  static get STATE_INACTIVATED() { return STATE_INACTIVATED; }\n  static get STATE_ACTIVATING() { return STATE_ACTIVATING; }\n}\n\nPlainModal.limit = true;\n\n// [DEBUG]\nPlainModal.traceLog = traceLog;\nPlainModal.STATE_TEXT = STATE_TEXT;\n// [/DEBUG]\n\nexport default PlainModal;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plain-modal.js","/*\n * PlainOverlay\n * https://anseki.github.io/plain-overlay/\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nimport CSSPrefix from 'cssprefix';\nimport AnimEvent from 'anim-event';\nimport mClassList from 'm-class-list';\nimport CSS_TEXT from './default.scss';\nmClassList.ignoreNative = true;\n\nconst\n  APP_ID = 'plainoverlay',\n  STYLE_ELEMENT_ID = `${APP_ID}-style`,\n  STYLE_CLASS = APP_ID,\n  STYLE_CLASS_DOC = `${APP_ID}-doc`,\n  STYLE_CLASS_SHOW = `${APP_ID}-show`,\n  STYLE_CLASS_HIDE = `${APP_ID}-hide`,\n  STYLE_CLASS_FORCE = `${APP_ID}-force`,\n  STYLE_CLASS_BODY = `${APP_ID}-body`,\n  FACE_DEFS_ELEMENT_ID = `${APP_ID}-builtin-face-defs`,\n\n  STATE_HIDDEN = 0, STATE_SHOWING = 1, STATE_SHOWN = 2, STATE_HIDING = 3,\n  // DURATION = 2500, // COPY: default.scss\n  DURATION = 200, // COPY: default.scss\n  TOLERANCE = 0.5,\n\n  IS_TRIDENT = !!document.uniqueID,\n  IS_EDGE = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,\n  IS_WEBKIT = !window.chrome && 'WebkitAppearance' in document.documentElement.style, // [DEBUG/]\n  IS_BLINK = !!(window.chrome && window.chrome.webstore), // [DEBUG/]\n  IS_GECKO = 'MozAppearance' in document.documentElement.style, // [DEBUG/]\n\n  isObject = (() => {\n    const toString = {}.toString, fnToString = {}.hasOwnProperty.toString,\n      objFnString = fnToString.call(Object);\n    return obj => {\n      let proto, constr;\n      return obj && toString.call(obj) === '[object Object]' &&\n        (!(proto = Object.getPrototypeOf(obj)) ||\n          (constr = proto.hasOwnProperty('constructor') && proto.constructor) &&\n          typeof constr === 'function' && fnToString.call(constr) === objFnString);\n    };\n  })(),\n  isFinite = Number.isFinite || (value => typeof value === 'number' && window.isFinite(value)),\n\n  /**\n   * An object that has properties of instance.\n   * @typedef {Object} props\n   * @property {Element} elmTarget - Target element.\n   * @property {Element} elmTargetBody - Target body element.\n   * @property {Element} elmOverlay - Overlay element.\n   * @property {Element} elmOverlayBody - Overlay body element.\n   * @property {boolean} isDoc - `true` if target is document.\n   * @property {Window} window - Window that conatins target element.\n   * @property {HTMLDocument} document - Document that conatins target element.\n   * @property {number} state - Current state.\n   * @property {Object} options - Options.\n   */\n\n  /** @type {Object.<_id: number, props>} */\n  insProps = {};\n\nlet insId = 0;\n\n// [DEBUG]\nwindow.insProps = insProps;\nwindow.IS_TRIDENT = IS_TRIDENT;\nwindow.IS_EDGE = IS_EDGE;\nwindow.IS_WEBKIT = IS_WEBKIT;\nwindow.IS_BLINK = IS_BLINK;\nwindow.IS_GECKO = IS_GECKO;\n// [/DEBUG]\n\nfunction forceReflow(target) {\n  // Trident and Blink bug (reflow like `offsetWidth` can't update)\n  setTimeout(() => {\n    const parent = target.parentNode, next = target.nextSibling;\n    // It has to be removed first for Blink.\n    parent.insertBefore(parent.removeChild(target), next);\n  }, 0);\n}\nwindow.forceReflow = forceReflow; // [DEBUG/]\n\n/**\n * Set style properties while saving current properties.\n * @param {Element} element - Target element.\n * @param {Object} styleProps - New style properties.\n * @param {(Object|null)} savedStyleProps - Current style properties holder.\n * @param {Array} [propNames] - Names of target properties.\n * @returns {Element} Target element itself.\n */\nfunction setStyle(element, styleProps, savedStyleProps, propNames) {\n  const style = element.style;\n  (propNames || Object.keys(styleProps)).forEach(prop => {\n    if (styleProps[prop] != null) {\n      if (savedStyleProps && savedStyleProps[prop] == null) {\n        savedStyleProps[prop] = style[prop];\n      }\n      style[prop] = styleProps[prop];\n      styleProps[prop] = null;\n    }\n  });\n  return element;\n}\n\n/**\n * Restore saved style properties.\n * @param {Element} element - Target element.\n * @param {Object} savedStyleProps - Saved style properties.\n * @param {Array} [propNames] - Names of properties that is restored.\n * @returns {Element} Target element itself.\n */\nfunction restoreStyle(element, savedStyleProps, propNames) {\n  return setStyle(element, savedStyleProps, null, propNames);\n}\n\n/**\n * An object that simulates `DOMRect` to indicate a bounding-box.\n * @typedef {Object} BBox\n * @property {(number|null)} left - document coordinate\n * @property {(number|null)} top - document coordinate\n * @property {(number|null)} right - document coordinate\n * @property {(number|null)} bottom - document coordinate\n * @property {(number|null)} width\n * @property {(number|null)} height\n */\n\n/**\n * Get an element's bounding-box that contains coordinates relative to the element's document or window.\n * @param {Element} element - Target element.\n * @param {Window} [window] - Whether it's relative to the element's window, or document.\n * @returns {(BBox|null)} A bounding-box or null when failed.\n */\nfunction getBBox(element, window) {\n  const rect = element.getBoundingClientRect(),\n    bBox = {left: rect.left, top: rect.top,\n      right: rect.right, bottom: rect.bottom, width: rect.width, height: rect.height};\n  if (window) {\n    bBox.left += window.pageXOffset;\n    bBox.right += window.pageXOffset;\n    bBox.top += window.pageYOffset;\n    bBox.bottom += window.pageYOffset;\n  }\n  return bBox;\n}\nwindow.getBBox = getBBox; // [DEBUG/]\n\nfunction scrollLeft(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(value, target.pageYOffset); }\n    return target.pageXOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollLeft = value; }\n    return target.scrollLeft;\n  }\n}\nwindow.scrollLeft = scrollLeft; // [DEBUG/]\n\nfunction scrollTop(element, isDoc, window, value) {\n  if (isDoc) {\n    const target = window;\n    if (value != null) { target.scrollTo(target.pageXOffset, value); }\n    return target.pageYOffset;\n  } else {\n    const target = element;\n    if (value != null) { target.scrollTop = value; }\n    return target.scrollTop;\n  }\n}\nwindow.scrollTop = scrollTop; // [DEBUG/]\n\nfunction resizeTarget(props, width, height) {\n  const elmTargetBody = props.elmTargetBody;\n\n  let rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) < TOLERANCE &&\n      Math.abs(rect.height - height) < TOLERANCE) { return; }\n\n  const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n    boxSizing = targetBodyCmpStyle.boxSizing,\n    includeProps = boxSizing === 'border-box' ? [] :\n      boxSizing === 'padding-box' ? ['border'] : ['border', 'padding'], // content-box\n\n    PROP_NAMES = {\n      border: {\n        width: ['borderLeftWidth', 'borderRightWidth'],\n        height: ['borderTopWidth', 'borderBottomWidth']\n      },\n      padding: {\n        width: ['paddingLeft', 'paddingRight'],\n        height: ['paddingTop', 'paddingBottom']\n      }\n    },\n\n    values = ['width', 'height'].reduce((values, dir) => {\n      includeProps.forEach(part => {\n        PROP_NAMES[part][dir].forEach(propName => {\n          values[dir] -= parseFloat(targetBodyCmpStyle[propName]);\n        });\n      });\n      return values;\n    }, {width: width, height: height});\n\n  // Since the `width` and `height` might change each other, fix both.\n  setStyle(elmTargetBody, {\n    // The value might be negative number when size is too small.\n    width: values.width > 0 ? `${values.width}px` : 0,\n    height: values.height > 0 ? `${values.height}px` : 0\n  }, props.savedStyleTargetBody);\n\n  // In some browsers, getComputedStyle might return computed values that is not px instead of used values.\n  const fixStyle = {};\n  rect = elmTargetBody.getBoundingClientRect();\n  if (Math.abs(rect.width - width) >= TOLERANCE) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect width: ${rect.width}` +\n      ` (expected: ${width} passed: ${values.width})`);\n    // [/DEBUG]\n    fixStyle.width = `${values.width - (rect.width - width)}px`;\n  }\n  if (rect.height !== height) {\n    // [DEBUG]\n    console.warn(`[resizeTarget] Incorrect height: ${rect.height}` +\n      ` (expected: ${height} passed: ${values.height})`);\n    // [/DEBUG]\n    fixStyle.height = `${values.height - (rect.height - height)}px`;\n  }\n  setStyle(elmTargetBody, fixStyle, props.savedStyleTargetBody);\n}\nwindow.resizeTarget = resizeTarget; // [DEBUG/]\n\n// Trident and Edge bug, width and height are interchanged.\nfunction getDocClientWH(props) {\n  const elmTarget = props.elmTarget,\n    width = elmTarget.clientWidth, height = elmTarget.clientHeight;\n  if (IS_TRIDENT || IS_EDGE) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(props.elmTargetBody, ''),\n      wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n      direction = targetBodyCmpStyle.direction;\n    return wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'tb-lr' || wMode === 'bt-lr' ||\n        IS_EDGE && (\n          direction === 'ltr' && (wMode === 'vertical-rl' || wMode === 'vertical-lr') ||\n          direction === 'rtl' && (wMode === 'vertical-rl' || wMode === 'vertical-lr')) ?\n      {width: height, height: width} : // interchange\n      {width: width, height: height};\n  } else {\n    return {width: width, height: height};\n  }\n}\nwindow.getDocClientWH = getDocClientWH; // [DEBUG/]\n\nfunction restoreScroll(props, element) {\n\n  function scrollElement(element, isDoc, left, top) {\n    try {\n      scrollLeft(element, isDoc, props.window, left);\n      scrollTop(element, isDoc, props.window, top);\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  }\n\n  console.log('restoreScroll START'); // [DEBUG/]\n  if (element) {\n    return props.savedElementsScroll.some(elementScroll => {\n      if (elementScroll.element === element) {\n        scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n        return true;\n      }\n      return false;\n    })\n    ? (console.log('restoreScroll DONE'), true) : // [DEBUG/]\n      (console.log('restoreScroll Not in target'), false) // [DEBUG/]\n    ;\n  } else {\n    props.savedElementsScroll.forEach(elementScroll => {\n      scrollElement(elementScroll.element, elementScroll.isDoc, elementScroll.left, elementScroll.top);\n    });\n    console.log('restoreScroll DONE (All savedElementsScroll)'); // [DEBUG/]\n    return true;\n  }\n}\n\nfunction restoreAccKeys(props) {\n  props.savedElementsAccKeys.forEach(elementAccKeys => {\n    try {\n      if (elementAccKeys.tabIndex === false) {\n        elementAccKeys.element.removeAttribute('tabindex');\n      } else if (elementAccKeys.tabIndex != null) {\n        elementAccKeys.element.tabIndex = elementAccKeys.tabIndex;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n\n    try {\n      if (elementAccKeys.accessKey) {\n        elementAccKeys.element.accessKey = elementAccKeys.accessKey;\n      }\n    } catch (error) { /* Something might have been changed, and that can be ignored. */ }\n  });\n}\nwindow.restoreAccKeys = restoreAccKeys; // [DEBUG/]\n\nfunction avoidFocus(props, element) {\n  console.log('avoidFocus START'); // [DEBUG/]\n  if (props.isDoc && element !== element.ownerDocument.body &&\n        !(props.elmOverlay.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY) ||\n      !props.isDoc && (element === props.elmTargetBody ||\n        props.elmTargetBody.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY)) {\n    if (element.blur) { // Trident and Edge don't support SVG#blur\n      element.blur();\n    } else {\n      element.ownerDocument.body.focus();\n    }\n    console.log('avoidFocus DONE'); // [DEBUG/]\n    return true;\n  }\n  console.log('avoidFocus Not in target'); // [DEBUG/]\n  return false;\n}\n\n// Selection.containsNode polyfill for Trident\nfunction selContainsNode(selection, node, partialContainment) {\n  const nodeRange = node.ownerDocument.createRange(),\n    iLen = selection.rangeCount;\n  nodeRange.selectNodeContents(node);\n  for (let i = 0; i < iLen; i++) {\n    const selRange = selection.getRangeAt(i);\n    // Edge bug (Issue #7321753); getRangeAt returns empty (collapsed) range\n    // NOTE: It can not recover when the selection has multiple ranges.\n    if (!selRange.toString().length && selection.toString().length && iLen === 1) {\n      console.log('Edge bug (Issue #7321753)'); // [DEBUG/]\n      selRange.setStart(selection.anchorNode, selection.anchorOffset);\n      selRange.setEnd(selection.focusNode, selection.focusOffset);\n      // Edge doesn't throw when end is upper than start.\n      if (selRange.toString() !== selection.toString()) {\n        selRange.setStart(selection.focusNode, selection.focusOffset);\n        selRange.setEnd(selection.anchorNode, selection.anchorOffset);\n        if (selRange.toString() !== selection.toString()) {\n          throw new Error('Edge bug (Issue #7321753); Couldn\\'t recover');\n        }\n      }\n    }\n    if (partialContainment ?\n        selRange.compareBoundaryPoints(Range.START_TO_END, nodeRange) >= 0 &&\n        selRange.compareBoundaryPoints(Range.END_TO_START, nodeRange) <= 0 :\n        selRange.compareBoundaryPoints(Range.START_TO_START, nodeRange) < 0 &&\n        selRange.compareBoundaryPoints(Range.END_TO_END, nodeRange) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\nwindow.selContainsNode = selContainsNode; // [DEBUG/]\n\n/**\n * Indicates whether the selection is part of the node or not.\n * @param {Node} node - Target node.\n * @param {Selection} selection - The parsed selection.\n * @returns {boolean} `true` if all ranges of `selection` are part of `node`.\n */\nfunction nodeContainsSel(node, selection) {\n  const nodeRange = node.ownerDocument.createRange(),\n    iLen = selection.rangeCount;\n  nodeRange.selectNode(node);\n  for (let i = 0; i < iLen; i++) {\n    const selRange = selection.getRangeAt(i);\n    if (selRange.compareBoundaryPoints(Range.START_TO_START, nodeRange) < 0 ||\n        selRange.compareBoundaryPoints(Range.END_TO_END, nodeRange) > 0) {\n      return false;\n    }\n  }\n  return true;\n}\nwindow.nodeContainsSel = nodeContainsSel; // [DEBUG/]\n\nfunction avoidSelect(props) {\n  console.log('avoidSelect START'); // [DEBUG/]\n  const selection = ('getSelection' in window ? props.window : props.document).getSelection();\n  if (selection.rangeCount && (props.isDoc ?\n      !nodeContainsSel(props.elmOverlayBody, selection) :\n      (selection.containsNode ?\n        selection.containsNode(props.elmTargetBody, true) :\n        selContainsNode(selection, props.elmTargetBody, true))\n      )) {\n    selection.removeAllRanges();\n    props.document.body.focus();\n    // Trident bug? It seems that `focus()` makes selection again.\n    if (selection.rangeCount > 0) { selection.removeAllRanges(); }\n    console.log('avoidSelect DONE'); // [DEBUG/]\n    return true;\n  }\n  console.log('avoidSelect NO selection'); // [DEBUG/]\n  return false;\n}\n\nfunction barLeft(wMode, direction) {\n  const svgSpec = wMode === 'rl-tb' || wMode === 'tb-rl' || wMode === 'bt-rl' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'horizontal-tb' || wMode === 'vertical-rl') ||\n      direction === 'ltr' && wMode === 'vertical-rl');\n}\nwindow.barLeft = barLeft; // [DEBUG/]\n\nfunction barTop(wMode, direction) {\n  const svgSpec = wMode === 'bt-rl' || wMode === 'bt-lr' || wMode === 'lr-bt' || wMode === 'rl-bt';\n  return IS_TRIDENT && svgSpec ||\n    IS_EDGE && (svgSpec ||\n      direction === 'rtl' && (wMode === 'vertical-lr' || wMode === 'vertical-rl'));\n}\nwindow.barTop = barTop; // [DEBUG/]\n\nfunction disableDocBars(props) {\n  const elmTarget = props.elmTarget, elmTargetBody = props.elmTargetBody,\n    targetBodyRect = elmTargetBody.getBoundingClientRect();\n\n  // Get size of each scrollbar.\n  let clientWH = getDocClientWH(props),\n    barV = -clientWH.width, barH = -clientWH.height; // elmTarget.clientWidth/clientHeight\n  setStyle(elmTarget, {overflow: 'hidden'}, props.savedStyleTarget);\n  clientWH = getDocClientWH(props);\n  barV += clientWH.width;\n  barH += clientWH.height;\n\n  if (barV || barH) {\n    const targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, '');\n    let propV, propH;\n    // There is no way to get absolute position of document.\n    // We need distance between the document and its window, or a method like `element.screenX`\n    // that gets absolute position of an element.\n    // For the moment, Trident and Edge make a scrollbar at the left/top side when RTL document\n    // or CJK vertical document is rendered.\n    if (IS_TRIDENT || IS_EDGE) {\n      const wMode = targetBodyCmpStyle.writingMode || targetBodyCmpStyle['writing-mode'], // Trident bug\n        direction = targetBodyCmpStyle.direction;\n      if (barV) { propV = barLeft(wMode, direction) ? 'marginLeft' : 'marginRight'; }\n      if (barH) { propH = barTop(wMode, direction) ? 'marginTop' : 'marginBottom'; }\n    } else {\n      if (barV) { propV = 'marginRight'; }\n      if (barH) { propH = 'marginBottom'; }\n    }\n\n    const addStyle = {};\n    if (barV) { addStyle[propV] = `${parseFloat(targetBodyCmpStyle[propV]) + barV}px`; }\n    if (barH) { addStyle[propH] = `${parseFloat(targetBodyCmpStyle[propH]) + barH}px`; }\n    setStyle(elmTargetBody, addStyle, props.savedStyleTargetBody);\n    resizeTarget(props, targetBodyRect.width, targetBodyRect.height);\n\n    // `overflow: 'hidden'` might change scroll.\n    restoreScroll(props, elmTarget);\n    return true;\n  } else {\n    restoreStyle(elmTarget, props.savedStyleTarget, ['overflow']);\n    return false;\n  }\n}\nwindow.disableDocBars = disableDocBars; // [DEBUG/]\n\nfunction position(props, targetBodyBBox) {\n  const elmTargetBody = props.elmTargetBody,\n    targetBodyCmpStyle = props.window.getComputedStyle(elmTargetBody, ''),\n\n    elmOverlay = props.elmOverlay,\n    overlayCmpStyle = props.window.getComputedStyle(elmOverlay, ''),\n    overlayBBox = getBBox(elmOverlay, props.window),\n\n    borders = ['Top', 'Right', 'Bottom', 'Left'].reduce((borders, prop) => {\n      borders[prop.toLowerCase()] = parseFloat(targetBodyCmpStyle[`border${prop}Width`]);\n      return borders;\n    }, {}),\n\n    // Get distance between document and origin of `elmOverlay`.\n    offset = {left: overlayBBox.left - parseFloat(overlayCmpStyle.left),\n      top: overlayBBox.top - parseFloat(overlayCmpStyle.top)},\n\n    style = {\n      left: `${targetBodyBBox.left - offset.left + borders.left}px`,\n      top: `${targetBodyBBox.top - offset.top + borders.top}px`,\n      width: `${targetBodyBBox.width - borders.left - borders.right}px`,\n      height: `${targetBodyBBox.height - borders.top - borders.bottom}px`\n    },\n    reValue = /^([\\d\\.]+)(px|%)$/;\n\n  // border-radius\n  [\n    {prop: 'TopLeft', hBorder: 'left', vBorder: 'top'},\n    {prop: 'TopRight', hBorder: 'right', vBorder: 'top'},\n    {prop: 'BottomRight', hBorder: 'right', vBorder: 'bottom'},\n    {prop: 'BottomLeft', hBorder: 'left', vBorder: 'bottom'}\n  ].forEach(corner => {\n    const prop = CSSPrefix.getName(`border${corner.prop}Radius`),\n      values = targetBodyCmpStyle[prop].split(' ');\n    let h = values[0], v = values[1] || values[0],\n      matches = reValue.exec(h);\n    h = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.width / 100;\n    matches = reValue.exec(v);\n    v = !matches ? 0 :\n      matches[2] === 'px' ? +matches[1] :\n      matches[1] * targetBodyBBox.height / 100;\n\n    h -= borders[corner.hBorder];\n    v -= borders[corner.vBorder];\n    if (h > 0 && v > 0) {\n      style[prop] = `${h}px ${v}px`;\n    }\n  });\n\n  setStyle(elmOverlay, style);\n  props.targetBodyBBox = targetBodyBBox;\n}\nwindow.position = position; // [DEBUG/]\n\nfunction getTargetElements(props) {\n  const elmTargetBody = props.elmTargetBody,\n    elmOverlay = props.elmOverlay,\n    targetElements = [props.elmTarget];\n  if (props.isDoc) {\n    targetElements.push(elmTargetBody);\n    Array.prototype.slice.call(elmTargetBody.childNodes).forEach(childNode => {\n      if (childNode.nodeType === Node.ELEMENT_NODE &&\n          childNode !== elmOverlay &&\n          !mClassList(childNode).contains(STYLE_CLASS) &&\n          childNode.id !== FACE_DEFS_ELEMENT_ID) {\n        targetElements.push(childNode);\n        Array.prototype.push.apply(targetElements, childNode.querySelectorAll('*'));\n      }\n    });\n  } else {\n    Array.prototype.push.apply(targetElements, elmTargetBody.querySelectorAll('*'));\n  }\n  return targetElements;\n}\n\nfunction finishShowing(props) {\n  // blur\n  props.filterElements = null;\n  if (props.options.blur !== false) {\n    const propName = CSSPrefix.getName('filter'),\n      propValue = CSSPrefix.getValue('filter', `blur(${props.options.blur}px)`);\n    if (propValue) { // undefined if no propName\n      // Array of {element: element, savedStyle: {}}\n      const filterElements = props.isDoc ?\n        Array.prototype.slice.call(props.elmTargetBody.childNodes).filter(childNode =>\n            childNode.nodeType === Node.ELEMENT_NODE &&\n            childNode !== props.elmOverlay &&\n            !mClassList(childNode).contains(STYLE_CLASS) &&\n            childNode.id !== FACE_DEFS_ELEMENT_ID)\n          .map(element => ({element: element, savedStyle: {}})) :\n        [{element: props.elmTargetBody, savedStyle: {}}];\n\n      filterElements.forEach(filterElement => {\n        const style = {}; // new object for each element.\n        style[propName] = propValue;\n        setStyle(filterElement.element, style, filterElement.savedStyle);\n      });\n      props.filterElements = filterElements;\n    }\n  }\n\n  props.state = STATE_SHOWN;\n  if (props.options.onShow) { props.options.onShow.call(props.ins); }\n}\n\nfunction finishHiding(props\n    , sync\n    ) {\n  mClassList(props.elmOverlay).add(STYLE_CLASS_HIDE);\n\n  restoreStyle(props.elmTarget, props.savedStyleTarget);\n  restoreStyle(props.elmTargetBody, props.savedStyleTargetBody);\n  props.savedStyleTarget = {};\n  props.savedStyleTargetBody = {};\n\n  restoreAccKeys(props);\n  props.savedElementsAccKeys = null;\n\n  // props.state must be STATE_HIDDEN for below\n  props.state = STATE_HIDDEN;\n\n  if (\n      !sync &&\n      props.isDoc && props.activeElement) {\n    props.activeElement.focus();\n  }\n  props.activeElement = null;\n\n  // Since `focus()` might scroll, do this after `focus()` and reflow.\n  function restoreAndFinish() {\n    restoreScroll(props);\n    props.savedElementsScroll = null;\n\n    if (props.options.onHide) { props.options.onHide.call(props.ins); }\n  }\n\n  if (sync) {\n    restoreAndFinish();\n  } else {\n    setTimeout(restoreAndFinish, 0);\n  }\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction show(props, force) {\n\n  function getScroll(elements, fromDoc) {\n\n    function elementCanScroll(element, isDoc) {\n      const cmpStyle = props.window.getComputedStyle(element, ''),\n        tagName = element.nodeName.toLowerCase();\n      return (cmpStyle.overflow === 'scroll' || cmpStyle.overflow === 'auto' ||\n          cmpStyle.overflowX === 'scroll' || cmpStyle.overflowX === 'auto' ||\n          cmpStyle.overflowY === 'scroll' || cmpStyle.overflowY === 'auto') ||\n        // document with `visible` might make scrollbars.\n        isDoc && (cmpStyle.overflow === 'visible' ||\n          cmpStyle.overflowX === 'visible' || cmpStyle.overflowY === 'visible') ||\n        // `overflow` of these differs depending on browser.\n        !isDoc && (tagName === 'textarea' || tagName === 'select');\n    }\n\n    const elementsScroll = [];\n    elements.forEach((element, i) => {\n      const isDoc = fromDoc && i === 0;\n      if (elementCanScroll(element, isDoc)) {\n        elementsScroll.push({\n          element: element,\n          isDoc: isDoc,\n          left: scrollLeft(element, isDoc, props.window),\n          top: scrollTop(element, isDoc, props.window)\n        });\n      }\n    });\n    return elementsScroll;\n  }\n\n  function disableAccKeys(elements, fromDoc) {\n    const savedElementsAccKeys = [];\n    elements.forEach((element, i) => {\n      if (fromDoc && i === 0) { return; }\n\n      const elementAccKeys = {},\n        tabIndex = element.tabIndex;\n      // In Trident and Edge, `tabIndex` of all elements are `0` or something even if the element is not focusable.\n      if (tabIndex !== -1) {\n        elementAccKeys.element = element;\n        elementAccKeys.tabIndex = element.hasAttribute('tabindex') ? tabIndex : false;\n        element.tabIndex = -1;\n      }\n\n      const accessKey = element.accessKey;\n      if (accessKey) {\n        elementAccKeys.element = element;\n        elementAccKeys.accessKey = accessKey;\n        element.accessKey = '';\n      }\n\n      if (elementAccKeys.element) {\n        savedElementsAccKeys.push(elementAccKeys);\n      }\n    });\n    return savedElementsAccKeys;\n  }\n\n  if (props.state === STATE_SHOWN ||\n      props.state === STATE_SHOWING && !force ||\n      props.state !== STATE_SHOWING &&\n        props.options.onBeforeShow && props.options.onBeforeShow.call(props.ins) === false) {\n    return;\n  }\n\n  const elmOverlay = props.elmOverlay,\n    elmOverlayClassList = mClassList(elmOverlay);\n  if (props.state === STATE_HIDDEN) {\n    const targetElements = getTargetElements(props);\n    window.targetElements = targetElements; // [DEBUG/]\n\n    elmOverlayClassList.remove(STYLE_CLASS_HIDE); // Before `getBoundingClientRect` (`position`).\n    if (!props.isDoc) {\n      const elmTargetBody = props.elmTargetBody;\n      if (props.window.getComputedStyle(elmTargetBody, '').display === 'inline') {\n        setStyle(elmTargetBody, {display: 'inline-block'}, props.savedStyleTargetBody);\n      }\n      position(props, getBBox(elmTargetBody, props.window));\n    }\n\n    props.savedElementsScroll = getScroll(targetElements, props.isDoc);\n    props.disabledDocBars = false;\n    // savedElementsScroll is empty when document is disconnected.\n    if (props.isDoc && props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n      props.disabledDocBars = disableDocBars(props);\n    }\n    props.savedElementsAccKeys = disableAccKeys(targetElements, props.isDoc);\n    props.activeElement = props.document.activeElement;\n    if (props.activeElement) { avoidFocus(props, props.activeElement); }\n    avoidSelect(props);\n    elmOverlay.offsetWidth; /* force reflow */ // eslint-disable-line no-unused-expressions\n\n    if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n  }\n\n  elmOverlayClassList.add(STYLE_CLASS_SHOW).toggle(STYLE_CLASS_FORCE, !!force);\n  if (force) {\n    finishShowing(props);\n  } else {\n    props.state = STATE_SHOWING;\n  }\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {boolean} [force] - Skip effect.\n * @returns {void}\n */\nfunction hide(props, force\n    , sync\n    ) {\n  if (props.state === STATE_HIDDEN ||\n      props.state === STATE_HIDING && !force ||\n      props.state !== STATE_HIDING &&\n        props.options.onBeforeHide && props.options.onBeforeHide.call(props.ins) === false) {\n    return;\n  }\n\n  // blur\n  if (props.filterElements) {\n    props.filterElements.forEach(\n      filterElement => { restoreStyle(filterElement.element, filterElement.savedStyle); });\n    props.filterElements = null;\n  }\n\n  mClassList(props.elmOverlay).remove(STYLE_CLASS_SHOW).toggle(STYLE_CLASS_FORCE, !!force);\n  if (force) {\n    finishHiding(props\n      , sync\n      );\n  } else {\n    props.state = STATE_HIDING;\n  }\n}\n\n/**\n * @param {props} props - `props` of instance.\n * @param {Object} newOptions - New options.\n * @returns {void}\n */\nfunction setOptions(props, newOptions) {\n  const options = props.options;\n\n  // face\n  if (newOptions.hasOwnProperty('face') &&\n      (newOptions.face == null ? void 0 : newOptions.face) !== options.face) {\n    const elmOverlayBody = props.elmOverlayBody;\n    // Clear\n    while (elmOverlayBody.firstChild) { elmOverlayBody.removeChild(elmOverlayBody.firstChild); }\n    if (newOptions.face === false) { // No face\n      options.face = false;\n    } else if (newOptions.face && newOptions.face.nodeType === Node.ELEMENT_NODE) { // Specific face\n      options.face = newOptions.face;\n      elmOverlayBody.appendChild(newOptions.face);\n    } else if (newOptions.face == null) { // Builtin face\n      options.face = void 0;\n    }\n  }\n\n  // duration\n  if (isFinite(newOptions.duration) && newOptions.duration !== options.duration) {\n    options.duration = newOptions.duration;\n    props.elmOverlay.style[CSSPrefix.getName('transitionDuration')] =\n      newOptions.duration === DURATION ? '' : `${newOptions.duration}ms`;\n  }\n\n  // blur\n  if (isFinite(newOptions.blur) || newOptions.blur === false) {\n    options.blur = newOptions.blur;\n  }\n\n  // style\n  if (isObject(newOptions.style)) {\n    setStyle(props.elmOverlay, newOptions.style);\n  }\n\n  // Event listeners\n  ['onShow', 'onHide', 'onBeforeShow', 'onBeforeHide', 'onPosition'].forEach(option => {\n    if (typeof newOptions[option] === 'function') {\n      options[option] = newOptions[option];\n    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {\n      options[option] = void 0;\n    }\n  });\n}\n\nfunction scroll(props, target, dirLeft, value) {\n  let isDoc, curValue;\n\n  if (target) {\n    const targetElements = getTargetElements(props);\n    if (targetElements.indexOf(target) === -1) { return curValue; } // return undefined\n    isDoc = target.nodeName.toLowerCase() === 'html';\n  } else {\n    target = props.elmTarget;\n    isDoc = props.isDoc;\n  }\n\n  const elementScroll = value != null && props.savedElementsScroll &&\n    (props.savedElementsScroll.find ?\n      props.savedElementsScroll.find(elementScroll => elementScroll.element === target) :\n      (elementsScroll => {\n        let found;\n        elementsScroll.some(elementScroll => {\n          if (elementScroll.element === target) {\n            found = elementScroll;\n            return true;\n          }\n          return false;\n        });\n        return found;\n      })(props.savedElementsScroll));\n\n  curValue = (dirLeft ? scrollLeft : scrollTop)(target, isDoc, props.window, value);\n  if (elementScroll) { elementScroll[dirLeft ? 'left' : 'top'] = curValue; }\n  return curValue;\n}\n\nclass PlainOverlay {\n  /**\n   * Create a `PlainOverlay` instance.\n   * @param {Element} [target] - Target element.\n   * @param {Object} [options] - Options.\n   */\n  constructor(target, options) {\n\n    /**\n     * @param {Object} [target] - Element or something that is checked.\n     * @returns {(Element|null)} Valid element or null.\n     */\n    function getTarget(target) {\n      let validElement;\n      if (!target) {\n        validElement = document.documentElement; // documentElement of current document\n      } else if (target.nodeType) {\n        if (target.nodeType === Node.DOCUMENT_NODE) {\n          validElement = target.documentElement; // documentElement of target document\n        } else if (target.nodeType === Node.ELEMENT_NODE) {\n          const nodeName = target.nodeName.toLowerCase();\n          validElement =\n            nodeName === 'body' ? target.ownerDocument.documentElement : // documentElement of target body\n            nodeName === 'iframe' || nodeName === 'frame' ?\n              target.contentDocument.documentElement : // documentElement of target frame\n            target;\n        }\n        if (!validElement) { throw new Error('This element is not accepted.'); }\n      } else if (target === target.window) {\n        validElement = target.document.documentElement; // documentElement of target window\n      }\n      return validElement;\n    }\n\n    const props = {\n      ins: this,\n      options: { // Initial options (not default)\n        face: false, // Initial state.\n        duration: DURATION, // Initial state.\n        blur: false // Initial state.\n      },\n      state: STATE_HIDDEN,\n      savedStyleTarget: {},\n      savedStyleTargetBody: {}\n    };\n\n    Object.defineProperty(this, '_id', {value: ++insId});\n    props._id = this._id;\n    insProps[this._id] = props;\n\n    if (arguments.length === 1) {\n      if (!(props.elmTarget = getTarget(target))) {\n        if (!isObject(target)) { throw new Error('Invalid argument.'); }\n        props.elmTarget = document.documentElement; // documentElement of current document\n        options = target;\n      }\n    } else if (!(props.elmTarget = getTarget(target))) {\n      throw new Error('This target is not accepted.');\n    }\n    if (!options) {\n      options = {};\n    } else if (!isObject(options)) {\n      throw new Error('Invalid options.');\n    }\n\n    props.isDoc = props.elmTarget.nodeName.toLowerCase() === 'html';\n    const elmDocument = props.document = props.elmTarget.ownerDocument;\n    props.window = elmDocument.defaultView;\n    const elmTargetBody = props.elmTargetBody = props.isDoc ? elmDocument.body : props.elmTarget;\n\n    // Setup window\n    if (!elmDocument.getElementById(STYLE_ELEMENT_ID)) {\n      const head = elmDocument.getElementsByTagName('head')[0] || elmDocument.documentElement,\n        sheet = head.insertBefore(elmDocument.createElement('style'), head.firstChild);\n      sheet.type = 'text/css';\n      sheet.id = STYLE_ELEMENT_ID;\n      sheet.textContent = CSS_TEXT;\n      if (IS_TRIDENT || IS_EDGE) { forceReflow(sheet); } // Trident bug\n    }\n\n    // elmOverlay\n    const elmOverlay = props.elmOverlay = elmDocument.createElement('div'),\n      elmOverlayClassList = mClassList(elmOverlay);\n    elmOverlayClassList.add(STYLE_CLASS, STYLE_CLASS_HIDE);\n    if (props.isDoc) { elmOverlayClassList.add(STYLE_CLASS_DOC); }\n\n    (listener => {\n      ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'otransitionend'].forEach(type => {\n        elmOverlay.addEventListener(type, listener, true);\n      });\n    })(event => {\n      if (event.target === elmOverlay && event.propertyName === 'opacity') {\n        if (props.state === STATE_SHOWING) {\n          finishShowing(props);\n        } else if (props.state === STATE_HIDING) {\n          finishHiding(props);\n        }\n      }\n    });\n\n    (props.isDoc ? props.window : elmTargetBody).addEventListener('scroll', event => {\n      const target = event.target;\n      if (props.state !== STATE_HIDDEN &&\n          restoreScroll(props,\n            props.isDoc &&\n                (target === props.window || target === props.document || target === props.elmTargetBody) ?\n              props.elmTarget : target)) {\n        console.log('avoidScroll'); // [DEBUG/]\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    elmTargetBody.addEventListener('focus', event => {\n      if (props.state !== STATE_HIDDEN && avoidFocus(props, event.target)) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    (listener => { // simulation \"text-select\" event\n      ['keyup', 'mouseup'].forEach(type => {\n        // To listen to keydown in the target and keyup in outside, it is window, not `elmTargetBody`.\n        props.window.addEventListener(type, listener, true);\n      });\n    })(event => {\n      if (props.state !== STATE_HIDDEN && avoidSelect(props)) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    });\n\n    // Gecko bug, multiple calling (parallel) by `requestAnimationFrame`.\n    props.resizing = false;\n    props.window.addEventListener('resize', AnimEvent.add(() => {\n      if (props.resizing) {\n        console.log('`resize` event listener is already running.'); // [DEBUG/]\n        return;\n      }\n      props.resizing = true;\n      if (props.state !== STATE_HIDDEN) {\n        if (props.isDoc) {\n          if (props.savedElementsScroll.length && props.savedElementsScroll[0].isDoc) {\n            if (props.disabledDocBars) { // Restore DocBars\n              console.log('Restore DocBars'); // [DEBUG/]\n              restoreStyle(props.elmTarget, props.savedStyleTarget, ['overflow']);\n              restoreStyle(elmTargetBody, props.savedStyleTargetBody,\n                ['marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'width', 'height']);\n            }\n            console.log('disableDocBars'); // [DEBUG/]\n            props.disabledDocBars = disableDocBars(props);\n          }\n        } else {\n          const bBox = getBBox(elmTargetBody, props.window),\n            lastBBox = props.targetBodyBBox;\n          if (bBox.left !== lastBBox.left || bBox.top !== lastBBox.top ||\n              bBox.width !== lastBBox.width || bBox.height !== lastBBox.height) {\n            console.log('Update position'); // [DEBUG/]\n            position(props, bBox);\n          }\n        }\n        if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n      }\n      props.resizing = false;\n    }), true);\n\n    // Avoid scroll on touch device\n    elmOverlay.addEventListener('touchmove', event => {\n      if (props.state !== STATE_HIDDEN) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      }\n    }, true);\n\n    // elmOverlayBody\n    (props.elmOverlayBody = elmOverlay.appendChild(elmDocument.createElement('div')))\n      .className = STYLE_CLASS_BODY;\n\n    elmDocument.body.appendChild(elmOverlay);\n\n    // Default options\n    if (!options.hasOwnProperty('face')) { options.face = null; }\n\n    setOptions(props, options);\n  }\n\n  /**\n   * @param {Object} options - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  setOptions(options) {\n    if (isObject(options)) {\n      setOptions(insProps[this._id], options);\n    }\n    return this;\n  }\n\n  /**\n   * Show the overlay.\n   * @param {boolean} [force] - Show it immediately without effect.\n   * @param {Object} [options] - New options.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  show(force, options) {\n    if (arguments.length < 2 && typeof force !== 'boolean') {\n      options = force;\n      force = false;\n    }\n\n    this.setOptions(options);\n    show(insProps[this._id], force);\n    return this;\n  }\n\n  /**\n   * Hide the overlay.\n   * @param {boolean} [force] - Hide it immediately without effect.\n   * @returns {PlainOverlay} Current instance itself.\n   */\n  hide(force\n      , sync\n      ) {\n    hide(insProps[this._id], force\n      , sync\n      );\n    return this;\n  }\n\n  scrollLeft(value, target) {\n    return scroll(insProps[this._id], target, true, value);\n  }\n\n  scrollTop(value, target) {\n    return scroll(insProps[this._id], target, false, value);\n  }\n\n  position() {\n    const props = insProps[this._id];\n    if (props.state !== STATE_HIDDEN) {\n      if (!props.isDoc) { position(props, getBBox(props.elmTargetBody, props.window)); }\n      if (props.options.onPosition) { props.options.onPosition.call(props.ins); }\n    }\n    return this;\n  }\n\n  get state() {\n    return insProps[this._id].state;\n  }\n\n  get style() {\n    return insProps[this._id].elmOverlay.style;\n  }\n\n  get face() { return insProps[this._id].options.face; }\n  set face(value) { setOptions(insProps[this._id], {face: value}); }\n\n  get duration() { return insProps[this._id].options.duration; }\n  set duration(value) { setOptions(insProps[this._id], {duration: value}); }\n\n  get blur() { return insProps[this._id].options.blur; }\n  set blur(value) { setOptions(insProps[this._id], {blur: value}); }\n\n  get onShow() { return insProps[this._id].options.onShow; }\n  set onShow(value) { setOptions(insProps[this._id], {onShow: value}); }\n\n  get onHide() { return insProps[this._id].options.onHide; }\n  set onHide(value) { setOptions(insProps[this._id], {onHide: value}); }\n\n  get onBeforeShow() { return insProps[this._id].options.onBeforeShow; }\n  set onBeforeShow(value) { setOptions(insProps[this._id], {onBeforeShow: value}); }\n\n  get onBeforeHide() { return insProps[this._id].options.onBeforeHide; }\n  set onBeforeHide(value) { setOptions(insProps[this._id], {onBeforeHide: value}); }\n\n  get onPosition() { return insProps[this._id].options.onPosition; }\n  set onPosition(value) { setOptions(insProps[this._id], {onPosition: value}); }\n\n  static show(target, options) {\n    return (new PlainOverlay(target, options)).show();\n  }\n\n  static get STATE_HIDDEN() { return STATE_HIDDEN; }\n  static get STATE_SHOWING() { return STATE_SHOWING; }\n  static get STATE_SHOWN() { return STATE_SHOWN; }\n  static get STATE_HIDING() { return STATE_HIDING; }\n}\n\nPlainOverlay.limit = true;\n\nexport default PlainOverlay;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/plain-overlay/src/plain-overlay.js","/*\n * AnimEvent\n * https://github.com/anseki/anim-event\n *\n * Copyright (c) 2017 anseki\n * Licensed under the MIT license.\n */\n\nconst\n  MSPF = 1000 / 60, // ms/frame (FPS: 60)\n  KEEP_LOOP = 500,\n\n  /**\n   * @typedef {Object} task\n   * @property {Event} event\n   * @property {function} listener\n   */\n\n  /** @type {task[]} */\n  tasks = [];\n\nlet\n  requestAnim = window.requestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    (callback => setTimeout(callback, MSPF)),\n  cancelAnim = window.cancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    (requestID => clearTimeout(requestID)),\n\n  requestID, lastFrameTime = Date.now();\n\n// [DEBUG]\nconst requestAnimSave = requestAnim, cancelAnimSave = cancelAnim;\nwindow.AnimEventByTimer = byTimer => {\n  if (byTimer) {\n    requestAnim = callback => setTimeout(callback, MSPF);\n    cancelAnim = requestID => clearTimeout(requestID);\n  } else {\n    requestAnim = requestAnimSave;\n    cancelAnim = cancelAnimSave;\n  }\n};\n// [/DEBUG]\n\nfunction step() {\n  let called, next;\n\n  if (requestID) {\n    cancelAnim.call(window, requestID);\n    requestID = null;\n  }\n\n  tasks.forEach(task => {\n    if (task.event) {\n      task.listener(task.event);\n      task.event = null;\n      called = true;\n    }\n  });\n\n  if (called) {\n    lastFrameTime = Date.now();\n    next = true;\n  } else if (Date.now() - lastFrameTime < KEEP_LOOP) { // Go on for a while\n    next = true;\n  }\n  if (next) { requestID = requestAnim.call(window, step); }\n}\n\nfunction indexOfTasks(listener) {\n  let index = -1;\n  tasks.some((task, i) => {\n    if (task.listener === listener) {\n      index = i;\n      return true;\n    }\n    return false;\n  });\n  return index;\n}\n\nconst AnimEvent = {\n  /**\n   * @param {function} listener - An event listener.\n   * @returns {(function|null)} - A wrapped event listener.\n   */\n  add: function(listener) {\n    let task;\n    if (indexOfTasks(listener) === -1) {\n      tasks.push((task = {listener: listener}));\n      return event => {\n        task.event = event;\n        if (!requestID) { step(); }\n      };\n    } else {\n      return null;\n    }\n  },\n\n  remove: function(listener) {\n    let iRemove;\n    if ((iRemove = indexOfTasks(listener)) > -1) {\n      tasks.splice(iRemove, 1);\n      if (!tasks.length && requestID) {\n        cancelAnim.call(window, requestID);\n        requestID = null;\n      }\n    }\n  }\n};\n\nexport default AnimEvent;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/anim-event/src/anim-event.js","module.exports = \".plainoverlay{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainoverlay{position:absolute;left:0;top:0;overflow:hidden;background-color:rgba(136,136,136,0.6);cursor:wait;z-index:9000;-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:200ms;-moz-transition-duration:200ms;-o-transition-duration:200ms;transition-duration:200ms;-webkit-transition-timing-function:linear;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;transition-timing-function:linear;opacity:0}.plainoverlay.plainoverlay-show{opacity:1}.plainoverlay.plainoverlay-force{-webkit-transition-property:none;-moz-transition-property:none;-o-transition-property:none;transition-property:none}.plainoverlay.plainoverlay-hide{display:none}.plainoverlay.plainoverlay-doc{position:fixed;left:-200px;top:-200px;overflow:visible;padding:200px;width:100vw;height:100vh}.plainoverlay-body{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.plainoverlay.plainoverlay-doc .plainoverlay-body{width:100vw;height:100vh}\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/plain-overlay/src/default.scss\n// module id = 5\n// module chunks = 0","module.exports = \".plainmodal .plainmodal-overlay{-webkit-tap-highlight-color:transparent;transform:translateZ(0);box-shadow:0 0 1px transparent}.plainmodal.plainoverlay{background-color:transparent;cursor:auto}.plainmodal .plainmodal-content{z-index:9000}.plainmodal .plainmodal-overlay{width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(136,136,136,0.6);-webkit-transition-property:opacity;-moz-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:200ms;-moz-transition-duration:200ms;-o-transition-duration:200ms;transition-duration:200ms;-webkit-transition-timing-function:linear;-moz-transition-timing-function:linear;-o-transition-timing-function:linear;transition-timing-function:linear;opacity:1}.plainmodal .plainmodal-overlay.plainmodal-overlay-hide{opacity:0}.plainmodal .plainmodal-overlay.plainmodal-overlay-force{-webkit-transition-property:none;-moz-transition-property:none;-o-transition-property:none;transition-property:none}\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/default.scss\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}